/* WARNING: This file was automatically generated by lua2c. */

#ifdef __cplusplus
extern "C" {
#endif
#include <lua.h>
#include <lauxlib.h>
#include <lualib.h>
#ifdef __cplusplus
}
#endif
#include <stdio.h>
#include <stdlib.h>


#include <string.h>


/* pushes new closure table onto the stack, using closure table at
 * given index as its parent */
static void lc_newclosuretable(lua_State * L, int idx) {

  lua_newtable(L);
  lua_pushvalue(L,idx);
  lua_rawseti(L,-2,0);


}

#include <assert.h>

/* name: is_instance
 * function(obj, ...) */
static int lcf1_is_instance (lua_State * L) {
  enum { lc_nformalargs = 1 };
  if ((lua_gettop(L) < lc_nformalargs)) {
    lua_settop(L,lc_nformalargs);
  }
  const int lc_nactualargs = lua_gettop(L);
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  
  /* local class_list = {...} */
  lua_createtable(L,1,0);
  const int lc29 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  while ((lua_gettop(L) > lc29)) {
    lua_rawseti(L,lc29,(0 + (lua_gettop(L) - lc29)));
  }
  assert(lua_gettop(L) - lc_nextra == 2);
  
  /* for _, cls in ipairs(class_list) do
   * internal: local f, s, var = explist */
  enum { lc30 = 2 };
  lua_getfield(L,LUA_ENVIRONINDEX,"ipairs");
  lua_pushvalue(L,(2 + lc_nextra));
  lua_call(L,1,3);
  while (1) {
    
    /* internal: local var_1, ..., var_n = f(s, var)
     *           if var_1 == nil then break end
     *           var = var_1 */
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_call(L,2,2);
    if (lua_isnil(L,-2)) {
      break;
    }
    lua_pushvalue(L,-2);
    lua_replace(L,-4);
    
    /* internal: local _ with idx 6
     * internal: local cls with idx 7 */
    
    
    /* if type(cls) == 'string' then */
    enum { lc31 = 7 };
    lua_getfield(L,LUA_ENVIRONINDEX,"type");
    lua_pushvalue(L,(7 + lc_nextra));
    lua_call(L,1,1);
    lua_pushliteral(L,"string");
    const int lc32 = lua_equal(L,-2,-1);
    lua_pop(L,2);
    lua_pushboolean(L,lc32);
    const int lc33 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc33) {
      
      /* if type(obj) == cls then */
      enum { lc34 = 7 };
      lua_getfield(L,LUA_ENVIRONINDEX,"type");
      lua_pushvalue(L,1);
      lua_call(L,1,1);
      const int lc35 = lua_equal(L,-1,(7 + lc_nextra));
      lua_pop(L,1);
      lua_pushboolean(L,lc35);
      const int lc36 = lua_toboolean(L,-1);
      lua_pop(L,1);
      if (lc36) {
        
        /* return true */
        lua_pushboolean(L,1);
        return 1;
        assert(lua_gettop(L) - lc_nextra == 7);
      }
      lua_settop(L,(lc34 + lc_nextra));
      assert(lua_gettop(L) - lc_nextra == 7);
    }
    else {
      
      /* else
       * class = class.__name */
      lua_getfield(L,LUA_ENVIRONINDEX,"class");
      lua_pushliteral(L,"__name");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_setfield(L,LUA_ENVIRONINDEX,"class");
      assert(lua_gettop(L) - lc_nextra == 7);
    }
    lua_settop(L,(lc31 + lc_nextra));
    assert(lua_gettop(L) - lc_nextra == 7);
    
    /* if type(obj) == 'table' then */
    enum { lc37 = 7 };
    lua_getfield(L,LUA_ENVIRONINDEX,"type");
    lua_pushvalue(L,1);
    lua_call(L,1,1);
    lua_pushliteral(L,"table");
    const int lc38 = lua_equal(L,-2,-1);
    lua_pop(L,2);
    lua_pushboolean(L,lc38);
    const int lc39 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc39) {
      
      /* local obj_cls = obj.__class */
      lua_pushliteral(L,"__class");
      lua_gettable(L,1);
      assert(lua_gettop(L) - lc_nextra == 8);
      
      /* while obj_cls do */
      enum { lc40 = 8 };
      while (1) {
        if (!(lua_toboolean(L,(8 + lc_nextra)))) {
          break;
        }
        
        /* if obj_cls.__name == cls then */
        enum { lc41 = 8 };
        lua_pushliteral(L,"__name");
        lua_gettable(L,(8 + lc_nextra));
        const int lc42 = lua_equal(L,-1,(7 + lc_nextra));
        lua_pop(L,1);
        lua_pushboolean(L,lc42);
        const int lc43 = lua_toboolean(L,-1);
        lua_pop(L,1);
        if (lc43) {
          
          /* return true */
          lua_pushboolean(L,1);
          return 1;
          assert(lua_gettop(L) - lc_nextra == 8);
        }
        lua_settop(L,(lc41 + lc_nextra));
        assert(lua_gettop(L) - lc_nextra == 8);
        
        /* obj_cls = obj_cls.__parent */
        lua_pushliteral(L,"__parent");
        lua_gettable(L,(8 + lc_nextra));
        lua_replace(L,(8 + lc_nextra));
        assert(lua_gettop(L) - lc_nextra == 8);
      }
      lua_settop(L,(lc40 + lc_nextra));
      assert(lua_gettop(L) - lc_nextra == 8);
    }
    lua_settop(L,(lc37 + lc_nextra));
    assert(lua_gettop(L) - lc_nextra == 7);
    
    /* internal: stack cleanup on scope exit */
    lua_pop(L,2);
  }
  lua_settop(L,(lc30 + lc_nextra));
  assert(lua_gettop(L) - lc_nextra == 2);
  
  /* return false */
  lua_pushboolean(L,0);
  return 1;
  assert(lua_gettop(L) - lc_nextra == 2);
}


/* gets upvalue with ID varid by consulting upvalue table at index
 * tidx for the upvalue table at given nesting level. */
static void lc_getupvalue(lua_State * L, int tidx, int level, int varid) {
  if (level == 0) {
    lua_rawgeti(L,tidx,varid);
  }
  else {
    lua_pushvalue(L,tidx);
    while (--level >= 0) {
      lua_rawgeti(L,tidx,0); /* 0 links to parent table */
      lua_remove(L,-2);
      tidx = -1;
    }
    lua_rawgeti(L,-1,varid);
    lua_remove(L,-2);
  }
}


/* warning: assumes indices in range LUA_REGISTRYINDEX < x < 0 are relative. */
static int lc_le(lua_State * L, int idxa, int idxb) {
  if (lua_type(L,idxa) == LUA_TNUMBER && lua_type(L,idxb) == LUA_TNUMBER) {
    return lua_tonumber(L,idxa) <= lua_tonumber(L,idxb);
  }
  else if (lua_type(L,idxa) == LUA_TSTRING && lua_type(L,idxb) == LUA_TSTRING) {
    /* result similar to lvm.c l_strcmp */
    return lua_lessthan(L,idxa,idxb) || lua_rawequal(L,idxa,idxb);
  }
  else if (luaL_getmetafield(L,idxa,"__le")||luaL_getmetafield(L,idxb,"__le")) {
    lua_pushvalue(L,idxa < 0 && idxa > LUA_REGISTRYINDEX ? idxa-1 : idxa);
    lua_pushvalue(L,idxb < 0 && idxb > LUA_REGISTRYINDEX ? idxb-2 : idxb);
    lua_call(L,2,1);
    const int result = lua_toboolean(L,-1);
    lua_pop(L,1);
    return result;
  }
  else if (luaL_getmetafield(L,idxa,"__lt")||luaL_getmetafield(L,idxb,"__lt")) {
    lua_pushvalue(L,idxb < 0 && idxb > LUA_REGISTRYINDEX ? idxb-1 : idxb);
    lua_pushvalue(L,idxa < 0 && idxa > LUA_REGISTRYINDEX ? idxa-2 : idxa);
    lua_call(L,2,1);
    const int result = ! lua_toboolean(L,-1);
    lua_pop(L,1);
    return result;
  }
  else {
    return luaL_error(L, "attempt to compare");
  }
}


/* __sub metamethod handler.
 * warning: assumes indices in range LUA_REGISTRYINDEX < x < 0 are relative. */
static void lc_sub(lua_State * L, int idxa, int idxb) {
  if (lua_isnumber(L,idxa) && lua_isnumber(L,idxb)) {
    lua_pushnumber(L,lua_tonumber(L,idxa) - lua_tonumber(L,idxb));
  }
  else {
    if (luaL_getmetafield(L,idxa,"__sub")||luaL_getmetafield(L,idxb,"__sub")) {
      lua_pushvalue(L,idxa < 0 && idxa > LUA_REGISTRYINDEX ? idxa-1 : idxa);
      lua_pushvalue(L,idxb < 0 && idxb > LUA_REGISTRYINDEX ? idxb-2 : idxb);
      lua_call(L,2,1);
    }
    else {
      luaL_error(L, "attempt to perform arithmetic");
    }
  }
}


/* function(cls, val, nesting_depth) */
static int lcf71 (lua_State * L) {
  enum { lc_nformalargs = 3 };
  lua_settop(L,3);
  
  /* if nesting_depth == nil then */
  enum { lc44 = 3 };
  lua_pushnil(L);
  const int lc45 = lua_equal(L,3,-1);
  lua_pop(L,1);
  lua_pushboolean(L,lc45);
  const int lc46 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc46) {
    
    /* nesting_depth = 20 */
    lua_pushnumber(L,20);
    lua_replace(L,3);
    assert(lua_gettop(L) == 3);
  }
  lua_settop(L,lc44);
  assert(lua_gettop(L) == 3);
  
  /* if type(nesting_depth) ~= 'number' then */
  enum { lc47 = 3 };
  lua_getfield(L,LUA_ENVIRONINDEX,"type");
  lua_pushvalue(L,3);
  lua_call(L,1,1);
  lua_pushliteral(L,"number");
  const int lc48 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc48);
  lua_pushboolean(L,!(lua_toboolean(L,-1)));
  lua_remove(L,-2);
  const int lc49 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc49) {
    
    /* error('Second argument to `r(val, nesting_depth)` must be a number.') */
    lua_getfield(L,LUA_ENVIRONINDEX,"error");
    lua_pushliteral(L,"Second argument to `r(val, nesting_depth)` must be a number.");
    lua_call(L,1,0);
    assert(lua_gettop(L) == 3);
  }
  lua_settop(L,lc47);
  assert(lua_gettop(L) == 3);
  
  /* if nesting_depth <= 0 then */
  enum { lc50 = 3 };
  lua_pushnumber(L,0);
  const int lc51 = lc_le(L,3,-1);
  lua_pop(L,1);
  lua_pushboolean(L,lc51);
  const int lc52 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc52) {
    
    /* error('Nesting depth limit exceeded') */
    lua_getfield(L,LUA_ENVIRONINDEX,"error");
    lua_pushliteral(L,"Nesting depth limit exceeded");
    lua_call(L,1,0);
    assert(lua_gettop(L) == 3);
  }
  lua_settop(L,lc50);
  assert(lua_gettop(L) == 3);
  
  /* if is_instance(val, 'ReQLOp') then */
  enum { lc53 = 3 };
  lua_getfield(L,LUA_ENVIRONINDEX,"is_instance");
  lua_pushvalue(L,2);
  lua_pushliteral(L,"ReQLOp");
  lua_call(L,2,1);
  const int lc54 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc54) {
    
    /* return val */
    lua_pushvalue(L,2);
    return 1;
    assert(lua_gettop(L) == 3);
  }
  lua_settop(L,lc53);
  assert(lua_gettop(L) == 3);
  
  /* if type(val) == 'function' then */
  enum { lc55 = 3 };
  lua_getfield(L,LUA_ENVIRONINDEX,"type");
  lua_pushvalue(L,2);
  lua_call(L,1,1);
  lua_pushliteral(L,"function");
  const int lc56 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc56);
  const int lc57 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc57) {
    
    /* return Func({}, val) */
    const int lc58 = lua_gettop(L);
    lc_getupvalue(L,lua_upvalueindex(1),16,57);
    lua_newtable(L);
    lua_pushvalue(L,2);
    lua_call(L,2,LUA_MULTRET);
    return (lua_gettop(L) - lc58);
    assert(lua_gettop(L) == 3);
  }
  lua_settop(L,lc55);
  assert(lua_gettop(L) == 3);
  
  /* if type(val) == 'table' then */
  enum { lc59 = 3 };
  lua_getfield(L,LUA_ENVIRONINDEX,"type");
  lua_pushvalue(L,2);
  lua_call(L,1,1);
  lua_pushliteral(L,"table");
  const int lc60 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc60);
  const int lc61 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc61) {
    
    /* local array = true */
    lua_pushboolean(L,1);
    assert(lua_gettop(L) == 4);
    
    /* for k, v in pairs(val) do
     * internal: local f, s, var = explist */
    enum { lc62 = 4 };
    lua_getfield(L,LUA_ENVIRONINDEX,"pairs");
    lua_pushvalue(L,2);
    lua_call(L,1,3);
    while (1) {
      
      /* internal: local var_1, ..., var_n = f(s, var)
       *           if var_1 == nil then break end
       *           var = var_1 */
      lua_pushvalue(L,-3);
      lua_pushvalue(L,-3);
      lua_pushvalue(L,-3);
      lua_call(L,2,2);
      if (lua_isnil(L,-2)) {
        break;
      }
      lua_pushvalue(L,-2);
      lua_replace(L,-4);
      
      /* internal: local k with idx 8
       * internal: local v with idx 9 */
      
      
      /* if type(k) ~= 'number' then */
      enum { lc63 = 9 };
      lua_getfield(L,LUA_ENVIRONINDEX,"type");
      lua_pushvalue(L,8);
      lua_call(L,1,1);
      lua_pushliteral(L,"number");
      const int lc64 = lua_equal(L,-2,-1);
      lua_pop(L,2);
      lua_pushboolean(L,lc64);
      lua_pushboolean(L,!(lua_toboolean(L,-1)));
      lua_remove(L,-2);
      const int lc65 = lua_toboolean(L,-1);
      lua_pop(L,1);
      if (lc65) {
        
        /* array = false */
        lua_pushboolean(L,0);
        lua_replace(L,4);
        assert(lua_gettop(L) == 9);
      }
      lua_settop(L,lc63);
      assert(lua_gettop(L) == 9);
      
      /* val[k] = r(v, nesting_depth - 1) */
      lc_getupvalue(L,lua_upvalueindex(1),24,4);
      lua_pushvalue(L,9);
      lua_pushnumber(L,1);
      lc_sub(L,3,-1);
      lua_remove(L,-2);
      lua_call(L,2,1);
      lua_pushvalue(L,8);
      lua_insert(L,-2);
      lua_settable(L,2);
      assert(lua_gettop(L) == 9);
      
      /* internal: stack cleanup on scope exit */
      lua_pop(L,2);
    }
    lua_settop(L,lc62);
    assert(lua_gettop(L) == 4);
    
    /* if array then */
    enum { lc66 = 4 };
    if (lua_toboolean(L,4)) {
      
      /* return MakeArray({}, unpack(val)) */
      const int lc67 = lua_gettop(L);
      lc_getupvalue(L,lua_upvalueindex(1),11,95);
      const int lc68 = lua_gettop(L);
      lua_newtable(L);
      lua_getfield(L,LUA_ENVIRONINDEX,"unpack");
      lua_pushvalue(L,2);
      lua_call(L,1,LUA_MULTRET);
      lua_call(L,(lua_gettop(L) - lc68),LUA_MULTRET);
      return (lua_gettop(L) - lc67);
      assert(lua_gettop(L) == 4);
    }
    lua_settop(L,lc66);
    assert(lua_gettop(L) == 4);
    
    /* return MakeObj(val) */
    const int lc69 = lua_gettop(L);
    lc_getupvalue(L,lua_upvalueindex(1),11,94);
    lua_pushvalue(L,2);
    lua_call(L,1,LUA_MULTRET);
    return (lua_gettop(L) - lc69);
    assert(lua_gettop(L) == 4);
  }
  lua_settop(L,lc59);
  assert(lua_gettop(L) == 3);
  
  /* return DatumTerm(val) */
  const int lc70 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),22,8);
  lua_pushvalue(L,2);
  lua_call(L,1,LUA_MULTRET);
  return (lua_gettop(L) - lc70);
  assert(lua_gettop(L) == 3);
}


/* name: should_wrap
 * function(arg) */
static int lcf1_should_wrap (lua_State * L) {
  enum { lc_nformalargs = 1 };
  lua_settop(L,1);
  
  /* return is_instance(arg, 'DatumTerm', 'MakeArray', 'MakeObj') */
  const int lc72 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"is_instance");
  lua_pushvalue(L,1);
  lua_pushliteral(L,"DatumTerm");
  lua_pushliteral(L,"MakeArray");
  lua_pushliteral(L,"MakeObj");
  lua_call(L,4,LUA_MULTRET);
  return (lua_gettop(L) - lc72);
  assert(lua_gettop(L) == 1);
}


static void lc_setupvalue(lua_State * L, int tidx, int level, int varid) {
  if (level == 0) {
    lua_rawseti(L,tidx,varid);
  }
  else {
    lua_pushvalue(L,tidx);
    while(--level >= 0) {
      lua_rawgeti(L,tidx,0); /* 0 links to parent table */
      lua_remove(L,-2);
      tidx = -1;
    }
    lua_insert(L,-2);
    lua_rawseti(L,-2,varid);
    lua_pop(L,1);
  }
}


/* function(cls, name) */
static int lcf85 (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* local val = rawget(base, name) */
  lua_getfield(L,LUA_ENVIRONINDEX,"rawget");
  lc_getupvalue(L,lua_upvalueindex(1),0,177);
  lua_pushvalue(L,2);
  lua_call(L,2,1);
  assert(lua_gettop(L) == 3);
  
  /* if val == nil then */
  enum { lc82 = 3 };
  lua_pushnil(L);
  const int lc83 = lua_equal(L,3,-1);
  lua_pop(L,1);
  lua_pushboolean(L,lc83);
  const int lc84 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc84) {
    
    /* return parent[name] */
    lc_getupvalue(L,lua_upvalueindex(1),0,176);
    lua_pushvalue(L,2);
    lua_gettable(L,-2);
    lua_remove(L,-2);
    return 1;
    assert(lua_gettop(L) == 3);
  }
  else {
    
    /* else
     * return val */
    lua_pushvalue(L,3);
    return 1;
    assert(lua_gettop(L) == 3);
  }
  lua_settop(L,lc82);
  assert(lua_gettop(L) == 3);
  return 0;
}


/* function(cls, ...) */
static int lcf87 (lua_State * L) {
  enum { lc_nformalargs = 1 };
  if ((lua_gettop(L) < lc_nformalargs)) {
    lua_settop(L,lc_nformalargs);
  }
  const int lc_nactualargs = lua_gettop(L);
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  
  /* local self = setmetatable({}, cls.__base) */
  lua_getfield(L,LUA_ENVIRONINDEX,"setmetatable");
  lua_newtable(L);
  lua_pushliteral(L,"__base");
  lua_gettable(L,1);
  lua_call(L,2,1);
  assert(lua_gettop(L) - lc_nextra == 2);
  
  /* cls.__init(self, ...) */
  lua_pushliteral(L,"__init");
  lua_gettable(L,1);
  const int lc86 = lua_gettop(L);
  lua_pushvalue(L,(2 + lc_nextra));
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc86),0);
  assert(lua_gettop(L) - lc_nextra == 2);
  
  /* return self */
  lua_pushvalue(L,(2 + lc_nextra));
  return 1;
  assert(lua_gettop(L) - lc_nextra == 2);
}


/* name: class
 * function(name, parent, base) */
static int lcf1_class (lua_State * L) {
  enum { lc_nformalargs = 3 };
  lua_settop(L,3);
  lc_newclosuretable(L,lua_upvalueindex(1));
  enum { lc73 = 4 };
  assert((lua_gettop(L) == lc73));
  lua_pushvalue(L,2);
  lua_rawseti(L,-2,176);
  lua_pushvalue(L,3);
  lua_rawseti(L,-2,177);
  
  /* local index, init */
  lua_settop(L,(lua_gettop(L) + 2));
  assert(lua_gettop(L) == 6);
  
  /* if base == nil then */
  enum { lc74 = 6 };
  lc_getupvalue(L,lc73,0,177);
  lua_pushnil(L);
  const int lc75 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc75);
  const int lc76 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc76) {
    
    /* base = parent */
    lc_getupvalue(L,lc73,0,176);
    lc_setupvalue(L,lc73,0,177);
    assert(lua_gettop(L) == 6);
    
    /* parent = nil */
    lua_pushnil(L);
    lc_setupvalue(L,lc73,0,176);
    assert(lua_gettop(L) == 6);
  }
  lua_settop(L,lc74);
  assert(lua_gettop(L) == 6);
  
  /* if type(base) == 'function' then */
  enum { lc77 = 6 };
  lua_getfield(L,LUA_ENVIRONINDEX,"type");
  lc_getupvalue(L,lc73,0,177);
  lua_call(L,1,1);
  lua_pushliteral(L,"function");
  const int lc78 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc78);
  const int lc79 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc79) {
    
    /* base = {__init = base} */
    lua_createtable(L,0,1);
    lua_pushliteral(L,"__init");
    lc_getupvalue(L,lc73,0,177);
    lua_rawset(L,-3);
    lc_setupvalue(L,lc73,0,177);
    assert(lua_gettop(L) == 6);
  }
  lua_settop(L,lc77);
  assert(lua_gettop(L) == 6);
  
  /* if parent and parent.__base then */
  enum { lc80 = 6 };
  lc_getupvalue(L,lc73,0,176);
  if (lua_toboolean(L,-1)) {
    lua_pop(L,1);
    lc_getupvalue(L,lc73,0,176);
    lua_pushliteral(L,"__base");
    lua_gettable(L,-2);
    lua_remove(L,-2);
  }
  const int lc81 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc81) {
    
    /* setmetatable(base, parent.__base) */
    lua_getfield(L,LUA_ENVIRONINDEX,"setmetatable");
    lc_getupvalue(L,lc73,0,177);
    lc_getupvalue(L,lc73,0,176);
    lua_pushliteral(L,"__base");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_call(L,2,0);
    assert(lua_gettop(L) == 6);
  }
  else {
    
    /* else
     * index = base */
    lc_getupvalue(L,lc73,0,177);
    lua_replace(L,5);
    assert(lua_gettop(L) == 6);
  }
  lua_settop(L,lc80);
  assert(lua_gettop(L) == 6);
  
  /* init = base.__init */
  lc_getupvalue(L,lc73,0,177);
  lua_pushliteral(L,"__init");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_replace(L,6);
  assert(lua_gettop(L) == 6);
  
  /* base.__init = nil */
  lua_pushnil(L);
  lc_getupvalue(L,lc73,0,177);
  lua_insert(L,-2);
  lua_pushliteral(L,"__init");
  lua_insert(L,-2);
  lua_settable(L,-3);
  lua_pop(L,1);
  assert(lua_gettop(L) == 6);
  
  /* base.__index = base */
  lc_getupvalue(L,lc73,0,177);
  lc_getupvalue(L,lc73,0,177);
  lua_insert(L,-2);
  lua_pushliteral(L,"__index");
  lua_insert(L,-2);
  lua_settable(L,-3);
  lua_pop(L,1);
  assert(lua_gettop(L) == 6);
  
  /* local _class_0 = setmetatable({
   *     __name = name,
   *     __init = init,
   *     __base = base,
   *     __parent = parent
   *   }, {
   *     __index = index or function(cls, name)
   *       local val = rawget(base, name)
   *       if val == nil then
   *         return parent[name]
   *       else
   *         return val
   *       end
   *     end,
   *     __call = function(cls, ...)
   *       local self = setmetatable({}, cls.__base)
   *       cls.__init(self, ...)
   *       return self
   *     end
   *   }) */
  lua_getfield(L,LUA_ENVIRONINDEX,"setmetatable");
  lua_createtable(L,0,4);
  lua_pushliteral(L,"__name");
  lua_pushvalue(L,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"__init");
  lua_pushvalue(L,6);
  lua_rawset(L,-3);
  lua_pushliteral(L,"__base");
  lc_getupvalue(L,lc73,0,177);
  lua_rawset(L,-3);
  lua_pushliteral(L,"__parent");
  lc_getupvalue(L,lc73,0,176);
  lua_rawset(L,-3);
  lua_createtable(L,0,2);
  lua_pushliteral(L,"__index");
  lua_pushvalue(L,5);
  if (!(lua_toboolean(L,-1))) {
    lua_pop(L,1);
    lua_pushvalue(L,lc73);
    lua_pushcclosure(L,lcf85,1);
  }
  lua_rawset(L,-3);
  lua_pushliteral(L,"__call");
  lua_pushcfunction(L,lcf87);
  lua_rawset(L,-3);
  lua_call(L,2,1);
  assert(lua_gettop(L) == 7);
  
  /* base.__class = _class_0 */
  lua_pushvalue(L,7);
  lc_getupvalue(L,lc73,0,177);
  lua_insert(L,-2);
  lua_pushliteral(L,"__class");
  lua_insert(L,-2);
  lua_settable(L,-3);
  lua_pop(L,1);
  assert(lua_gettop(L) == 7);
  
  /* if parent and parent.__inherited then */
  enum { lc88 = 7 };
  lc_getupvalue(L,lc73,0,176);
  if (lua_toboolean(L,-1)) {
    lua_pop(L,1);
    lc_getupvalue(L,lc73,0,176);
    lua_pushliteral(L,"__inherited");
    lua_gettable(L,-2);
    lua_remove(L,-2);
  }
  const int lc89 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc89) {
    
    /* parent:__inherited(_class_0) */
    lc_getupvalue(L,lc73,0,176);
    lua_pushliteral(L,"__inherited");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_pushvalue(L,7);
    lua_call(L,2,0);
    assert(lua_gettop(L) == 7);
  }
  lua_settop(L,lc88);
  assert(lua_gettop(L) == 7);
  
  /* return _class_0 */
  lua_pushvalue(L,7);
  return 1;
  assert(lua_gettop(L) == 7);
}


/* name: intsp
 * function(seq) */
static int lcf1_intsp (lua_State * L) {
  enum { lc_nformalargs = 1 };
  lua_settop(L,1);
  
  /* if seq[1] == nil then */
  enum { lc90 = 1 };
  lua_pushnumber(L,1);
  lua_gettable(L,1);
  lua_pushnil(L);
  const int lc91 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc91);
  const int lc92 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc92) {
    
    /* return {} */
    lua_newtable(L);
    return 1;
    assert(lua_gettop(L) == 1);
  }
  lua_settop(L,lc90);
  assert(lua_gettop(L) == 1);
  
  /* local res = {seq[1]} */
  lua_createtable(L,1,0);
  lua_pushnumber(L,1);
  lua_gettable(L,1);
  lua_rawseti(L,-2,1);
  assert(lua_gettop(L) == 2);
  
  /* for i=2, #seq do */
  lua_pushnumber(L,2);
  const double lc96 = lua_objlen(L,1);
  lua_pushnumber(L,lc96);
  if (!((lua_isnumber(L,-2) && lua_isnumber(L,-1)))) {
    luaL_error(L,"'for' limit must be a number");
  }
  double lc93_var = lua_tonumber(L,-2);
  const double lc94_limit = lua_tonumber(L,-1);
  const double lc95_step = 1;
  lua_pop(L,2);
  enum { lc97 = 2 };
  while ((((lc95_step > 0) && (lc93_var <= lc94_limit)) || ((lc95_step <= 0) && (lc93_var >= lc94_limit)))) {
    
    /* internal: local i at index 3 */
    lua_pushnumber(L,lc93_var);
    
    /* table.insert(res, ', ') */
    lua_getfield(L,LUA_ENVIRONINDEX,"table");
    lua_pushliteral(L,"insert");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_pushvalue(L,2);
    lua_pushliteral(L,", ");
    lua_call(L,2,0);
    assert(lua_gettop(L) == 3);
    
    /* table.insert(res, seq[i]) */
    lua_getfield(L,LUA_ENVIRONINDEX,"table");
    lua_pushliteral(L,"insert");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_pushvalue(L,2);
    lua_pushvalue(L,3);
    lua_gettable(L,1);
    lua_call(L,2,0);
    assert(lua_gettop(L) == 3);
    
    /* internal: stack cleanup on scope exit */
    lua_pop(L,1);
    lc93_var += lc95_step;
  }
  lua_settop(L,lc97);
  assert(lua_gettop(L) == 2);
  
  /* return res */
  lua_pushvalue(L,2);
  return 1;
  assert(lua_gettop(L) == 2);
}


/* __add metamethod handler.
 * warning: assumes indices in range LUA_REGISTRYINDEX < x < 0 are relative. */
static void lc_add(lua_State * L, int idxa, int idxb) {
  if (lua_isnumber(L,idxa) && lua_isnumber(L,idxb)) {
    lua_pushnumber(L,lua_tonumber(L,idxa) + lua_tonumber(L,idxb));
  }
  else {
    if (luaL_getmetafield(L,idxa,"__add")||luaL_getmetafield(L,idxb,"__add")) {
      lua_pushvalue(L,idxa < 0 && idxa > LUA_REGISTRYINDEX ? idxa-1 : idxa);
      lua_pushvalue(L,idxb < 0 && idxb > LUA_REGISTRYINDEX ? idxb-2 : idxb);
      lua_call(L,2,1);
    }
    else {
      luaL_error(L, "attempt to perform arithmetic");
    }
  }
}


/* function() */
static int lcf101 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  lua_settop(L,0);
  
  /* local _accum_0 = {} */
  lua_newtable(L);
  assert(lua_gettop(L) == 1);
  
  /* local i = 1 */
  lua_pushnumber(L,1);
  assert(lua_gettop(L) == 2);
  
  /* for k, v in pairs(optargs) do
   * internal: local f, s, var = explist */
  enum { lc100 = 2 };
  lua_getfield(L,LUA_ENVIRONINDEX,"pairs");
  lc_getupvalue(L,lua_upvalueindex(1),0,178);
  lua_call(L,1,3);
  while (1) {
    
    /* internal: local var_1, ..., var_n = f(s, var)
     *           if var_1 == nil then break end
     *           var = var_1 */
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_call(L,2,2);
    if (lua_isnil(L,-2)) {
      break;
    }
    lua_pushvalue(L,-2);
    lua_replace(L,-4);
    
    /* internal: local k with idx 6
     * internal: local v with idx 7 */
    
    
    /* _accum_0[i] = {k, ': ', v} */
    lua_createtable(L,3,0);
    lua_pushvalue(L,6);
    lua_rawseti(L,-2,1);
    lua_pushliteral(L,": ");
    lua_rawseti(L,-2,2);
    lua_pushvalue(L,7);
    lua_rawseti(L,-2,3);
    lua_pushvalue(L,2);
    lua_insert(L,-2);
    lua_settable(L,1);
    assert(lua_gettop(L) == 7);
    
    /* i = i + 1 */
    lua_pushnumber(L,1);
    lc_add(L,2,-1);
    lua_remove(L,-2);
    lua_replace(L,2);
    assert(lua_gettop(L) == 7);
    
    /* internal: stack cleanup on scope exit */
    lua_pop(L,2);
  }
  lua_settop(L,lc100);
  assert(lua_gettop(L) == 2);
  
  /* return _accum_0 */
  lua_pushvalue(L,1);
  return 1;
  assert(lua_gettop(L) == 2);
}


/* name: kved
 * function(optargs) */
static int lcf1_kved (lua_State * L) {
  enum { lc_nformalargs = 1 };
  lua_settop(L,1);
  lc_newclosuretable(L,lua_upvalueindex(1));
  enum { lc98 = 2 };
  assert((lua_gettop(L) == lc98));
  lua_pushvalue(L,1);
  lua_rawseti(L,-2,178);
  
  /* return {
   *     '{',
   *     intsp((function()
   *       local _accum_0 = {}
   *       local i = 1
   *       for k, v in pairs(optargs) do
   *         _accum_0[i] = {k, ': ', v}
   *         i = i + 1
   *       end
   *       return _accum_0
   *     end)()),
   *     '}'
   *   } */
  lua_createtable(L,3,0);
  lua_pushliteral(L,"{");
  lua_rawseti(L,-2,1);
  lua_getfield(L,LUA_ENVIRONINDEX,"intsp");
  const int lc99 = lua_gettop(L);
  lua_pushvalue(L,lc98);
  lua_pushcclosure(L,lcf101,1);
  lua_call(L,0,LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc99),1);
  lua_rawseti(L,-2,2);
  lua_pushliteral(L,"}");
  lua_rawseti(L,-2,3);
  return 1;
  assert(lua_gettop(L) == 2);
}


/* name: intspallargs
 * function(args, optargs) */
static int lcf1_intspallargs (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* local argrepr = {} */
  lua_newtable(L);
  assert(lua_gettop(L) == 3);
  
  /* if #args > 0 then */
  enum { lc102 = 3 };
  lua_pushnumber(L,0);
  const double lc103 = lua_objlen(L,1);
  lua_pushnumber(L,lc103);
  const int lc104 = lua_lessthan(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc104);
  const int lc105 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc105) {
    
    /* table.insert(argrepr, intsp(args)) */
    lua_getfield(L,LUA_ENVIRONINDEX,"table");
    lua_pushliteral(L,"insert");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    const int lc106 = lua_gettop(L);
    lua_pushvalue(L,3);
    lua_getfield(L,LUA_ENVIRONINDEX,"intsp");
    lua_pushvalue(L,1);
    lua_call(L,1,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc106),0);
    assert(lua_gettop(L) == 3);
  }
  lua_settop(L,lc102);
  assert(lua_gettop(L) == 3);
  
  /* if optargs and #optargs > 0 then */
  enum { lc107 = 3 };
  lua_pushvalue(L,2);
  if (lua_toboolean(L,-1)) {
    lua_pop(L,1);
    lua_pushnumber(L,0);
    const double lc108 = lua_objlen(L,2);
    lua_pushnumber(L,lc108);
    const int lc109 = lua_lessthan(L,-2,-1);
    lua_pop(L,2);
    lua_pushboolean(L,lc109);
  }
  const int lc110 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc110) {
    
    /* if #argrepr > 0 then */
    enum { lc111 = 3 };
    lua_pushnumber(L,0);
    const double lc112 = lua_objlen(L,3);
    lua_pushnumber(L,lc112);
    const int lc113 = lua_lessthan(L,-2,-1);
    lua_pop(L,2);
    lua_pushboolean(L,lc113);
    const int lc114 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc114) {
      
      /* table.insert(argrepr, ', ') */
      lua_getfield(L,LUA_ENVIRONINDEX,"table");
      lua_pushliteral(L,"insert");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_pushvalue(L,3);
      lua_pushliteral(L,", ");
      lua_call(L,2,0);
      assert(lua_gettop(L) == 3);
    }
    lua_settop(L,lc111);
    assert(lua_gettop(L) == 3);
    
    /* table.insert(argrepr, kved(optargs)) */
    lua_getfield(L,LUA_ENVIRONINDEX,"table");
    lua_pushliteral(L,"insert");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    const int lc115 = lua_gettop(L);
    lua_pushvalue(L,3);
    lua_getfield(L,LUA_ENVIRONINDEX,"kved");
    lua_pushvalue(L,2);
    lua_call(L,1,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc115),0);
    assert(lua_gettop(L) == 3);
  }
  lua_settop(L,lc107);
  assert(lua_gettop(L) == 3);
  
  /* return argrepr */
  lua_pushvalue(L,3);
  return 1;
  assert(lua_gettop(L) == 3);
}


/* name: get_opts
 * function(...) */
static int lcf1_get_opts (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  
  /* local args = {...} */
  lua_createtable(L,1,0);
  const int lc116 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  while ((lua_gettop(L) > lc116)) {
    lua_rawseti(L,lc116,(0 + (lua_gettop(L) - lc116)));
  }
  assert(lua_gettop(L) - lc_nextra == 1);
  
  /* local opt = {} */
  lua_newtable(L);
  assert(lua_gettop(L) - lc_nextra == 2);
  
  /* local pos_opt = args[#args] */
  const double lc117 = lua_objlen(L,(1 + lc_nextra));
  lua_pushnumber(L,lc117);
  lua_gettable(L,(1 + lc_nextra));
  assert(lua_gettop(L) - lc_nextra == 3);
  
  /* if (type(pos_opt) == 'table') and (not is_instance(pos_opt, 'ReQLOp')) then */
  enum { lc118 = 3 };
  lua_getfield(L,LUA_ENVIRONINDEX,"type");
  lua_pushvalue(L,(3 + lc_nextra));
  lua_call(L,1,1);
  lua_pushliteral(L,"table");
  const int lc119 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc119);
  if (lua_toboolean(L,-1)) {
    lua_pop(L,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"is_instance");
    lua_pushvalue(L,(3 + lc_nextra));
    lua_pushliteral(L,"ReQLOp");
    lua_call(L,2,1);
    lua_pushboolean(L,!(lua_toboolean(L,-1)));
    lua_remove(L,-2);
  }
  const int lc120 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc120) {
    
    /* opt = pos_opt */
    lua_pushvalue(L,(3 + lc_nextra));
    lua_replace(L,(2 + lc_nextra));
    assert(lua_gettop(L) - lc_nextra == 3);
    
    /* args[#args] = nil */
    lua_pushnil(L);
    const double lc121 = lua_objlen(L,(1 + lc_nextra));
    lua_pushnumber(L,lc121);
    lua_insert(L,-2);
    lua_settable(L,(1 + lc_nextra));
    assert(lua_gettop(L) - lc_nextra == 3);
  }
  lua_settop(L,(lc118 + lc_nextra));
  assert(lua_gettop(L) - lc_nextra == 3);
  
  /* return opt, unpack(args) */
  const int lc122 = lua_gettop(L);
  lua_pushvalue(L,(2 + lc_nextra));
  lua_getfield(L,LUA_ENVIRONINDEX,"unpack");
  lua_pushvalue(L,(1 + lc_nextra));
  lua_call(L,1,LUA_MULTRET);
  return (lua_gettop(L) - lc122);
  assert(lua_gettop(L) - lc_nextra == 3);
}


/* __mul metamethod handler.
 * warning: assumes indices in range LUA_REGISTRYINDEX < x < 0 are relative. */
static void lc_mul(lua_State * L, int idxa, int idxb) {
  if (lua_isnumber(L,idxa) && lua_isnumber(L,idxb)) {
    lua_pushnumber(L,lua_tonumber(L,idxa) * lua_tonumber(L,idxb));
  }
  else {
    if (luaL_getmetafield(L,idxa,"__mul")||luaL_getmetafield(L,idxb,"__mul")) {
      lua_pushvalue(L,idxa < 0 && idxa > LUA_REGISTRYINDEX ? idxa-1 : idxa);
      lua_pushvalue(L,idxb < 0 && idxb > LUA_REGISTRYINDEX ? idxb-2 : idxb);
      lua_call(L,2,1);
    }
    else {
      luaL_error(L, "attempt to perform arithmetic");
    }
  }
}


#include <math.h>

/* __pow metamethod handler.
 * warning: assumes indices in range LUA_REGISTRYINDEX < x < 0 are relative. */
static void lc_pow(lua_State * L, int idxa, int idxb) {
  if (lua_isnumber(L,idxa) && lua_isnumber(L,idxb)) {
    lua_pushnumber(L,pow(lua_tonumber(L,idxa),lua_tonumber(L,idxb)));
  }
  else {
    if (luaL_getmetafield(L,idxa,"__pow")||luaL_getmetafield(L,idxb,"__pow")) {
      lua_pushvalue(L,idxa < 0 && idxa > LUA_REGISTRYINDEX ? idxa-1 : idxa);
      lua_pushvalue(L,idxb < 0 && idxb > LUA_REGISTRYINDEX ? idxb-2 : idxb);
      lua_call(L,2,1);
    }
    else {
      luaL_error(L, "attempt to perform arithmetic");
    }
  }
}


/* name: bytes_to_int
 * function(str) */
static int lcf1_bytes_to_int (lua_State * L) {
  enum { lc_nformalargs = 1 };
  lua_settop(L,1);
  
  /* local t = {str:byte(1,-1)} */
  lua_createtable(L,1,0);
  const int lc123 = lua_gettop(L);
  lua_pushvalue(L,1);
  lua_pushliteral(L,"byte");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_pushnumber(L,1);
  lua_pushnumber(L,-1);
  lua_call(L,3,LUA_MULTRET);
  while ((lua_gettop(L) > lc123)) {
    lua_rawseti(L,lc123,(0 + (lua_gettop(L) - lc123)));
  }
  assert(lua_gettop(L) == 2);
  
  /* local n = 0 */
  lua_pushnumber(L,0);
  assert(lua_gettop(L) == 3);
  
  /* for k=1,#t do */
  lua_pushnumber(L,1);
  const double lc127 = lua_objlen(L,2);
  lua_pushnumber(L,lc127);
  if (!((lua_isnumber(L,-2) && lua_isnumber(L,-1)))) {
    luaL_error(L,"'for' limit must be a number");
  }
  double lc124_var = lua_tonumber(L,-2);
  const double lc125_limit = lua_tonumber(L,-1);
  const double lc126_step = 1;
  lua_pop(L,2);
  enum { lc128 = 3 };
  while ((((lc126_step > 0) && (lc124_var <= lc125_limit)) || ((lc126_step <= 0) && (lc124_var >= lc125_limit)))) {
    
    /* internal: local k at index 4 */
    lua_pushnumber(L,lc124_var);
    
    /* n = n + t[k] * 2 ^ ((k - 1) * 8) */
    lua_pushvalue(L,4);
    lua_gettable(L,2);
    lua_pushnumber(L,2);
    lua_pushnumber(L,1);
    lc_sub(L,4,-1);
    lua_remove(L,-2);
    lua_pushnumber(L,8);
    lc_mul(L,-2,-1);
    lua_remove(L,-2);
    lua_remove(L,-2);
    lc_pow(L,-2,-1);
    lua_remove(L,-2);
    lua_remove(L,-2);
    lc_mul(L,-2,-1);
    lua_remove(L,-2);
    lua_remove(L,-2);
    lc_add(L,3,-1);
    lua_remove(L,-2);
    lua_replace(L,3);
    assert(lua_gettop(L) == 4);
    
    /* internal: stack cleanup on scope exit */
    lua_pop(L,1);
    lc124_var += lc126_step;
  }
  lua_settop(L,lc128);
  assert(lua_gettop(L) == 3);
  
  /* return n */
  lua_pushvalue(L,3);
  return 1;
  assert(lua_gettop(L) == 3);
}


/* __div metamethod handler.
 * warning: assumes indices in range LUA_REGISTRYINDEX < x < 0 are relative. */
static void lc_div(lua_State * L, int idxa, int idxb) {
  if (lua_isnumber(L,idxa) && lua_isnumber(L,idxb)) {
    lua_pushnumber(L,lua_tonumber(L,idxa) / lua_tonumber(L,idxb));
  }
  else {
    if (luaL_getmetafield(L,idxa,"__div")||luaL_getmetafield(L,idxb,"__div")) {
      lua_pushvalue(L,idxa < 0 && idxa > LUA_REGISTRYINDEX ? idxa-1 : idxa);
      lua_pushvalue(L,idxb < 0 && idxb > LUA_REGISTRYINDEX ? idxb-2 : idxb);
      lua_call(L,2,1);
    }
    else {
      luaL_error(L, "attempt to perform arithmetic");
    }
  }
}


/* name: div_mod
 * function(num, den) */
static int lcf1_div_mod (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* return math.floor(num / den), math.fmod(num, den) */
  const int lc129 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"math");
  lua_pushliteral(L,"floor");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lc_div(L,1,2);
  lua_call(L,1,1);
  lua_getfield(L,LUA_ENVIRONINDEX,"math");
  lua_pushliteral(L,"fmod");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_pushvalue(L,1);
  lua_pushvalue(L,2);
  lua_call(L,2,LUA_MULTRET);
  return (lua_gettop(L) - lc129);
  assert(lua_gettop(L) == 2);
}


/* name: int_to_bytes
 * function(num, bytes) */
static int lcf1_int_to_bytes (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* local res = {} */
  lua_newtable(L);
  assert(lua_gettop(L) == 3);
  
  /* local mul = 0 */
  lua_pushnumber(L,0);
  assert(lua_gettop(L) == 4);
  
  /* for k=bytes,1,-1 do */
  lua_pushnumber(L,1);
  lua_pushnumber(L,-1);
  if (!(((lua_isnumber(L,2) && lua_isnumber(L,-2)) && lua_isnumber(L,-1)))) {
    luaL_error(L,"'for' limit must be a number");
  }
  double lc130_var = lua_tonumber(L,2);
  const double lc131_limit = lua_tonumber(L,-2);
  const double lc132_step = lua_tonumber(L,-1);
  lua_pop(L,2);
  enum { lc133 = 4 };
  while ((((lc132_step > 0) && (lc130_var <= lc131_limit)) || ((lc132_step <= 0) && (lc130_var >= lc131_limit)))) {
    
    /* internal: local k at index 5 */
    lua_pushnumber(L,lc130_var);
    
    /* res[k], num = div_mod(num, 2 ^ (8 * (k - 1))) */
    lua_getfield(L,LUA_ENVIRONINDEX,"div_mod");
    lua_pushvalue(L,1);
    lua_pushnumber(L,2);
    lua_pushnumber(L,8);
    lua_pushnumber(L,1);
    lc_sub(L,5,-1);
    lua_remove(L,-2);
    lc_mul(L,-2,-1);
    lua_remove(L,-2);
    lua_remove(L,-2);
    lc_pow(L,-2,-1);
    lua_remove(L,-2);
    lua_remove(L,-2);
    lua_call(L,2,2);
    lua_replace(L,1);
    lua_pushvalue(L,5);
    lua_insert(L,-2);
    lua_settable(L,3);
    assert(lua_gettop(L) == 5);
    
    /* internal: stack cleanup on scope exit */
    lua_pop(L,1);
    lc130_var += lc132_step;
  }
  lua_settop(L,lc133);
  assert(lua_gettop(L) == 4);
  
  /* return string.char(unpack(res)) */
  const int lc134 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"string");
  lua_pushliteral(L,"char");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  const int lc135 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"unpack");
  lua_pushvalue(L,3);
  lua_call(L,1,LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc135),LUA_MULTRET);
  return (lua_gettop(L) - lc134);
  assert(lua_gettop(L) == 4);
}


/* name: convert_pseudotype
 * function(obj, opts) */
static int lcf1_convert_pseudotype (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* -- An R_OBJECT may be a regular table or a 'pseudo-type' so we need a
   * -- second layer of type switching here on the obfuscated field '$reql_type$'
   * local reql_type = obj['$reql_type$'] */
  lua_pushliteral(L,"$reql_type$");
  lua_gettable(L,1);
  assert(lua_gettop(L) == 3);
  
  /* if 'TIME' == reql_type then */
  enum { lc136 = 3 };
  lua_pushliteral(L,"TIME");
  const int lc137 = lua_equal(L,-1,3);
  lua_pop(L,1);
  lua_pushboolean(L,lc137);
  const int lc138 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc138) {
    
    /* local time_format = opts.time_format */
    lua_pushliteral(L,"time_format");
    lua_gettable(L,2);
    assert(lua_gettop(L) == 4);
    
    /* if 'native' == time_format or not time_format then */
    enum { lc139 = 4 };
    lua_pushliteral(L,"native");
    lua_pushvalue(L,4);
    const int lc140 = lua_equal(L,-2,-1);
    lua_pop(L,2);
    lua_pushboolean(L,lc140);
    if (!(lua_toboolean(L,-1))) {
      lua_pop(L,1);
      lua_pushboolean(L,!(lua_toboolean(L,4)));
    }
    const int lc141 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc141) {
      
      /* if not (obj['epoch_time']) then */
      enum { lc142 = 4 };
      lua_pushliteral(L,"epoch_time");
      lua_gettable(L,1);
      lua_pushboolean(L,!(lua_toboolean(L,-1)));
      lua_remove(L,-2);
      const int lc143 = lua_toboolean(L,-1);
      lua_pop(L,1);
      if (lc143) {
        
        /* error(ReQLDriverError('pseudo-type TIME ' .. obj .. ' table missing expected field `epoch_time`.')) */
        lua_getfield(L,LUA_ENVIRONINDEX,"error");
        const int lc144 = lua_gettop(L);
        lc_getupvalue(L,lua_upvalueindex(1),1,173);
        lua_pushliteral(L,"pseudo-type TIME ");
        lua_pushvalue(L,1);
        lua_pushliteral(L," table missing expected field `epoch_time`.");
        lua_concat(L,2);
        lua_concat(L,2);
        lua_call(L,1,LUA_MULTRET);
        lua_call(L,(lua_gettop(L) - lc144),0);
        assert(lua_gettop(L) == 4);
      }
      lua_settop(L,lc142);
      assert(lua_gettop(L) == 4);
      
      /* -- We ignore the timezone field of the pseudo-type TIME table. JS dates do not support timezones.
       * -- By converting to a native date table we are intentionally throwing out timezone information.
       * -- field 'epoch_time' is in seconds but the Date constructor expects milliseconds
       * return obj['epoch_time'] */
      lua_pushliteral(L,"epoch_time");
      lua_gettable(L,1);
      return 1;
      assert(lua_gettop(L) == 4);
    }
    else {
      
      /* elseif 'raw' == time_format then */
      enum { lc145 = 4 };
      lua_pushliteral(L,"raw");
      const int lc146 = lua_equal(L,-1,4);
      lua_pop(L,1);
      lua_pushboolean(L,lc146);
      const int lc147 = lua_toboolean(L,-1);
      lua_pop(L,1);
      if (lc147) {
        
        /* return obj */
        lua_pushvalue(L,1);
        return 1;
        assert(lua_gettop(L) == 4);
      }
      else {
        
        /* else
         * error(ReQLDriverError('Unknown time_format run option ' .. opts.time_format .. '.')) */
        lua_getfield(L,LUA_ENVIRONINDEX,"error");
        const int lc148 = lua_gettop(L);
        lc_getupvalue(L,lua_upvalueindex(1),1,173);
        lua_pushliteral(L,"Unknown time_format run option ");
        lua_pushliteral(L,"time_format");
        lua_gettable(L,2);
        lua_pushliteral(L,".");
        lua_concat(L,2);
        lua_concat(L,2);
        lua_call(L,1,LUA_MULTRET);
        lua_call(L,(lua_gettop(L) - lc148),0);
        assert(lua_gettop(L) == 4);
      }
      lua_settop(L,lc145);
    }
    lua_settop(L,lc139);
    assert(lua_gettop(L) == 4);
  }
  else {
    
    /* elseif 'GROUPED_DATA' == reql_type then */
    enum { lc149 = 3 };
    lua_pushliteral(L,"GROUPED_DATA");
    const int lc150 = lua_equal(L,-1,3);
    lua_pop(L,1);
    lua_pushboolean(L,lc150);
    const int lc151 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc151) {
      
      /* local group_format = opts.group_format */
      lua_pushliteral(L,"group_format");
      lua_gettable(L,2);
      assert(lua_gettop(L) == 4);
      
      /* if 'native' == group_format or not group_format then */
      enum { lc152 = 4 };
      lua_pushliteral(L,"native");
      lua_pushvalue(L,4);
      const int lc153 = lua_equal(L,-2,-1);
      lua_pop(L,2);
      lua_pushboolean(L,lc153);
      if (!(lua_toboolean(L,-1))) {
        lua_pop(L,1);
        lua_pushboolean(L,!(lua_toboolean(L,4)));
      }
      const int lc154 = lua_toboolean(L,-1);
      lua_pop(L,1);
      if (lc154) {
        
        /* -- Don't convert the data into a map, because the keys could be tables which doesn't work in JS
         * -- Instead, we have the following format:
         * -- [ { 'group': <group>, 'reduction': <value(s)> } }, ... ]
         * res = {} */
        lua_newtable(L);
        lua_setfield(L,LUA_ENVIRONINDEX,"res");
        assert(lua_gettop(L) == 4);
        
        /* for i, v in ipairs(obj['data']) do
         * internal: local f, s, var = explist */
        enum { lc155 = 4 };
        lua_getfield(L,LUA_ENVIRONINDEX,"ipairs");
        lua_pushliteral(L,"data");
        lua_gettable(L,1);
        lua_call(L,1,3);
        while (1) {
          
          /* internal: local var_1, ..., var_n = f(s, var)
           *           if var_1 == nil then break end
           *           var = var_1 */
          lua_pushvalue(L,-3);
          lua_pushvalue(L,-3);
          lua_pushvalue(L,-3);
          lua_call(L,2,2);
          if (lua_isnil(L,-2)) {
            break;
          }
          lua_pushvalue(L,-2);
          lua_replace(L,-4);
          
          /* internal: local i with idx 8
           * internal: local v with idx 9 */
          
          
          /* res[i] = {
           *           group = i,
           *           reduction = v
           *         } */
          lua_createtable(L,0,2);
          lua_pushliteral(L,"group");
          lua_pushvalue(L,8);
          lua_rawset(L,-3);
          lua_pushliteral(L,"reduction");
          lua_pushvalue(L,9);
          lua_rawset(L,-3);
          lua_getfield(L,LUA_ENVIRONINDEX,"res");
          lua_insert(L,-2);
          lua_pushvalue(L,8);
          lua_insert(L,-2);
          lua_settable(L,-3);
          lua_pop(L,1);
          assert(lua_gettop(L) == 9);
          
          /* internal: stack cleanup on scope exit */
          lua_pop(L,2);
        }
        lua_settop(L,lc155);
        assert(lua_gettop(L) == 4);
        
        /* obj = res */
        lua_getfield(L,LUA_ENVIRONINDEX,"res");
        lua_replace(L,1);
        assert(lua_gettop(L) == 4);
      }
      else {
        
        /* elseif 'raw' == group_format then */
        enum { lc156 = 4 };
        lua_pushliteral(L,"raw");
        const int lc157 = lua_equal(L,-1,4);
        lua_pop(L,1);
        lua_pushboolean(L,lc157);
        const int lc158 = lua_toboolean(L,-1);
        lua_pop(L,1);
        if (lc158) {
          
          /* return obj */
          lua_pushvalue(L,1);
          return 1;
          assert(lua_gettop(L) == 4);
        }
        else {
          
          /* else
           * error(ReQLDriverError('Unknown group_format run option ' .. opts.group_format .. '.')) */
          lua_getfield(L,LUA_ENVIRONINDEX,"error");
          const int lc159 = lua_gettop(L);
          lc_getupvalue(L,lua_upvalueindex(1),1,173);
          lua_pushliteral(L,"Unknown group_format run option ");
          lua_pushliteral(L,"group_format");
          lua_gettable(L,2);
          lua_pushliteral(L,".");
          lua_concat(L,2);
          lua_concat(L,2);
          lua_call(L,1,LUA_MULTRET);
          lua_call(L,(lua_gettop(L) - lc159),0);
          assert(lua_gettop(L) == 4);
        }
        lua_settop(L,lc156);
      }
      lua_settop(L,lc152);
      assert(lua_gettop(L) == 4);
    }
    else {
      
      /* elseif 'BINARY' == reql_type then */
      enum { lc160 = 3 };
      lua_pushliteral(L,"BINARY");
      const int lc161 = lua_equal(L,-1,3);
      lua_pop(L,1);
      lua_pushboolean(L,lc161);
      const int lc162 = lua_toboolean(L,-1);
      lua_pop(L,1);
      if (lc162) {
        
        /* local binary_format = opts.binary_format */
        lua_pushliteral(L,"binary_format");
        lua_gettable(L,2);
        assert(lua_gettop(L) == 4);
        
        /* if 'native' == binary_format or not binary_format then */
        enum { lc163 = 4 };
        lua_pushliteral(L,"native");
        lua_pushvalue(L,4);
        const int lc164 = lua_equal(L,-2,-1);
        lua_pop(L,2);
        lua_pushboolean(L,lc164);
        if (!(lua_toboolean(L,-1))) {
          lua_pop(L,1);
          lua_pushboolean(L,!(lua_toboolean(L,4)));
        }
        const int lc165 = lua_toboolean(L,-1);
        lua_pop(L,1);
        if (lc165) {
          
          /* if not obj.data then */
          enum { lc166 = 4 };
          lua_pushliteral(L,"data");
          lua_gettable(L,1);
          lua_pushboolean(L,!(lua_toboolean(L,-1)));
          lua_remove(L,-2);
          const int lc167 = lua_toboolean(L,-1);
          lua_pop(L,1);
          if (lc167) {
            
            /* error(ReQLDriverError('pseudo-type BINARY table missing expected field `data`.')) */
            lua_getfield(L,LUA_ENVIRONINDEX,"error");
            const int lc168 = lua_gettop(L);
            lc_getupvalue(L,lua_upvalueindex(1),1,173);
            lua_pushliteral(L,"pseudo-type BINARY table missing expected field `data`.");
            lua_call(L,1,LUA_MULTRET);
            lua_call(L,(lua_gettop(L) - lc168),0);
            assert(lua_gettop(L) == 4);
          }
          lua_settop(L,lc166);
          assert(lua_gettop(L) == 4);
          
          /* return mime.unb64(obj.data) */
          const int lc169 = lua_gettop(L);
          lc_getupvalue(L,lua_upvalueindex(1),26,2);
          lua_pushliteral(L,"unb64");
          lua_gettable(L,-2);
          lua_remove(L,-2);
          lua_pushliteral(L,"data");
          lua_gettable(L,1);
          lua_call(L,1,LUA_MULTRET);
          return (lua_gettop(L) - lc169);
          assert(lua_gettop(L) == 4);
        }
        else {
          
          /* elseif 'raw' == binary_format then */
          enum { lc170 = 4 };
          lua_pushliteral(L,"raw");
          const int lc171 = lua_equal(L,-1,4);
          lua_pop(L,1);
          lua_pushboolean(L,lc171);
          const int lc172 = lua_toboolean(L,-1);
          lua_pop(L,1);
          if (lc172) {
            
            /* return obj */
            lua_pushvalue(L,1);
            return 1;
            assert(lua_gettop(L) == 4);
          }
          else {
            
            /* else
             * error(ReQLDriverError('Unknown binary_format run option ' .. opts.binary_format .. '.')) */
            lua_getfield(L,LUA_ENVIRONINDEX,"error");
            const int lc173 = lua_gettop(L);
            lc_getupvalue(L,lua_upvalueindex(1),1,173);
            lua_pushliteral(L,"Unknown binary_format run option ");
            lua_pushliteral(L,"binary_format");
            lua_gettable(L,2);
            lua_pushliteral(L,".");
            lua_concat(L,2);
            lua_concat(L,2);
            lua_call(L,1,LUA_MULTRET);
            lua_call(L,(lua_gettop(L) - lc173),0);
            assert(lua_gettop(L) == 4);
          }
          lua_settop(L,lc170);
        }
        lua_settop(L,lc163);
        assert(lua_gettop(L) == 4);
      }
      else {
        
        /* else
         * -- Regular table or unknown pseudo type
         * return obj */
        lua_pushvalue(L,1);
        return 1;
        assert(lua_gettop(L) == 3);
      }
      lua_settop(L,lc160);
    }
    lua_settop(L,lc149);
  }
  lua_settop(L,lc136);
  assert(lua_gettop(L) == 3);
  return 0;
}


/* name: recursively_convert_pseudotype
 * function(obj, opts) */
static int lcf1_recursively_convert_pseudotype (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* if type(obj) == 'table' then */
  enum { lc174 = 2 };
  lua_getfield(L,LUA_ENVIRONINDEX,"type");
  lua_pushvalue(L,1);
  lua_call(L,1,1);
  lua_pushliteral(L,"table");
  const int lc175 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc175);
  const int lc176 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc176) {
    
    /* for key, value in pairs(obj) do
     * internal: local f, s, var = explist */
    enum { lc177 = 2 };
    lua_getfield(L,LUA_ENVIRONINDEX,"pairs");
    lua_pushvalue(L,1);
    lua_call(L,1,3);
    while (1) {
      
      /* internal: local var_1, ..., var_n = f(s, var)
       *           if var_1 == nil then break end
       *           var = var_1 */
      lua_pushvalue(L,-3);
      lua_pushvalue(L,-3);
      lua_pushvalue(L,-3);
      lua_call(L,2,2);
      if (lua_isnil(L,-2)) {
        break;
      }
      lua_pushvalue(L,-2);
      lua_replace(L,-4);
      
      /* internal: local key with idx 6
       * internal: local value with idx 7 */
      
      
      /* obj[key] = recursively_convert_pseudotype(value, opts) */
      lua_getfield(L,LUA_ENVIRONINDEX,"recursively_convert_pseudotype");
      lua_pushvalue(L,7);
      lua_pushvalue(L,2);
      lua_call(L,2,1);
      lua_pushvalue(L,6);
      lua_insert(L,-2);
      lua_settable(L,1);
      assert(lua_gettop(L) == 7);
      
      /* internal: stack cleanup on scope exit */
      lua_pop(L,2);
    }
    lua_settop(L,lc177);
    assert(lua_gettop(L) == 2);
    
    /* obj = convert_pseudotype(obj, opts) */
    lua_getfield(L,LUA_ENVIRONINDEX,"convert_pseudotype");
    lua_pushvalue(L,1);
    lua_pushvalue(L,2);
    lua_call(L,2,1);
    lua_replace(L,1);
    assert(lua_gettop(L) == 2);
  }
  lua_settop(L,lc174);
  assert(lua_gettop(L) == 2);
  
  /* if obj == json.util.null then */
  enum { lc178 = 2 };
  lc_getupvalue(L,lua_upvalueindex(1),27,1);
  lua_pushliteral(L,"util");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_pushliteral(L,"null");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  const int lc179 = lua_equal(L,1,-1);
  lua_pop(L,1);
  lua_pushboolean(L,lc179);
  const int lc180 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc180) {
    
    /* return nil */
    lua_pushnil(L);
    return 1;
    assert(lua_gettop(L) == 2);
  }
  lua_settop(L,lc178);
  assert(lua_gettop(L) == 2);
  
  /* return obj */
  lua_pushvalue(L,1);
  return 1;
  assert(lua_gettop(L) == 2);
}


/* function(self, msg, term, frames) */
static int lcf182 (lua_State * L) {
  enum { lc_nformalargs = 4 };
  lua_settop(L,4);
  
  /* self.msg = msg */
  lua_pushvalue(L,2);
  lua_pushliteral(L,"msg");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 4);
  
  /* self.message = self.__class.__name .. ' ' .. msg */
  lua_pushliteral(L,"__class");
  lua_gettable(L,1);
  lua_pushliteral(L,"__name");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_pushliteral(L," ");
  lua_pushvalue(L,2);
  lua_concat(L,2);
  lua_concat(L,2);
  lua_pushliteral(L,"message");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 4);
  
  /* if term then */
  enum { lc181 = 4 };
  if (lua_toboolean(L,3)) {
    
    /* self.message = self.message .. ' in:\n' .. ReQLQueryPrinter(term, frames):print_query() */
    lua_pushliteral(L,"message");
    lua_gettable(L,1);
    lua_pushliteral(L," in:\n");
    lc_getupvalue(L,lua_upvalueindex(1),0,174);
    lua_pushvalue(L,3);
    lua_pushvalue(L,4);
    lua_call(L,2,1);
    lua_pushliteral(L,"print_query");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_call(L,1,1);
    lua_concat(L,2);
    lua_concat(L,2);
    lua_pushliteral(L,"message");
    lua_insert(L,-2);
    lua_settable(L,1);
    assert(lua_gettop(L) == 4);
  }
  lua_settop(L,lc181);
  assert(lua_gettop(L) == 4);
  return 0;
}


/* function(self, term, frames) */
static int lcf183 (lua_State * L) {
  enum { lc_nformalargs = 3 };
  lua_settop(L,3);
  
  /* self.term = term */
  lua_pushvalue(L,2);
  lua_pushliteral(L,"term");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 3);
  
  /* self.frames = frames */
  lua_pushvalue(L,3);
  lua_pushliteral(L,"frames");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 3);
  return 0;
}


/* function(self) */
static int lcf191 (lua_State * L) {
  enum { lc_nformalargs = 1 };
  lua_settop(L,1);
  
  /* local carrots */
  lua_settop(L,(lua_gettop(L) + 1));
  assert(lua_gettop(L) == 2);
  
  /* if #self.frames == 0 then */
  enum { lc184 = 2 };
  lua_pushliteral(L,"frames");
  lua_gettable(L,1);
  const double lc185 = lua_objlen(L,-1);
  lua_pop(L,1);
  lua_pushnumber(L,lc185);
  lua_pushnumber(L,0);
  const int lc186 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc186);
  const int lc187 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc187) {
    
    /* carrots = {self:carrotify(self:compose_term(self.term))} */
    lua_createtable(L,1,0);
    const int lc188 = lua_gettop(L);
    lua_pushvalue(L,1);
    const int lc189 = lua_gettop(L);
    lua_pushliteral(L,"carrotify");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_pushvalue(L,1);
    lua_pushliteral(L,"compose_term");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_pushliteral(L,"term");
    lua_gettable(L,1);
    lua_call(L,2,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc189),LUA_MULTRET);
    while ((lua_gettop(L) > lc188)) {
      lua_rawseti(L,lc188,(0 + (lua_gettop(L) - lc188)));
    }
    lua_replace(L,2);
    assert(lua_gettop(L) == 2);
  }
  else {
    
    /* else
     * carrots = self:compose_carrots(self.term, self.frames) */
    lua_pushvalue(L,1);
    lua_pushliteral(L,"compose_carrots");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_pushliteral(L,"term");
    lua_gettable(L,1);
    lua_pushliteral(L,"frames");
    lua_gettable(L,1);
    lua_call(L,3,1);
    lua_replace(L,2);
    assert(lua_gettop(L) == 2);
  }
  lua_settop(L,lc184);
  assert(lua_gettop(L) == 2);
  
  /* carrots = self:join_tree(carrots):gsub('[^%^]', '') */
  lua_pushvalue(L,1);
  lua_pushliteral(L,"join_tree");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_pushvalue(L,2);
  lua_call(L,2,1);
  lua_pushliteral(L,"gsub");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_pushliteral(L,"[^%^]");
  lua_pushliteral(L,"");
  lua_call(L,3,1);
  lua_replace(L,2);
  assert(lua_gettop(L) == 2);
  
  /* return self:join_tree(self:compose_term(self.term)) .. '\n' .. carrots */
  lua_pushvalue(L,1);
  const int lc190 = lua_gettop(L);
  lua_pushliteral(L,"join_tree");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_pushvalue(L,1);
  lua_pushliteral(L,"compose_term");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_pushliteral(L,"term");
  lua_gettable(L,1);
  lua_call(L,2,LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc190),1);
  lua_pushliteral(L,"\n");
  lua_pushvalue(L,2);
  lua_concat(L,2);
  lua_concat(L,2);
  return 1;
  assert(lua_gettop(L) == 2);
}


/* function(self, term) */
static int lcf198 (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* if type(term) ~= 'table' then */
  enum { lc192 = 2 };
  lua_getfield(L,LUA_ENVIRONINDEX,"type");
  lua_pushvalue(L,2);
  lua_call(L,1,1);
  lua_pushliteral(L,"table");
  const int lc193 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc193);
  lua_pushboolean(L,!(lua_toboolean(L,-1)));
  lua_remove(L,-2);
  const int lc194 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc194) {
    
    /* return '' .. term */
    lua_pushliteral(L,"");
    lua_pushvalue(L,2);
    lua_concat(L,2);
    return 1;
    assert(lua_gettop(L) == 2);
  }
  lua_settop(L,lc192);
  assert(lua_gettop(L) == 2);
  
  /* local args = {} */
  lua_newtable(L);
  assert(lua_gettop(L) == 3);
  
  /* for i, arg in ipairs(term.args) do
   * internal: local f, s, var = explist */
  enum { lc195 = 3 };
  lua_getfield(L,LUA_ENVIRONINDEX,"ipairs");
  lua_pushliteral(L,"args");
  lua_gettable(L,2);
  lua_call(L,1,3);
  while (1) {
    
    /* internal: local var_1, ..., var_n = f(s, var)
     *           if var_1 == nil then break end
     *           var = var_1 */
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_call(L,2,2);
    if (lua_isnil(L,-2)) {
      break;
    }
    lua_pushvalue(L,-2);
    lua_replace(L,-4);
    
    /* internal: local i with idx 7
     * internal: local arg with idx 8 */
    
    
    /* args[i] = self:compose_term(arg) */
    lua_pushvalue(L,1);
    lua_pushliteral(L,"compose_term");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_pushvalue(L,8);
    lua_call(L,2,1);
    lua_pushvalue(L,7);
    lua_insert(L,-2);
    lua_settable(L,3);
    assert(lua_gettop(L) == 8);
    
    /* internal: stack cleanup on scope exit */
    lua_pop(L,2);
  }
  lua_settop(L,lc195);
  assert(lua_gettop(L) == 3);
  
  /* local optargs = {} */
  lua_newtable(L);
  assert(lua_gettop(L) == 4);
  
  /* for key, arg in pairs(term.optargs) do
   * internal: local f, s, var = explist */
  enum { lc196 = 4 };
  lua_getfield(L,LUA_ENVIRONINDEX,"pairs");
  lua_pushliteral(L,"optargs");
  lua_gettable(L,2);
  lua_call(L,1,3);
  while (1) {
    
    /* internal: local var_1, ..., var_n = f(s, var)
     *           if var_1 == nil then break end
     *           var = var_1 */
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_call(L,2,2);
    if (lua_isnil(L,-2)) {
      break;
    }
    lua_pushvalue(L,-2);
    lua_replace(L,-4);
    
    /* internal: local key with idx 8
     * internal: local arg with idx 9 */
    
    
    /* optargs[key] = self:compose_term(arg) */
    lua_pushvalue(L,1);
    lua_pushliteral(L,"compose_term");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_pushvalue(L,9);
    lua_call(L,2,1);
    lua_pushvalue(L,8);
    lua_insert(L,-2);
    lua_settable(L,4);
    assert(lua_gettop(L) == 9);
    
    /* internal: stack cleanup on scope exit */
    lua_pop(L,2);
  }
  lua_settop(L,lc196);
  assert(lua_gettop(L) == 4);
  
  /* return term:compose(args, optargs) */
  const int lc197 = lua_gettop(L);
  lua_pushvalue(L,2);
  lua_pushliteral(L,"compose");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_pushvalue(L,3);
  lua_pushvalue(L,4);
  lua_call(L,3,LUA_MULTRET);
  return (lua_gettop(L) - lc197);
  assert(lua_gettop(L) == 4);
}


/* function(self, term, frames) */
static int lcf211 (lua_State * L) {
  lua_checkstack(L,21);
  enum { lc_nformalargs = 3 };
  lua_settop(L,3);
  
  /* local frame = table.remove(frames, 1) */
  lua_getfield(L,LUA_ENVIRONINDEX,"table");
  lua_pushliteral(L,"remove");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_pushvalue(L,3);
  lua_pushnumber(L,1);
  lua_call(L,2,1);
  assert(lua_gettop(L) == 4);
  
  /* local args = {} */
  lua_newtable(L);
  assert(lua_gettop(L) == 5);
  
  /* for i, arg in ipairs(term.args) do
   * internal: local f, s, var = explist */
  enum { lc199 = 5 };
  lua_getfield(L,LUA_ENVIRONINDEX,"ipairs");
  lua_pushliteral(L,"args");
  lua_gettable(L,2);
  lua_call(L,1,3);
  while (1) {
    
    /* internal: local var_1, ..., var_n = f(s, var)
     *           if var_1 == nil then break end
     *           var = var_1 */
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_call(L,2,2);
    if (lua_isnil(L,-2)) {
      break;
    }
    lua_pushvalue(L,-2);
    lua_replace(L,-4);
    
    /* internal: local i with idx 9
     * internal: local arg with idx 10 */
    
    
    /* if frame == (i - 1) then */
    enum { lc200 = 10 };
    lua_pushnumber(L,1);
    lc_sub(L,9,-1);
    lua_remove(L,-2);
    const int lc201 = lua_equal(L,4,-1);
    lua_pop(L,1);
    lua_pushboolean(L,lc201);
    const int lc202 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc202) {
      
      /* args[i] = self:compose_carrots(arg, frames) */
      lua_pushvalue(L,1);
      lua_pushliteral(L,"compose_carrots");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_pushvalue(L,10);
      lua_pushvalue(L,3);
      lua_call(L,3,1);
      lua_pushvalue(L,9);
      lua_insert(L,-2);
      lua_settable(L,5);
      assert(lua_gettop(L) == 10);
    }
    else {
      
      /* else
       * args[i] = self:compose_term(arg) */
      lua_pushvalue(L,1);
      lua_pushliteral(L,"compose_term");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_pushvalue(L,10);
      lua_call(L,2,1);
      lua_pushvalue(L,9);
      lua_insert(L,-2);
      lua_settable(L,5);
      assert(lua_gettop(L) == 10);
    }
    lua_settop(L,lc200);
    assert(lua_gettop(L) == 10);
    
    /* internal: stack cleanup on scope exit */
    lua_pop(L,2);
  }
  lua_settop(L,lc199);
  assert(lua_gettop(L) == 5);
  
  /* local optargs = {} */
  lua_newtable(L);
  assert(lua_gettop(L) == 6);
  
  /* for key, arg in pairs(term.optargs) do
   * internal: local f, s, var = explist */
  enum { lc203 = 6 };
  lua_getfield(L,LUA_ENVIRONINDEX,"pairs");
  lua_pushliteral(L,"optargs");
  lua_gettable(L,2);
  lua_call(L,1,3);
  while (1) {
    
    /* internal: local var_1, ..., var_n = f(s, var)
     *           if var_1 == nil then break end
     *           var = var_1 */
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_call(L,2,2);
    if (lua_isnil(L,-2)) {
      break;
    }
    lua_pushvalue(L,-2);
    lua_replace(L,-4);
    
    /* internal: local key with idx 10
     * internal: local arg with idx 11 */
    
    
    /* if frame == key then */
    enum { lc204 = 11 };
    const int lc205 = lua_equal(L,4,10);
    lua_pushboolean(L,lc205);
    const int lc206 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc206) {
      
      /* optargs[key] = self:compose_carrots(arg, frames) */
      lua_pushvalue(L,1);
      lua_pushliteral(L,"compose_carrots");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_pushvalue(L,11);
      lua_pushvalue(L,3);
      lua_call(L,3,1);
      lua_pushvalue(L,10);
      lua_insert(L,-2);
      lua_settable(L,6);
      assert(lua_gettop(L) == 11);
    }
    else {
      
      /* else
       * optargs[key] = self:compose_term(arg) */
      lua_pushvalue(L,1);
      lua_pushliteral(L,"compose_term");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_pushvalue(L,11);
      lua_call(L,2,1);
      lua_pushvalue(L,10);
      lua_insert(L,-2);
      lua_settable(L,6);
      assert(lua_gettop(L) == 11);
    }
    lua_settop(L,lc204);
    assert(lua_gettop(L) == 11);
    
    /* internal: stack cleanup on scope exit */
    lua_pop(L,2);
  }
  lua_settop(L,lc203);
  assert(lua_gettop(L) == 6);
  
  /* if frame then */
  enum { lc207 = 6 };
  if (lua_toboolean(L,4)) {
    
    /* return term.compose(args, optargs) */
    const int lc208 = lua_gettop(L);
    lua_pushliteral(L,"compose");
    lua_gettable(L,2);
    lua_pushvalue(L,5);
    lua_pushvalue(L,6);
    lua_call(L,2,LUA_MULTRET);
    return (lua_gettop(L) - lc208);
    assert(lua_gettop(L) == 6);
  }
  lua_settop(L,lc207);
  assert(lua_gettop(L) == 6);
  
  /* return self:carrotify(term.compose(args, optargs)) */
  const int lc209 = lua_gettop(L);
  lua_pushvalue(L,1);
  const int lc210 = lua_gettop(L);
  lua_pushliteral(L,"carrotify");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_pushliteral(L,"compose");
  lua_gettable(L,2);
  lua_pushvalue(L,5);
  lua_pushvalue(L,6);
  lua_call(L,2,LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc210),LUA_MULTRET);
  return (lua_gettop(L) - lc209);
  assert(lua_gettop(L) == 6);
}


/* function(self, tree) */
static int lcf212 (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* return {carrot_marker, tree} */
  lua_createtable(L,2,0);
  lua_getfield(L,LUA_ENVIRONINDEX,"carrot_marker");
  lua_rawseti(L,-2,1);
  lua_pushvalue(L,2);
  lua_rawseti(L,-2,2);
  return 1;
  assert(lua_gettop(L) == 2);
}


/* function(self, tree) */
static int lcf222 (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* local str = '' */
  lua_pushliteral(L,"");
  assert(lua_gettop(L) == 3);
  
  /* for _, term in ipairs(tree) do
   * internal: local f, s, var = explist */
  enum { lc213 = 3 };
  lua_getfield(L,LUA_ENVIRONINDEX,"ipairs");
  lua_pushvalue(L,2);
  lua_call(L,1,3);
  while (1) {
    
    /* internal: local var_1, ..., var_n = f(s, var)
     *           if var_1 == nil then break end
     *           var = var_1 */
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_call(L,2,2);
    if (lua_isnil(L,-2)) {
      break;
    }
    lua_pushvalue(L,-2);
    lua_replace(L,-4);
    
    /* internal: local _ with idx 7
     * internal: local term with idx 8 */
    
    
    /* if type(term) == 'table' then */
    enum { lc214 = 8 };
    lua_getfield(L,LUA_ENVIRONINDEX,"type");
    lua_pushvalue(L,8);
    lua_call(L,1,1);
    lua_pushliteral(L,"table");
    const int lc215 = lua_equal(L,-2,-1);
    lua_pop(L,2);
    lua_pushboolean(L,lc215);
    const int lc216 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc216) {
      
      /* if #term == 2 and term[1] == self.carrot_marker then */
      enum { lc217 = 8 };
      const double lc218 = lua_objlen(L,8);
      lua_pushnumber(L,lc218);
      lua_pushnumber(L,2);
      const int lc219 = lua_equal(L,-2,-1);
      lua_pop(L,2);
      lua_pushboolean(L,lc219);
      if (lua_toboolean(L,-1)) {
        lua_pop(L,1);
        lua_pushnumber(L,1);
        lua_gettable(L,8);
        lua_pushliteral(L,"carrot_marker");
        lua_gettable(L,1);
        const int lc220 = lua_equal(L,-2,-1);
        lua_pop(L,2);
        lua_pushboolean(L,lc220);
      }
      const int lc221 = lua_toboolean(L,-1);
      lua_pop(L,1);
      if (lc221) {
        
        /* str = str .. self:join_tree(term[2]):gsub('.', '^') */
        lua_pushvalue(L,3);
        lua_pushvalue(L,1);
        lua_pushliteral(L,"join_tree");
        lua_gettable(L,-2);
        lua_insert(L,-2);
        lua_pushnumber(L,2);
        lua_gettable(L,8);
        lua_call(L,2,1);
        lua_pushliteral(L,"gsub");
        lua_gettable(L,-2);
        lua_insert(L,-2);
        lua_pushliteral(L,".");
        lua_pushliteral(L,"^");
        lua_call(L,3,1);
        lua_concat(L,2);
        lua_replace(L,3);
        assert(lua_gettop(L) == 8);
      }
      else {
        
        /* else
         * str = str .. self:join_tree(term) */
        lua_pushvalue(L,3);
        lua_pushvalue(L,1);
        lua_pushliteral(L,"join_tree");
        lua_gettable(L,-2);
        lua_insert(L,-2);
        lua_pushvalue(L,8);
        lua_call(L,2,1);
        lua_concat(L,2);
        lua_replace(L,3);
        assert(lua_gettop(L) == 8);
      }
      lua_settop(L,lc217);
      assert(lua_gettop(L) == 8);
    }
    else {
      
      /* else
       * str = str .. term */
      lua_pushvalue(L,3);
      lua_pushvalue(L,8);
      lua_concat(L,2);
      lua_replace(L,3);
      assert(lua_gettop(L) == 8);
    }
    lua_settop(L,lc214);
    assert(lua_gettop(L) == 8);
    
    /* internal: stack cleanup on scope exit */
    lua_pop(L,2);
  }
  lua_settop(L,lc213);
  assert(lua_gettop(L) == 3);
  
  /* return str */
  lua_pushvalue(L,3);
  return 1;
  assert(lua_gettop(L) == 3);
}


/* function(self, connection, options, callback) */
static int lcf234 (lua_State * L) {
  enum { lc_nformalargs = 4 };
  lua_settop(L,4);
  
  /* -- Valid syntaxes are
   * -- connection
   * -- connection, callback
   * -- connection, options, callback
   * -- connection, nil, callback
   * -- Handle run(connection, callback)
   * if type(options) == 'function' then */
  enum { lc223 = 4 };
  lua_getfield(L,LUA_ENVIRONINDEX,"type");
  lua_pushvalue(L,3);
  lua_call(L,1,1);
  lua_pushliteral(L,"function");
  const int lc224 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc224);
  const int lc225 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc225) {
    
    /* if callback then */
    enum { lc226 = 4 };
    if (lua_toboolean(L,4)) {
      
      /* return error('Second argument to `run` cannot be a function if a third argument is provided.') */
      const int lc227 = lua_gettop(L);
      lua_getfield(L,LUA_ENVIRONINDEX,"error");
      lua_pushliteral(L,"Second argument to `run` cannot be a function if a third argument is provided.");
      lua_call(L,1,LUA_MULTRET);
      return (lua_gettop(L) - lc227);
      assert(lua_gettop(L) == 4);
    }
    lua_settop(L,lc226);
    assert(lua_gettop(L) == 4);
    
    /* callback = options */
    lua_pushvalue(L,3);
    lua_replace(L,4);
    assert(lua_gettop(L) == 4);
    
    /* options = {} */
    lua_newtable(L);
    lua_replace(L,3);
    assert(lua_gettop(L) == 4);
  }
  lua_settop(L,lc223);
  assert(lua_gettop(L) == 4);
  
  /* -- else we suppose that we have run(connection[, options][, callback])
   * if not is_instance(connection, 'Connection') then */
  enum { lc228 = 4 };
  lua_getfield(L,LUA_ENVIRONINDEX,"is_instance");
  lua_pushvalue(L,2);
  lua_pushliteral(L,"Connection");
  lua_call(L,2,1);
  lua_pushboolean(L,!(lua_toboolean(L,-1)));
  lua_remove(L,-2);
  const int lc229 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc229) {
    
    /* if callback then */
    enum { lc230 = 4 };
    if (lua_toboolean(L,4)) {
      
      /* return callback(ReQLDriverError('First argument to `run` must be a connection.')) */
      const int lc231 = lua_gettop(L);
      lua_pushvalue(L,4);
      const int lc232 = lua_gettop(L);
      lc_getupvalue(L,lua_upvalueindex(1),1,173);
      lua_pushliteral(L,"First argument to `run` must be a connection.");
      lua_call(L,1,LUA_MULTRET);
      lua_call(L,(lua_gettop(L) - lc232),LUA_MULTRET);
      return (lua_gettop(L) - lc231);
      assert(lua_gettop(L) == 4);
    }
    lua_settop(L,lc230);
    assert(lua_gettop(L) == 4);
    
    /* error('First argument to `run` must be a connection.') */
    lua_getfield(L,LUA_ENVIRONINDEX,"error");
    lua_pushliteral(L,"First argument to `run` must be a connection.");
    lua_call(L,1,0);
    assert(lua_gettop(L) == 4);
  }
  lua_settop(L,lc228);
  assert(lua_gettop(L) == 4);
  
  /* return connection:_start(self, callback, options or {}) */
  const int lc233 = lua_gettop(L);
  lua_pushvalue(L,2);
  lua_pushliteral(L,"_start");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_pushvalue(L,1);
  lua_pushvalue(L,4);
  lua_pushvalue(L,3);
  if (!(lua_toboolean(L,-1))) {
    lua_pop(L,1);
    lua_newtable(L);
  }
  lua_call(L,4,LUA_MULTRET);
  return (lua_gettop(L) - lc233);
  assert(lua_gettop(L) == 4);
}


/* function(...) */
static int lcf237 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Add({}, ...) */
  const int lc235 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),21,19);
  const int lc236 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc236),LUA_MULTRET);
  return (lua_gettop(L) - lc235);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf240 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return All({}, ...) */
  const int lc238 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),21,18);
  const int lc239 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc239),LUA_MULTRET);
  return (lua_gettop(L) - lc238);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf243 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Any({}, ...) */
  const int lc241 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),21,17);
  const int lc242 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc242),LUA_MULTRET);
  return (lua_gettop(L) - lc241);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf246 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Append({}, ...) */
  const int lc244 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),21,16);
  const int lc245 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc245),LUA_MULTRET);
  return (lua_gettop(L) - lc244);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf249 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return April({}, ...) */
  const int lc247 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),21,15);
  const int lc248 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc248),LUA_MULTRET);
  return (lua_gettop(L) - lc247);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf252 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Args({}, ...) */
  const int lc250 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),21,14);
  const int lc251 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc251),LUA_MULTRET);
  return (lua_gettop(L) - lc250);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf255 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return MakeArray({}, ...) */
  const int lc253 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),11,95);
  const int lc254 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc254),LUA_MULTRET);
  return (lua_gettop(L) - lc253);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf258 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Asc({}, ...) */
  const int lc256 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),21,13);
  const int lc257 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc257),LUA_MULTRET);
  return (lua_gettop(L) - lc256);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf261 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return August({}, ...) */
  const int lc259 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),21,12);
  const int lc260 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc260),LUA_MULTRET);
  return (lua_gettop(L) - lc259);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf264 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Avg({}, ...) */
  const int lc262 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),21,11);
  const int lc263 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc263),LUA_MULTRET);
  return (lua_gettop(L) - lc262);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(self, left, right, opts) */
static int lcf266 (lua_State * L) {
  enum { lc_nformalargs = 4 };
  lua_settop(L,4);
  
  /* return Between(opts, self, left, right) */
  const int lc265 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),21,10);
  lua_pushvalue(L,4);
  lua_pushvalue(L,1);
  lua_pushvalue(L,2);
  lua_pushvalue(L,3);
  lua_call(L,4,LUA_MULTRET);
  return (lua_gettop(L) - lc265);
  assert(lua_gettop(L) == 4);
}


/* function(...) */
static int lcf269 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Binary({}, ...) */
  const int lc267 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),21,9);
  const int lc268 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc268),LUA_MULTRET);
  return (lua_gettop(L) - lc267);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf272 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Branch({}, ...) */
  const int lc270 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),20,25);
  const int lc271 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc271),LUA_MULTRET);
  return (lua_gettop(L) - lc270);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf275 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return ChangeAt({}, ...) */
  const int lc273 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),20,24);
  const int lc274 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc274),LUA_MULTRET);
  return (lua_gettop(L) - lc273);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf278 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Changes({}, ...) */
  const int lc276 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),20,23);
  const int lc277 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc277),LUA_MULTRET);
  return (lua_gettop(L) - lc276);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf282 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Circle(get_opts(...)) */
  const int lc279 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),20,22);
  const int lc280 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc281 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc281),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc280),LUA_MULTRET);
  return (lua_gettop(L) - lc279);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf285 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return CoerceTo({}, ...) */
  const int lc283 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),20,21);
  const int lc284 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc284),LUA_MULTRET);
  return (lua_gettop(L) - lc283);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf288 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return ConcatMap({}, ...) */
  const int lc286 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),20,20);
  const int lc287 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc287),LUA_MULTRET);
  return (lua_gettop(L) - lc286);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf291 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Contains({}, ...) */
  const int lc289 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),19,35);
  const int lc290 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc290),LUA_MULTRET);
  return (lua_gettop(L) - lc289);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf294 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Count({}, ...) */
  const int lc292 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),19,34);
  const int lc293 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc293),LUA_MULTRET);
  return (lua_gettop(L) - lc292);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf297 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Date({}, ...) */
  const int lc295 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),19,33);
  const int lc296 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc296),LUA_MULTRET);
  return (lua_gettop(L) - lc295);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf300 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Day({}, ...) */
  const int lc298 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),19,32);
  const int lc299 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc299),LUA_MULTRET);
  return (lua_gettop(L) - lc298);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf303 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return DayOfWeek({}, ...) */
  const int lc301 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),19,31);
  const int lc302 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc302),LUA_MULTRET);
  return (lua_gettop(L) - lc301);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf306 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return DayOfYear({}, ...) */
  const int lc304 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),19,30);
  const int lc305 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc305),LUA_MULTRET);
  return (lua_gettop(L) - lc304);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf309 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Db({}, ...) */
  const int lc307 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),19,29);
  const int lc308 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc308),LUA_MULTRET);
  return (lua_gettop(L) - lc307);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf312 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return DbCreate({}, ...) */
  const int lc310 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),19,28);
  const int lc311 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc311),LUA_MULTRET);
  return (lua_gettop(L) - lc310);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf315 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return DbDrop({}, ...) */
  const int lc313 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),19,27);
  const int lc314 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc314),LUA_MULTRET);
  return (lua_gettop(L) - lc313);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf318 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return DbList({}, ...) */
  const int lc316 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),18,43);
  const int lc317 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc317),LUA_MULTRET);
  return (lua_gettop(L) - lc316);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf321 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return December({}, ...) */
  const int lc319 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),18,42);
  const int lc320 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc320),LUA_MULTRET);
  return (lua_gettop(L) - lc319);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf324 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Default({}, ...) */
  const int lc322 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),18,41);
  const int lc323 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc323),LUA_MULTRET);
  return (lua_gettop(L) - lc322);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf328 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Delete(get_opts(...)) */
  const int lc325 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),18,40);
  const int lc326 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc327 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc327),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc326),LUA_MULTRET);
  return (lua_gettop(L) - lc325);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf331 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return DeleteAt({}, ...) */
  const int lc329 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),18,39);
  const int lc330 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc330),LUA_MULTRET);
  return (lua_gettop(L) - lc329);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf334 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Desc({}, ...) */
  const int lc332 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),18,38);
  const int lc333 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc333),LUA_MULTRET);
  return (lua_gettop(L) - lc332);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf337 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Difference({}, ...) */
  const int lc335 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),18,37);
  const int lc336 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc336),LUA_MULTRET);
  return (lua_gettop(L) - lc335);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(self, g, opts) */
static int lcf339 (lua_State * L) {
  enum { lc_nformalargs = 3 };
  lua_settop(L,3);
  
  /* return Distance(opts, self, g) */
  const int lc338 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),18,36);
  lua_pushvalue(L,3);
  lua_pushvalue(L,1);
  lua_pushvalue(L,2);
  lua_call(L,3,LUA_MULTRET);
  return (lua_gettop(L) - lc338);
  assert(lua_gettop(L) == 3);
}


/* function(...) */
static int lcf343 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Distinct(get_opts(...)) */
  const int lc340 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),17,52);
  const int lc341 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc342 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc342),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc341),LUA_MULTRET);
  return (lua_gettop(L) - lc340);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf346 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Div({}, ...) */
  const int lc344 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),17,51);
  const int lc345 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc345),LUA_MULTRET);
  return (lua_gettop(L) - lc344);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf349 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Do({}, ...) */
  const int lc347 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),17,50);
  const int lc348 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc348),LUA_MULTRET);
  return (lua_gettop(L) - lc347);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf352 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Downcase({}, ...) */
  const int lc350 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),17,49);
  const int lc351 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc351),LUA_MULTRET);
  return (lua_gettop(L) - lc350);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(t1, t2, t3, opts) */
static int lcf354 (lua_State * L) {
  enum { lc_nformalargs = 4 };
  lua_settop(L,4);
  
  /* return During(opts, t1, t2, t3) */
  const int lc353 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),17,48);
  lua_pushvalue(L,4);
  lua_pushvalue(L,1);
  lua_pushvalue(L,2);
  lua_pushvalue(L,3);
  lua_call(L,4,LUA_MULTRET);
  return (lua_gettop(L) - lc353);
  assert(lua_gettop(L) == 4);
}


/* function(...) */
static int lcf357 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return EpochTime({}, ...) */
  const int lc355 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),17,47);
  const int lc356 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc356),LUA_MULTRET);
  return (lua_gettop(L) - lc355);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf360 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Eq({}, ...) */
  const int lc358 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),17,46);
  const int lc359 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc359),LUA_MULTRET);
  return (lua_gettop(L) - lc358);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf364 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return EqJoin(get_opts(...)) */
  const int lc361 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),17,45);
  const int lc362 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc363 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc363),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc362),LUA_MULTRET);
  return (lua_gettop(L) - lc361);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf367 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Error({}, ...) */
  const int lc365 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),17,44);
  const int lc366 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc366),LUA_MULTRET);
  return (lua_gettop(L) - lc365);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf370 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return February({}, ...) */
  const int lc368 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),16,62);
  const int lc369 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc369),LUA_MULTRET);
  return (lua_gettop(L) - lc368);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf373 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Fill({}, ...) */
  const int lc371 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),16,61);
  const int lc372 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc372),LUA_MULTRET);
  return (lua_gettop(L) - lc371);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf377 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Filter(get_opts(...)) */
  const int lc374 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),16,60);
  const int lc375 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc376 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc376),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc375),LUA_MULTRET);
  return (lua_gettop(L) - lc374);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf380 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return ForEach({}, ...) */
  const int lc378 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),16,59);
  const int lc379 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc379),LUA_MULTRET);
  return (lua_gettop(L) - lc378);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf383 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Friday({}, ...) */
  const int lc381 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),16,58);
  const int lc382 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc382),LUA_MULTRET);
  return (lua_gettop(L) - lc381);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf386 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Func({}, ...) */
  const int lc384 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),16,57);
  const int lc385 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc385),LUA_MULTRET);
  return (lua_gettop(L) - lc384);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf389 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Ge({}, ...) */
  const int lc387 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),16,56);
  const int lc388 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc388),LUA_MULTRET);
  return (lua_gettop(L) - lc387);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf392 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Geojson({}, ...) */
  const int lc390 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),16,55);
  const int lc391 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc391),LUA_MULTRET);
  return (lua_gettop(L) - lc390);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf395 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Get({}, ...) */
  const int lc393 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),16,54);
  const int lc394 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc394),LUA_MULTRET);
  return (lua_gettop(L) - lc393);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf399 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return GetAll(get_opts(...)) */
  const int lc396 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),16,53);
  const int lc397 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc398 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc398),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc397),LUA_MULTRET);
  return (lua_gettop(L) - lc396);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf402 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return GetField({}, ...) */
  const int lc400 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),15,70);
  const int lc401 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc401),LUA_MULTRET);
  return (lua_gettop(L) - lc400);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf406 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return GetIntersecting(get_opts(...)) */
  const int lc403 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),15,69);
  const int lc404 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc405 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc405),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc404),LUA_MULTRET);
  return (lua_gettop(L) - lc403);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf410 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return GetNearest(get_opts(...)) */
  const int lc407 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),15,68);
  const int lc408 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc409 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc409),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc408),LUA_MULTRET);
  return (lua_gettop(L) - lc407);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf414 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Group(get_opts(...)) */
  const int lc411 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),15,67);
  const int lc412 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc413 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc413),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc412),LUA_MULTRET);
  return (lua_gettop(L) - lc411);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf417 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Gt({}, ...) */
  const int lc415 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),15,66);
  const int lc416 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc416),LUA_MULTRET);
  return (lua_gettop(L) - lc415);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf420 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return HasFields({}, ...) */
  const int lc418 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),15,65);
  const int lc419 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc419),LUA_MULTRET);
  return (lua_gettop(L) - lc418);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf423 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Hours({}, ...) */
  const int lc421 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),15,64);
  const int lc422 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc422),LUA_MULTRET);
  return (lua_gettop(L) - lc421);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf427 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Http(get_opts(...)) */
  const int lc424 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),15,63);
  const int lc425 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc426 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc426),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc425),LUA_MULTRET);
  return (lua_gettop(L) - lc424);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf430 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return InTimezone({}, ...) */
  const int lc428 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),14,75);
  const int lc429 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc429),LUA_MULTRET);
  return (lua_gettop(L) - lc428);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf433 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Includes({}, ...) */
  const int lc431 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),14,74);
  const int lc432 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc432),LUA_MULTRET);
  return (lua_gettop(L) - lc431);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf436 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Bracket({}, ...) */
  const int lc434 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),20,26);
  const int lc435 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc435),LUA_MULTRET);
  return (lua_gettop(L) - lc434);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf440 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return IndexCreate(get_opts(...)) */
  const int lc437 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),14,73);
  const int lc438 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc439 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc439),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc438),LUA_MULTRET);
  return (lua_gettop(L) - lc437);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf443 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return IndexDrop({}, ...) */
  const int lc441 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),14,72);
  const int lc442 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc442),LUA_MULTRET);
  return (lua_gettop(L) - lc441);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf446 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return IndexList({}, ...) */
  const int lc444 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),14,71);
  const int lc445 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc445),LUA_MULTRET);
  return (lua_gettop(L) - lc444);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf450 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return IndexRename(get_opts(...)) */
  const int lc447 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),13,83);
  const int lc448 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc449 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc449),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc448),LUA_MULTRET);
  return (lua_gettop(L) - lc447);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf453 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return IndexStatus({}, ...) */
  const int lc451 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),13,82);
  const int lc452 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc452),LUA_MULTRET);
  return (lua_gettop(L) - lc451);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf456 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return IndexWait({}, ...) */
  const int lc454 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),13,81);
  const int lc455 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc455),LUA_MULTRET);
  return (lua_gettop(L) - lc454);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf459 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return IndexesOf({}, ...) */
  const int lc457 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),13,80);
  const int lc458 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc458),LUA_MULTRET);
  return (lua_gettop(L) - lc457);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf462 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Info({}, ...) */
  const int lc460 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),13,79);
  const int lc461 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc461),LUA_MULTRET);
  return (lua_gettop(L) - lc460);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf465 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return InnerJoin({}, ...) */
  const int lc463 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),13,78);
  const int lc464 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc464),LUA_MULTRET);
  return (lua_gettop(L) - lc463);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(tbl, doc, opts) */
static int lcf467 (lua_State * L) {
  enum { lc_nformalargs = 3 };
  lua_settop(L,3);
  
  /* return Insert(opts, tbl, doc) */
  const int lc466 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),13,77);
  lua_pushvalue(L,3);
  lua_pushvalue(L,1);
  lua_pushvalue(L,2);
  lua_call(L,3,LUA_MULTRET);
  return (lua_gettop(L) - lc466);
  assert(lua_gettop(L) == 3);
}


/* function(...) */
static int lcf470 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return InsertAt({}, ...) */
  const int lc468 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),12,91);
  const int lc469 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc469),LUA_MULTRET);
  return (lua_gettop(L) - lc468);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf473 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Intersects({}, ...) */
  const int lc471 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),12,90);
  const int lc472 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc472),LUA_MULTRET);
  return (lua_gettop(L) - lc471);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf476 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return IsEmpty({}, ...) */
  const int lc474 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),12,89);
  const int lc475 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc475),LUA_MULTRET);
  return (lua_gettop(L) - lc474);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf480 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return ISO8601(get_opts(...)) */
  const int lc477 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),14,76);
  const int lc478 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc479 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc479),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc478),LUA_MULTRET);
  return (lua_gettop(L) - lc477);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf483 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return January({}, ...) */
  const int lc481 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),12,88);
  const int lc482 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc482),LUA_MULTRET);
  return (lua_gettop(L) - lc481);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf487 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return JavaScript(get_opts(...)) */
  const int lc484 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),12,87);
  const int lc485 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc486 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc486),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc485),LUA_MULTRET);
  return (lua_gettop(L) - lc484);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf490 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Json({}, ...) */
  const int lc488 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),12,86);
  const int lc489 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc489),LUA_MULTRET);
  return (lua_gettop(L) - lc488);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf493 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return July({}, ...) */
  const int lc491 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),12,85);
  const int lc492 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc492),LUA_MULTRET);
  return (lua_gettop(L) - lc491);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf496 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return June({}, ...) */
  const int lc494 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),12,84);
  const int lc495 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc495),LUA_MULTRET);
  return (lua_gettop(L) - lc494);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf499 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Keys({}, ...) */
  const int lc497 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),11,101);
  const int lc498 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc498),LUA_MULTRET);
  return (lua_gettop(L) - lc497);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf502 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Le({}, ...) */
  const int lc500 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),11,100);
  const int lc501 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc501),LUA_MULTRET);
  return (lua_gettop(L) - lc500);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf505 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Limit({}, ...) */
  const int lc503 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),11,99);
  const int lc504 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc504),LUA_MULTRET);
  return (lua_gettop(L) - lc503);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf508 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Line({}, ...) */
  const int lc506 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),11,98);
  const int lc507 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc507),LUA_MULTRET);
  return (lua_gettop(L) - lc506);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf511 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Literal({}, ...) */
  const int lc509 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),11,97);
  const int lc510 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc510),LUA_MULTRET);
  return (lua_gettop(L) - lc509);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf514 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Lt({}, ...) */
  const int lc512 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),11,96);
  const int lc513 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc513),LUA_MULTRET);
  return (lua_gettop(L) - lc512);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf517 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return MakeObj({}, ...) */
  const int lc515 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),11,94);
  const int lc516 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc516),LUA_MULTRET);
  return (lua_gettop(L) - lc515);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf520 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Map({}, ...) */
  const int lc518 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),11,93);
  const int lc519 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc519),LUA_MULTRET);
  return (lua_gettop(L) - lc518);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf523 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return March({}, ...) */
  const int lc521 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),11,92);
  const int lc522 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc522),LUA_MULTRET);
  return (lua_gettop(L) - lc521);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf526 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Match({}, ...) */
  const int lc524 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),10,113);
  const int lc525 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc525),LUA_MULTRET);
  return (lua_gettop(L) - lc524);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf529 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Max({}, ...) */
  const int lc527 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),10,112);
  const int lc528 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc528),LUA_MULTRET);
  return (lua_gettop(L) - lc527);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf532 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return May({}, ...) */
  const int lc530 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),10,111);
  const int lc531 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc531),LUA_MULTRET);
  return (lua_gettop(L) - lc530);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf535 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Merge({}, ...) */
  const int lc533 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),10,110);
  const int lc534 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc534),LUA_MULTRET);
  return (lua_gettop(L) - lc533);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf538 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Min({}, ...) */
  const int lc536 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),10,109);
  const int lc537 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc537),LUA_MULTRET);
  return (lua_gettop(L) - lc536);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf541 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Minutes({}, ...) */
  const int lc539 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),10,108);
  const int lc540 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc540),LUA_MULTRET);
  return (lua_gettop(L) - lc539);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf544 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Mod({}, ...) */
  const int lc542 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),10,107);
  const int lc543 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc543),LUA_MULTRET);
  return (lua_gettop(L) - lc542);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf547 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Monday({}, ...) */
  const int lc545 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),10,106);
  const int lc546 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc546),LUA_MULTRET);
  return (lua_gettop(L) - lc545);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf550 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Month({}, ...) */
  const int lc548 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),10,105);
  const int lc549 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc549),LUA_MULTRET);
  return (lua_gettop(L) - lc548);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf553 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Mul({}, ...) */
  const int lc551 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),10,104);
  const int lc552 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc552),LUA_MULTRET);
  return (lua_gettop(L) - lc551);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf556 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Ne({}, ...) */
  const int lc554 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),10,103);
  const int lc555 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc555),LUA_MULTRET);
  return (lua_gettop(L) - lc554);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf559 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Not({}, ...) */
  const int lc557 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),10,102);
  const int lc558 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc558),LUA_MULTRET);
  return (lua_gettop(L) - lc557);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf562 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return November({}, ...) */
  const int lc560 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),9,122);
  const int lc561 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc561),LUA_MULTRET);
  return (lua_gettop(L) - lc560);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf565 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Now({}, ...) */
  const int lc563 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),9,121);
  const int lc564 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc564),LUA_MULTRET);
  return (lua_gettop(L) - lc563);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf568 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Nth({}, ...) */
  const int lc566 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),9,120);
  const int lc567 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc567),LUA_MULTRET);
  return (lua_gettop(L) - lc566);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf571 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Object({}, ...) */
  const int lc569 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),9,119);
  const int lc570 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc570),LUA_MULTRET);
  return (lua_gettop(L) - lc569);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf574 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return October({}, ...) */
  const int lc572 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),9,118);
  const int lc573 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc573),LUA_MULTRET);
  return (lua_gettop(L) - lc572);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf578 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return OrderBy(get_opts(...)) */
  const int lc575 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),9,117);
  const int lc576 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc577 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc577),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc576),LUA_MULTRET);
  return (lua_gettop(L) - lc575);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf581 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return OuterJoin({}, ...) */
  const int lc579 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),9,116);
  const int lc580 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc580),LUA_MULTRET);
  return (lua_gettop(L) - lc579);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf584 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Pluck({}, ...) */
  const int lc582 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),9,115);
  const int lc583 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc583),LUA_MULTRET);
  return (lua_gettop(L) - lc582);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf587 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Point({}, ...) */
  const int lc585 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),9,114);
  const int lc586 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc586),LUA_MULTRET);
  return (lua_gettop(L) - lc585);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf590 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Polygon({}, ...) */
  const int lc588 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),8,130);
  const int lc589 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc589),LUA_MULTRET);
  return (lua_gettop(L) - lc588);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf593 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return PolygonSub({}, ...) */
  const int lc591 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),8,129);
  const int lc592 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc592),LUA_MULTRET);
  return (lua_gettop(L) - lc591);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf596 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Prepend({}, ...) */
  const int lc594 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),8,128);
  const int lc595 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc595),LUA_MULTRET);
  return (lua_gettop(L) - lc594);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf600 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Random(get_opts(...)) */
  const int lc597 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),8,127);
  const int lc598 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc599 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc599),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc598),LUA_MULTRET);
  return (lua_gettop(L) - lc597);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf603 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Range({}, ...) */
  const int lc601 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),8,126);
  const int lc602 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc602),LUA_MULTRET);
  return (lua_gettop(L) - lc601);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf606 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Reduce({}, ...) */
  const int lc604 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),8,125);
  const int lc605 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc605),LUA_MULTRET);
  return (lua_gettop(L) - lc604);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf610 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Replace(get_opts(...)) */
  const int lc607 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),8,124);
  const int lc608 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc609 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc609),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc608),LUA_MULTRET);
  return (lua_gettop(L) - lc607);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf613 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Sample({}, ...) */
  const int lc611 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),8,123);
  const int lc612 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc612),LUA_MULTRET);
  return (lua_gettop(L) - lc611);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf616 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Saturday({}, ...) */
  const int lc614 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),7,136);
  const int lc615 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc615),LUA_MULTRET);
  return (lua_gettop(L) - lc614);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf619 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Seconds({}, ...) */
  const int lc617 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),7,135);
  const int lc618 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc618),LUA_MULTRET);
  return (lua_gettop(L) - lc617);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf622 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return September({}, ...) */
  const int lc620 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),7,134);
  const int lc621 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc621),LUA_MULTRET);
  return (lua_gettop(L) - lc620);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf625 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return SetDifference({}, ...) */
  const int lc623 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),7,133);
  const int lc624 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc624),LUA_MULTRET);
  return (lua_gettop(L) - lc623);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf628 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return SetInsert({}, ...) */
  const int lc626 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),7,132);
  const int lc627 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc627),LUA_MULTRET);
  return (lua_gettop(L) - lc626);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf631 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return SetIntersection({}, ...) */
  const int lc629 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),7,131);
  const int lc630 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc630),LUA_MULTRET);
  return (lua_gettop(L) - lc629);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf634 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return SetUnion({}, ...) */
  const int lc632 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),6,146);
  const int lc633 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc633),LUA_MULTRET);
  return (lua_gettop(L) - lc632);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf637 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Skip({}, ...) */
  const int lc635 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),6,145);
  const int lc636 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc636),LUA_MULTRET);
  return (lua_gettop(L) - lc635);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf641 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Slice(get_opts(...)) */
  const int lc638 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),6,144);
  const int lc639 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc640 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc640),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc639),LUA_MULTRET);
  return (lua_gettop(L) - lc638);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf644 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return SpliceAt({}, ...) */
  const int lc642 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),6,143);
  const int lc643 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc643),LUA_MULTRET);
  return (lua_gettop(L) - lc642);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf647 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Split({}, ...) */
  const int lc645 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),6,142);
  const int lc646 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc646),LUA_MULTRET);
  return (lua_gettop(L) - lc645);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf650 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Sub({}, ...) */
  const int lc648 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),6,141);
  const int lc649 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc649),LUA_MULTRET);
  return (lua_gettop(L) - lc648);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf653 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Sum({}, ...) */
  const int lc651 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),6,140);
  const int lc652 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc652),LUA_MULTRET);
  return (lua_gettop(L) - lc651);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf656 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Sunday({}, ...) */
  const int lc654 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),6,139);
  const int lc655 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc655),LUA_MULTRET);
  return (lua_gettop(L) - lc654);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf659 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Sync({}, ...) */
  const int lc657 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),6,138);
  const int lc658 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc658),LUA_MULTRET);
  return (lua_gettop(L) - lc657);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf663 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Table(get_opts(...)) */
  const int lc660 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),6,137);
  const int lc661 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc662 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc662),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc661),LUA_MULTRET);
  return (lua_gettop(L) - lc660);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf667 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return TableCreate(get_opts(...)) */
  const int lc664 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),5,153);
  const int lc665 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc666 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc666),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc665),LUA_MULTRET);
  return (lua_gettop(L) - lc664);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf670 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return TableDrop({}, ...) */
  const int lc668 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),5,152);
  const int lc669 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc669),LUA_MULTRET);
  return (lua_gettop(L) - lc668);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf673 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return TableList({}, ...) */
  const int lc671 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),5,151);
  const int lc672 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc672),LUA_MULTRET);
  return (lua_gettop(L) - lc671);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf676 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Thursday({}, ...) */
  const int lc674 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),5,150);
  const int lc675 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc675),LUA_MULTRET);
  return (lua_gettop(L) - lc674);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf679 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Time({}, ...) */
  const int lc677 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),5,149);
  const int lc678 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc678),LUA_MULTRET);
  return (lua_gettop(L) - lc677);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf682 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return TimeOfDay({}, ...) */
  const int lc680 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),5,148);
  const int lc681 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc681),LUA_MULTRET);
  return (lua_gettop(L) - lc680);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf685 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Timezone({}, ...) */
  const int lc683 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),5,147);
  const int lc684 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc684),LUA_MULTRET);
  return (lua_gettop(L) - lc683);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf688 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return ToEpochTime({}, ...) */
  const int lc686 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),4,160);
  const int lc687 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc687),LUA_MULTRET);
  return (lua_gettop(L) - lc686);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf691 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return ToGeojson({}, ...) */
  const int lc689 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),4,159);
  const int lc690 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc690),LUA_MULTRET);
  return (lua_gettop(L) - lc689);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf694 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return ToISO8601({}, ...) */
  const int lc692 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),4,158);
  const int lc693 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc693),LUA_MULTRET);
  return (lua_gettop(L) - lc692);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf697 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return ToJsonString({}, ...) */
  const int lc695 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),4,157);
  const int lc696 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc696),LUA_MULTRET);
  return (lua_gettop(L) - lc695);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf700 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Tuesday({}, ...) */
  const int lc698 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),4,156);
  const int lc699 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc699),LUA_MULTRET);
  return (lua_gettop(L) - lc698);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf703 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return TypeOf({}, ...) */
  const int lc701 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),4,155);
  const int lc702 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc702),LUA_MULTRET);
  return (lua_gettop(L) - lc701);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf706 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Ungroup({}, ...) */
  const int lc704 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),3,168);
  const int lc705 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc705),LUA_MULTRET);
  return (lua_gettop(L) - lc704);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf709 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Union({}, ...) */
  const int lc707 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),3,167);
  const int lc708 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc708),LUA_MULTRET);
  return (lua_gettop(L) - lc707);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf712 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Upcase({}, ...) */
  const int lc710 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),3,166);
  const int lc711 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc711),LUA_MULTRET);
  return (lua_gettop(L) - lc710);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf716 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Update(get_opts(...)) */
  const int lc713 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),3,165);
  const int lc714 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"get_opts");
  const int lc715 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc715),LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc714),LUA_MULTRET);
  return (lua_gettop(L) - lc713);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf719 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return UUID({}, ...) */
  const int lc717 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),4,154);
  const int lc718 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc718),LUA_MULTRET);
  return (lua_gettop(L) - lc717);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf722 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Var({}, ...) */
  const int lc720 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),3,164);
  const int lc721 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc721),LUA_MULTRET);
  return (lua_gettop(L) - lc720);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf725 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Wednesday({}, ...) */
  const int lc723 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),3,163);
  const int lc724 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc724),LUA_MULTRET);
  return (lua_gettop(L) - lc723);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf728 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return WithFields({}, ...) */
  const int lc726 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),3,162);
  const int lc727 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc727),LUA_MULTRET);
  return (lua_gettop(L) - lc726);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf731 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Without({}, ...) */
  const int lc729 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),3,161);
  const int lc730 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc730),LUA_MULTRET);
  return (lua_gettop(L) - lc729);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf734 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Year({}, ...) */
  const int lc732 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),2,170);
  const int lc733 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc733),LUA_MULTRET);
  return (lua_gettop(L) - lc732);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf737 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Zip({}, ...) */
  const int lc735 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),2,169);
  const int lc736 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc736),LUA_MULTRET);
  return (lua_gettop(L) - lc735);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(self, optargs, ...) */
static int lcf780 (lua_State * L) {
  enum { lc_nformalargs = 2 };
  if ((lua_gettop(L) < lc_nformalargs)) {
    lua_settop(L,lc_nformalargs);
  }
  const int lc_nactualargs = lua_gettop(L);
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  
  /* local args = {...} */
  lua_createtable(L,1,0);
  const int lc738 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  while ((lua_gettop(L) > lc738)) {
    lua_rawseti(L,lc738,(0 + (lua_gettop(L) - lc738)));
  }
  assert(lua_gettop(L) - lc_nextra == 3);
  
  /* optargs = optargs or {} */
  lua_pushvalue(L,2);
  if (!(lua_toboolean(L,-1))) {
    lua_pop(L,1);
    lua_newtable(L);
  }
  lua_replace(L,2);
  assert(lua_gettop(L) - lc_nextra == 3);
  
  /* if self.tt == 69 then */
  enum { lc739 = 3 };
  lua_pushliteral(L,"tt");
  lua_gettable(L,1);
  lua_pushnumber(L,69);
  const int lc740 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc740);
  const int lc741 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc741) {
    
    /* local func = args[1] */
    lua_pushnumber(L,1);
    lua_gettable(L,(3 + lc_nextra));
    assert(lua_gettop(L) - lc_nextra == 4);
    
    /* local anon_args = {} */
    lua_newtable(L);
    assert(lua_gettop(L) - lc_nextra == 5);
    
    /* local arg_nums = {} */
    lua_newtable(L);
    assert(lua_gettop(L) - lc_nextra == 6);
    
    /* if debug.getinfo then */
    enum { lc742 = 6 };
    lua_getfield(L,LUA_ENVIRONINDEX,"debug");
    lua_pushliteral(L,"getinfo");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    const int lc743 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc743) {
      
      /* local func_info = debug.getinfo(func) */
      lua_getfield(L,LUA_ENVIRONINDEX,"debug");
      lua_pushliteral(L,"getinfo");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_pushvalue(L,(4 + lc_nextra));
      lua_call(L,1,1);
      assert(lua_gettop(L) - lc_nextra == 7);
      
      /* if func_info.what == 'Lua' and func_info.nparams then */
      enum { lc744 = 7 };
      lua_pushliteral(L,"what");
      lua_gettable(L,(7 + lc_nextra));
      lua_pushliteral(L,"Lua");
      const int lc745 = lua_equal(L,-2,-1);
      lua_pop(L,2);
      lua_pushboolean(L,lc745);
      if (lua_toboolean(L,-1)) {
        lua_pop(L,1);
        lua_pushliteral(L,"nparams");
        lua_gettable(L,(7 + lc_nextra));
      }
      const int lc746 = lua_toboolean(L,-1);
      lua_pop(L,1);
      if (lc746) {
        
        /* optargs.arity = func_info.nparams */
        lua_pushliteral(L,"nparams");
        lua_gettable(L,(7 + lc_nextra));
        lua_pushliteral(L,"arity");
        lua_insert(L,-2);
        lua_settable(L,2);
        assert(lua_gettop(L) - lc_nextra == 7);
      }
      lua_settop(L,(lc744 + lc_nextra));
      assert(lua_gettop(L) - lc_nextra == 7);
    }
    lua_settop(L,(lc742 + lc_nextra));
    assert(lua_gettop(L) - lc_nextra == 6);
    
    /* for i=1, optargs.arity or 1 do */
    lua_pushnumber(L,1);
    lua_pushliteral(L,"arity");
    lua_gettable(L,2);
    if (!(lua_toboolean(L,-1))) {
      lua_pop(L,1);
      lua_pushnumber(L,1);
    }
    if (!((lua_isnumber(L,-2) && lua_isnumber(L,-1)))) {
      luaL_error(L,"'for' limit must be a number");
    }
    double lc747_var = lua_tonumber(L,-2);
    const double lc748_limit = lua_tonumber(L,-1);
    const double lc749_step = 1;
    lua_pop(L,2);
    enum { lc750 = 6 };
    while ((((lc749_step > 0) && (lc747_var <= lc748_limit)) || ((lc749_step <= 0) && (lc747_var >= lc748_limit)))) {
      
      /* internal: local i at index 7 */
      lua_pushnumber(L,lc747_var);
      
      /* table.insert(arg_nums, ReQLOp.next_var_id) */
      lua_getfield(L,LUA_ENVIRONINDEX,"table");
      lua_pushliteral(L,"insert");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_pushvalue(L,(6 + lc_nextra));
      lc_getupvalue(L,lua_upvalueindex(1),22,7);
      lua_pushliteral(L,"next_var_id");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,2,0);
      assert(lua_gettop(L) - lc_nextra == 7);
      
      /* table.insert(anon_args, Var({}, ReQLOp.next_var_id)) */
      lua_getfield(L,LUA_ENVIRONINDEX,"table");
      lua_pushliteral(L,"insert");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      const int lc751 = lua_gettop(L);
      lua_pushvalue(L,(5 + lc_nextra));
      lc_getupvalue(L,lua_upvalueindex(1),3,164);
      lua_newtable(L);
      lc_getupvalue(L,lua_upvalueindex(1),22,7);
      lua_pushliteral(L,"next_var_id");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_call(L,2,LUA_MULTRET);
      lua_call(L,(lua_gettop(L) - lc751),0);
      assert(lua_gettop(L) - lc_nextra == 7);
      
      /* ReQLOp.next_var_id = ReQLOp.next_var_id + 1 */
      lc_getupvalue(L,lua_upvalueindex(1),22,7);
      lua_pushliteral(L,"next_var_id");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_pushnumber(L,1);
      lc_add(L,-2,-1);
      lua_remove(L,-2);
      lua_remove(L,-2);
      lc_getupvalue(L,lua_upvalueindex(1),22,7);
      lua_insert(L,-2);
      lua_pushliteral(L,"next_var_id");
      lua_insert(L,-2);
      lua_settable(L,-3);
      lua_pop(L,1);
      assert(lua_gettop(L) - lc_nextra == 7);
      
      /* internal: stack cleanup on scope exit */
      lua_pop(L,1);
      lc747_var += lc749_step;
    }
    lua_settop(L,(lc750 + lc_nextra));
    assert(lua_gettop(L) - lc_nextra == 6);
    
    /* func = func(unpack(anon_args)) */
    lua_pushvalue(L,(4 + lc_nextra));
    const int lc752 = lua_gettop(L);
    lua_getfield(L,LUA_ENVIRONINDEX,"unpack");
    lua_pushvalue(L,(5 + lc_nextra));
    lua_call(L,1,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc752),1);
    lua_replace(L,(4 + lc_nextra));
    assert(lua_gettop(L) - lc_nextra == 6);
    
    /* if func == nil then */
    enum { lc753 = 6 };
    lua_pushnil(L);
    const int lc754 = lua_equal(L,(4 + lc_nextra),-1);
    lua_pop(L,1);
    lua_pushboolean(L,lc754);
    const int lc755 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc755) {
      
      /* error('Anonymous function returned `nil`. Did you forget a `return`?') */
      lua_getfield(L,LUA_ENVIRONINDEX,"error");
      lua_pushliteral(L,"Anonymous function returned `nil`. Did you forget a `return`?");
      lua_call(L,1,0);
      assert(lua_gettop(L) - lc_nextra == 6);
    }
    lua_settop(L,(lc753 + lc_nextra));
    assert(lua_gettop(L) - lc_nextra == 6);
    
    /* optargs.arity = nil */
    lua_pushnil(L);
    lua_pushliteral(L,"arity");
    lua_insert(L,-2);
    lua_settable(L,2);
    assert(lua_gettop(L) - lc_nextra == 6);
    
    /* args = {{unpack(arg_nums)}, func} */
    lua_createtable(L,2,0);
    lua_createtable(L,1,0);
    const int lc756 = lua_gettop(L);
    lua_getfield(L,LUA_ENVIRONINDEX,"unpack");
    lua_pushvalue(L,(6 + lc_nextra));
    lua_call(L,1,LUA_MULTRET);
    while ((lua_gettop(L) > lc756)) {
      lua_rawseti(L,lc756,(0 + (lua_gettop(L) - lc756)));
    }
    lua_rawseti(L,-2,1);
    lua_pushvalue(L,(4 + lc_nextra));
    lua_rawseti(L,-2,2);
    lua_replace(L,(3 + lc_nextra));
    assert(lua_gettop(L) - lc_nextra == 6);
  }
  else {
    
    /* elseif self.tt == 155 then */
    enum { lc757 = 3 };
    lua_pushliteral(L,"tt");
    lua_gettable(L,1);
    lua_pushnumber(L,155);
    const int lc758 = lua_equal(L,-2,-1);
    lua_pop(L,2);
    lua_pushboolean(L,lc758);
    const int lc759 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc759) {
      
      /* local data = args[1] */
      lua_pushnumber(L,1);
      lua_gettable(L,(3 + lc_nextra));
      assert(lua_gettop(L) - lc_nextra == 4);
      
      /* if is_instance(data, 'ReQLOp') then */
      enum { lc760 = 4 };
      lua_getfield(L,LUA_ENVIRONINDEX,"is_instance");
      lua_pushvalue(L,(4 + lc_nextra));
      lua_pushliteral(L,"ReQLOp");
      lua_call(L,2,1);
      const int lc761 = lua_toboolean(L,-1);
      lua_pop(L,1);
      if (lc761) {
      }
      else {
        
        /* elseif type(data) == 'string' then */
        enum { lc762 = 4 };
        lua_getfield(L,LUA_ENVIRONINDEX,"type");
        lua_pushvalue(L,(4 + lc_nextra));
        lua_call(L,1,1);
        lua_pushliteral(L,"string");
        const int lc763 = lua_equal(L,-2,-1);
        lua_pop(L,2);
        lua_pushboolean(L,lc763);
        const int lc764 = lua_toboolean(L,-1);
        lua_pop(L,1);
        if (lc764) {
          
          /* self.base64_data = mime.b64(table.remove(args, 1)) */
          lc_getupvalue(L,lua_upvalueindex(1),26,2);
          lua_pushliteral(L,"b64");
          lua_gettable(L,-2);
          lua_remove(L,-2);
          const int lc765 = lua_gettop(L);
          lua_getfield(L,LUA_ENVIRONINDEX,"table");
          lua_pushliteral(L,"remove");
          lua_gettable(L,-2);
          lua_remove(L,-2);
          lua_pushvalue(L,(3 + lc_nextra));
          lua_pushnumber(L,1);
          lua_call(L,2,LUA_MULTRET);
          lua_call(L,(lua_gettop(L) - lc765),1);
          lua_pushliteral(L,"base64_data");
          lua_insert(L,-2);
          lua_settable(L,1);
          assert(lua_gettop(L) - lc_nextra == 4);
        }
        else {
          
          /* else
           * error('Parameter to `r.binary` must be a string or ReQL query.') */
          lua_getfield(L,LUA_ENVIRONINDEX,"error");
          lua_pushliteral(L,"Parameter to `r.binary` must be a string or ReQL query.");
          lua_call(L,1,0);
          assert(lua_gettop(L) - lc_nextra == 4);
        }
        lua_settop(L,(lc762 + lc_nextra));
      }
      lua_settop(L,(lc760 + lc_nextra));
      assert(lua_gettop(L) - lc_nextra == 4);
    }
    else {
      
      /* elseif self.tt == 64 then */
      enum { lc766 = 3 };
      lua_pushliteral(L,"tt");
      lua_gettable(L,1);
      lua_pushnumber(L,64);
      const int lc767 = lua_equal(L,-2,-1);
      lua_pop(L,2);
      lua_pushboolean(L,lc767);
      const int lc768 = lua_toboolean(L,-1);
      lua_pop(L,1);
      if (lc768) {
        
        /* local func = table.remove(args) */
        lua_getfield(L,LUA_ENVIRONINDEX,"table");
        lua_pushliteral(L,"remove");
        lua_gettable(L,-2);
        lua_remove(L,-2);
        lua_pushvalue(L,(3 + lc_nextra));
        lua_call(L,1,1);
        assert(lua_gettop(L) - lc_nextra == 4);
        
        /* if type(func) == 'function' then */
        enum { lc769 = 4 };
        lua_getfield(L,LUA_ENVIRONINDEX,"type");
        lua_pushvalue(L,(4 + lc_nextra));
        lua_call(L,1,1);
        lua_pushliteral(L,"function");
        const int lc770 = lua_equal(L,-2,-1);
        lua_pop(L,2);
        lua_pushboolean(L,lc770);
        const int lc771 = lua_toboolean(L,-1);
        lua_pop(L,1);
        if (lc771) {
          
          /* func = Func({arity = #args}, func) */
          lc_getupvalue(L,lua_upvalueindex(1),16,57);
          lua_createtable(L,0,1);
          lua_pushliteral(L,"arity");
          const double lc772 = lua_objlen(L,(3 + lc_nextra));
          lua_pushnumber(L,lc772);
          lua_rawset(L,-3);
          lua_pushvalue(L,(4 + lc_nextra));
          lua_call(L,2,1);
          lua_replace(L,(4 + lc_nextra));
          assert(lua_gettop(L) - lc_nextra == 4);
        }
        lua_settop(L,(lc769 + lc_nextra));
        assert(lua_gettop(L) - lc_nextra == 4);
        
        /* table.insert(args, 1, func) */
        lua_getfield(L,LUA_ENVIRONINDEX,"table");
        lua_pushliteral(L,"insert");
        lua_gettable(L,-2);
        lua_remove(L,-2);
        lua_pushvalue(L,(3 + lc_nextra));
        lua_pushnumber(L,1);
        lua_pushvalue(L,(4 + lc_nextra));
        lua_call(L,3,0);
        assert(lua_gettop(L) - lc_nextra == 4);
      }
      else {
        
        /* elseif self.tt == 37 then */
        enum { lc773 = 3 };
        lua_pushliteral(L,"tt");
        lua_gettable(L,1);
        lua_pushnumber(L,37);
        const int lc774 = lua_equal(L,-2,-1);
        lua_pop(L,2);
        lua_pushboolean(L,lc774);
        const int lc775 = lua_toboolean(L,-1);
        lua_pop(L,1);
        if (lc775) {
          
          /* args[#args] = Func({arity = 2}, args[#args]) */
          lc_getupvalue(L,lua_upvalueindex(1),16,57);
          lua_createtable(L,0,1);
          lua_pushliteral(L,"arity");
          lua_pushnumber(L,2);
          lua_rawset(L,-3);
          const double lc776 = lua_objlen(L,(3 + lc_nextra));
          lua_pushnumber(L,lc776);
          lua_gettable(L,(3 + lc_nextra));
          lua_call(L,2,1);
          const double lc777 = lua_objlen(L,(3 + lc_nextra));
          lua_pushnumber(L,lc777);
          lua_insert(L,-2);
          lua_settable(L,(3 + lc_nextra));
          assert(lua_gettop(L) - lc_nextra == 3);
        }
        lua_settop(L,(lc773 + lc_nextra));
      }
      lua_settop(L,(lc766 + lc_nextra));
    }
    lua_settop(L,(lc757 + lc_nextra));
  }
  lua_settop(L,(lc739 + lc_nextra));
  assert(lua_gettop(L) - lc_nextra == 3);
  
  /* self.args = {} */
  lua_newtable(L);
  lua_pushliteral(L,"args");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) - lc_nextra == 3);
  
  /* self.optargs = {} */
  lua_newtable(L);
  lua_pushliteral(L,"optargs");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) - lc_nextra == 3);
  
  /* for i, a in ipairs(args) do
   * internal: local f, s, var = explist */
  enum { lc778 = 3 };
  lua_getfield(L,LUA_ENVIRONINDEX,"ipairs");
  lua_pushvalue(L,(3 + lc_nextra));
  lua_call(L,1,3);
  while (1) {
    
    /* internal: local var_1, ..., var_n = f(s, var)
     *           if var_1 == nil then break end
     *           var = var_1 */
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_call(L,2,2);
    if (lua_isnil(L,-2)) {
      break;
    }
    lua_pushvalue(L,-2);
    lua_replace(L,-4);
    
    /* internal: local i with idx 7
     * internal: local a with idx 8 */
    
    
    /* self.args[i] = r(a) */
    lc_getupvalue(L,lua_upvalueindex(1),24,4);
    lua_pushvalue(L,(8 + lc_nextra));
    lua_call(L,1,1);
    lua_pushliteral(L,"args");
    lua_gettable(L,1);
    lua_insert(L,-2);
    lua_pushvalue(L,(7 + lc_nextra));
    lua_insert(L,-2);
    lua_settable(L,-3);
    lua_pop(L,1);
    assert(lua_gettop(L) - lc_nextra == 8);
    
    /* internal: stack cleanup on scope exit */
    lua_pop(L,2);
  }
  lua_settop(L,(lc778 + lc_nextra));
  assert(lua_gettop(L) - lc_nextra == 3);
  
  /* for k, v in pairs(optargs) do
   * internal: local f, s, var = explist */
  enum { lc779 = 3 };
  lua_getfield(L,LUA_ENVIRONINDEX,"pairs");
  lua_pushvalue(L,2);
  lua_call(L,1,3);
  while (1) {
    
    /* internal: local var_1, ..., var_n = f(s, var)
     *           if var_1 == nil then break end
     *           var = var_1 */
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_call(L,2,2);
    if (lua_isnil(L,-2)) {
      break;
    }
    lua_pushvalue(L,-2);
    lua_replace(L,-4);
    
    /* internal: local k with idx 7
     * internal: local v with idx 8 */
    
    
    /* self.optargs[k] = r(v) */
    lc_getupvalue(L,lua_upvalueindex(1),24,4);
    lua_pushvalue(L,(8 + lc_nextra));
    lua_call(L,1,1);
    lua_pushliteral(L,"optargs");
    lua_gettable(L,1);
    lua_insert(L,-2);
    lua_pushvalue(L,(7 + lc_nextra));
    lua_insert(L,-2);
    lua_settable(L,-3);
    lua_pop(L,1);
    assert(lua_gettop(L) - lc_nextra == 8);
    
    /* internal: stack cleanup on scope exit */
    lua_pop(L,2);
  }
  lua_settop(L,(lc779 + lc_nextra));
  assert(lua_gettop(L) - lc_nextra == 3);
  return 0;
}


/* function(self) */
static int lcf794 (lua_State * L) {
  enum { lc_nformalargs = 1 };
  lua_settop(L,1);
  
  /* if self.tt == 155 and (not self.args[1]) then */
  enum { lc781 = 1 };
  lua_pushliteral(L,"tt");
  lua_gettable(L,1);
  lua_pushnumber(L,155);
  const int lc782 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc782);
  if (lua_toboolean(L,-1)) {
    lua_pop(L,1);
    lua_pushliteral(L,"args");
    lua_gettable(L,1);
    lua_pushnumber(L,1);
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_pushboolean(L,!(lua_toboolean(L,-1)));
    lua_remove(L,-2);
  }
  const int lc783 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc783) {
    
    /* return {
     *         ['$reql_type$'] = 'BINARY',
     *         data = self.base64_data
     *       } */
    lua_createtable(L,0,2);
    lua_pushliteral(L,"$reql_type$");
    lua_pushliteral(L,"BINARY");
    lua_rawset(L,-3);
    lua_pushliteral(L,"data");
    lua_pushliteral(L,"base64_data");
    lua_gettable(L,1);
    lua_rawset(L,-3);
    return 1;
    assert(lua_gettop(L) == 1);
  }
  lua_settop(L,lc781);
  assert(lua_gettop(L) == 1);
  
  /* if self.tt == 3 then */
  enum { lc784 = 1 };
  lua_pushliteral(L,"tt");
  lua_gettable(L,1);
  lua_pushnumber(L,3);
  const int lc785 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc785);
  const int lc786 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc786) {
    
    /* local res = {} */
    lua_newtable(L);
    assert(lua_gettop(L) == 2);
    
    /* for key, val in pairs(self.optargs) do
     * internal: local f, s, var = explist */
    enum { lc787 = 2 };
    lua_getfield(L,LUA_ENVIRONINDEX,"pairs");
    lua_pushliteral(L,"optargs");
    lua_gettable(L,1);
    lua_call(L,1,3);
    while (1) {
      
      /* internal: local var_1, ..., var_n = f(s, var)
       *           if var_1 == nil then break end
       *           var = var_1 */
      lua_pushvalue(L,-3);
      lua_pushvalue(L,-3);
      lua_pushvalue(L,-3);
      lua_call(L,2,2);
      if (lua_isnil(L,-2)) {
        break;
      }
      lua_pushvalue(L,-2);
      lua_replace(L,-4);
      
      /* internal: local key with idx 6
       * internal: local val with idx 7 */
      
      
      /* res[key] = val:build() */
      lua_pushvalue(L,7);
      lua_pushliteral(L,"build");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_call(L,1,1);
      lua_pushvalue(L,6);
      lua_insert(L,-2);
      lua_settable(L,2);
      assert(lua_gettop(L) == 7);
      
      /* internal: stack cleanup on scope exit */
      lua_pop(L,2);
    }
    lua_settop(L,lc787);
    assert(lua_gettop(L) == 2);
    
    /* return res */
    lua_pushvalue(L,2);
    return 1;
    assert(lua_gettop(L) == 2);
  }
  lua_settop(L,lc784);
  assert(lua_gettop(L) == 1);
  
  /* local args = {} */
  lua_newtable(L);
  assert(lua_gettop(L) == 2);
  
  /* for i, arg in ipairs(self.args) do
   * internal: local f, s, var = explist */
  enum { lc788 = 2 };
  lua_getfield(L,LUA_ENVIRONINDEX,"ipairs");
  lua_pushliteral(L,"args");
  lua_gettable(L,1);
  lua_call(L,1,3);
  while (1) {
    
    /* internal: local var_1, ..., var_n = f(s, var)
     *           if var_1 == nil then break end
     *           var = var_1 */
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_call(L,2,2);
    if (lua_isnil(L,-2)) {
      break;
    }
    lua_pushvalue(L,-2);
    lua_replace(L,-4);
    
    /* internal: local i with idx 6
     * internal: local arg with idx 7 */
    
    
    /* args[i] = arg:build() */
    lua_pushvalue(L,7);
    lua_pushliteral(L,"build");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_call(L,1,1);
    lua_pushvalue(L,6);
    lua_insert(L,-2);
    lua_settable(L,2);
    assert(lua_gettop(L) == 7);
    
    /* internal: stack cleanup on scope exit */
    lua_pop(L,2);
  }
  lua_settop(L,lc788);
  assert(lua_gettop(L) == 2);
  
  /* res = {self.tt, args} */
  lua_createtable(L,2,0);
  lua_pushliteral(L,"tt");
  lua_gettable(L,1);
  lua_rawseti(L,-2,1);
  lua_pushvalue(L,2);
  lua_rawseti(L,-2,2);
  lua_setfield(L,LUA_ENVIRONINDEX,"res");
  assert(lua_gettop(L) == 2);
  
  /* if #self.optargs > 0 then */
  enum { lc789 = 2 };
  lua_pushnumber(L,0);
  lua_pushliteral(L,"optargs");
  lua_gettable(L,1);
  const double lc790 = lua_objlen(L,-1);
  lua_pop(L,1);
  lua_pushnumber(L,lc790);
  const int lc791 = lua_lessthan(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc791);
  const int lc792 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc792) {
    
    /* local opts = {} */
    lua_newtable(L);
    assert(lua_gettop(L) == 3);
    
    /* for key, val in pairs(self.optargs) do
     * internal: local f, s, var = explist */
    enum { lc793 = 3 };
    lua_getfield(L,LUA_ENVIRONINDEX,"pairs");
    lua_pushliteral(L,"optargs");
    lua_gettable(L,1);
    lua_call(L,1,3);
    while (1) {
      
      /* internal: local var_1, ..., var_n = f(s, var)
       *           if var_1 == nil then break end
       *           var = var_1 */
      lua_pushvalue(L,-3);
      lua_pushvalue(L,-3);
      lua_pushvalue(L,-3);
      lua_call(L,2,2);
      if (lua_isnil(L,-2)) {
        break;
      }
      lua_pushvalue(L,-2);
      lua_replace(L,-4);
      
      /* internal: local key with idx 7
       * internal: local val with idx 8 */
      
      
      /* opts[key] = val:build() */
      lua_pushvalue(L,8);
      lua_pushliteral(L,"build");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_call(L,1,1);
      lua_pushvalue(L,7);
      lua_insert(L,-2);
      lua_settable(L,3);
      assert(lua_gettop(L) == 8);
      
      /* internal: stack cleanup on scope exit */
      lua_pop(L,2);
    }
    lua_settop(L,lc793);
    assert(lua_gettop(L) == 3);
    
    /* table.insert(res, opts) */
    lua_getfield(L,LUA_ENVIRONINDEX,"table");
    lua_pushliteral(L,"insert");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_getfield(L,LUA_ENVIRONINDEX,"res");
    lua_pushvalue(L,3);
    lua_call(L,2,0);
    assert(lua_gettop(L) == 3);
  }
  lua_settop(L,lc789);
  assert(lua_gettop(L) == 2);
  
  /* return res */
  lua_getfield(L,LUA_ENVIRONINDEX,"res");
  return 1;
  assert(lua_gettop(L) == 2);
}


/* function() */
static int lcf817 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  lua_settop(L,0);
  
  /* local _accum_0 = {} */
  lua_newtable(L);
  assert(lua_gettop(L) == 1);
  
  /* for i, v in ipairs(self.args[1]) do
   * internal: local f, s, var = explist */
  enum { lc816 = 1 };
  lua_getfield(L,LUA_ENVIRONINDEX,"ipairs");
  lc_getupvalue(L,lua_upvalueindex(1),0,179);
  lua_pushliteral(L,"args");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_pushnumber(L,1);
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_call(L,1,3);
  while (1) {
    
    /* internal: local var_1, ..., var_n = f(s, var)
     *           if var_1 == nil then break end
     *           var = var_1 */
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_call(L,2,2);
    if (lua_isnil(L,-2)) {
      break;
    }
    lua_pushvalue(L,-2);
    lua_replace(L,-4);
    
    /* internal: local i with idx 5
     * internal: local v with idx 6 */
    
    
    /* _accum_0[i] = 'var_' .. v */
    lua_pushliteral(L,"var_");
    lua_pushvalue(L,6);
    lua_concat(L,2);
    lua_pushvalue(L,5);
    lua_insert(L,-2);
    lua_settable(L,1);
    assert(lua_gettop(L) == 6);
    
    /* internal: stack cleanup on scope exit */
    lua_pop(L,2);
  }
  lua_settop(L,lc816);
  assert(lua_gettop(L) == 1);
  
  /* return _accum_0 */
  lua_pushvalue(L,1);
  return 1;
  assert(lua_gettop(L) == 1);
}


/* function(self, args, optargs) */
static int lcf825 (lua_State * L) {
  enum { lc_nformalargs = 3 };
  lua_settop(L,3);
  lc_newclosuretable(L,lua_upvalueindex(1));
  enum { lc795 = 4 };
  assert((lua_gettop(L) == lc795));
  lua_pushvalue(L,1);
  lua_rawseti(L,-2,179);
  
  /* if self.tt == 2 then */
  enum { lc796 = 4 };
  lc_getupvalue(L,lc795,0,179);
  lua_pushliteral(L,"tt");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_pushnumber(L,2);
  const int lc797 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc797);
  const int lc798 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc798) {
    
    /* return {
     *         '{',
     *         intsp(args),
     *         '}'
     *       } */
    lua_createtable(L,3,0);
    lua_pushliteral(L,"{");
    lua_rawseti(L,-2,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"intsp");
    lua_pushvalue(L,2);
    lua_call(L,1,1);
    lua_rawseti(L,-2,2);
    lua_pushliteral(L,"}");
    lua_rawseti(L,-2,3);
    return 1;
    assert(lua_gettop(L) == 4);
  }
  lua_settop(L,lc796);
  assert(lua_gettop(L) == 4);
  
  /* if self.tt == 3 then */
  enum { lc799 = 4 };
  lc_getupvalue(L,lc795,0,179);
  lua_pushliteral(L,"tt");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_pushnumber(L,3);
  const int lc800 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc800);
  const int lc801 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc801) {
    
    /* return kved(optargs) */
    const int lc802 = lua_gettop(L);
    lua_getfield(L,LUA_ENVIRONINDEX,"kved");
    lua_pushvalue(L,3);
    lua_call(L,1,LUA_MULTRET);
    return (lua_gettop(L) - lc802);
    assert(lua_gettop(L) == 4);
  }
  lua_settop(L,lc799);
  assert(lua_gettop(L) == 4);
  
  /* if self.tt == 10 then */
  enum { lc803 = 4 };
  lc_getupvalue(L,lc795,0,179);
  lua_pushliteral(L,"tt");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_pushnumber(L,10);
  const int lc804 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc804);
  const int lc805 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc805) {
    
    /* return {'var_' .. args[1]} */
    lua_createtable(L,1,0);
    lua_pushliteral(L,"var_");
    lua_pushnumber(L,1);
    lua_gettable(L,2);
    lua_concat(L,2);
    lua_rawseti(L,-2,1);
    return 1;
    assert(lua_gettop(L) == 4);
  }
  lua_settop(L,lc803);
  assert(lua_gettop(L) == 4);
  
  /* if self.tt == 155 and not self.args[1] then */
  enum { lc806 = 4 };
  lc_getupvalue(L,lc795,0,179);
  lua_pushliteral(L,"tt");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_pushnumber(L,155);
  const int lc807 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc807);
  if (lua_toboolean(L,-1)) {
    lua_pop(L,1);
    lc_getupvalue(L,lc795,0,179);
    lua_pushliteral(L,"args");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_pushnumber(L,1);
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_pushboolean(L,!(lua_toboolean(L,-1)));
    lua_remove(L,-2);
  }
  const int lc808 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc808) {
    
    /* return 'r.binary(<data>)' */
    lua_pushliteral(L,"r.binary(<data>)");
    return 1;
    assert(lua_gettop(L) == 4);
  }
  lua_settop(L,lc806);
  assert(lua_gettop(L) == 4);
  
  /* if self.tt == 170 then */
  enum { lc809 = 4 };
  lc_getupvalue(L,lc795,0,179);
  lua_pushliteral(L,"tt");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_pushnumber(L,170);
  const int lc810 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc810);
  const int lc811 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc811) {
    
    /* return {
     *         args[1],
     *         '(',
     *         args[2],
     *         ')'
     *       } */
    lua_createtable(L,4,0);
    lua_pushnumber(L,1);
    lua_gettable(L,2);
    lua_rawseti(L,-2,1);
    lua_pushliteral(L,"(");
    lua_rawseti(L,-2,2);
    lua_pushnumber(L,2);
    lua_gettable(L,2);
    lua_rawseti(L,-2,3);
    lua_pushliteral(L,")");
    lua_rawseti(L,-2,4);
    return 1;
    assert(lua_gettop(L) == 4);
  }
  lua_settop(L,lc809);
  assert(lua_gettop(L) == 4);
  
  /* if self.tt == 69 then */
  enum { lc812 = 4 };
  lc_getupvalue(L,lc795,0,179);
  lua_pushliteral(L,"tt");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_pushnumber(L,69);
  const int lc813 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc813);
  const int lc814 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc814) {
    
    /* return {
     *         'function(',
     *         intsp((function()
     *           local _accum_0 = {}
     *           for i, v in ipairs(self.args[1]) do
     *             _accum_0[i] = 'var_' .. v
     *           end
     *           return _accum_0
     *         end)()),
     *         ') return ',
     *         args[2],
     *         ' end'
     *       } */
    lua_createtable(L,5,0);
    lua_pushliteral(L,"function(");
    lua_rawseti(L,-2,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"intsp");
    const int lc815 = lua_gettop(L);
    lua_pushvalue(L,lc795);
    lua_pushcclosure(L,lcf817,1);
    lua_call(L,0,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc815),1);
    lua_rawseti(L,-2,2);
    lua_pushliteral(L,") return ");
    lua_rawseti(L,-2,3);
    lua_pushnumber(L,2);
    lua_gettable(L,2);
    lua_rawseti(L,-2,4);
    lua_pushliteral(L," end");
    lua_rawseti(L,-2,5);
    return 1;
    assert(lua_gettop(L) == 4);
  }
  lua_settop(L,lc812);
  assert(lua_gettop(L) == 4);
  
  /* if self.tt == 64 then */
  enum { lc818 = 4 };
  lc_getupvalue(L,lc795,0,179);
  lua_pushliteral(L,"tt");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_pushnumber(L,64);
  const int lc819 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc819);
  const int lc820 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc820) {
    
    /* table.insert(args, table.remove(args, 1)) */
    lua_getfield(L,LUA_ENVIRONINDEX,"table");
    lua_pushliteral(L,"insert");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    const int lc821 = lua_gettop(L);
    lua_pushvalue(L,2);
    lua_getfield(L,LUA_ENVIRONINDEX,"table");
    lua_pushliteral(L,"remove");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_pushvalue(L,2);
    lua_pushnumber(L,1);
    lua_call(L,2,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc821),0);
    assert(lua_gettop(L) == 4);
  }
  lua_settop(L,lc818);
  assert(lua_gettop(L) == 4);
  
  /* if not self.args then */
  enum { lc822 = 4 };
  lc_getupvalue(L,lc795,0,179);
  lua_pushliteral(L,"args");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_pushboolean(L,!(lua_toboolean(L,-1)));
  lua_remove(L,-2);
  const int lc823 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc823) {
    
    /* return {
     *         type(self)
     *       } */
    lua_createtable(L,1,0);
    const int lc824 = lua_gettop(L);
    lua_getfield(L,LUA_ENVIRONINDEX,"type");
    lc_getupvalue(L,lc795,0,179);
    lua_call(L,1,LUA_MULTRET);
    while ((lua_gettop(L) > lc824)) {
      lua_rawseti(L,lc824,(0 + (lua_gettop(L) - lc824)));
    }
    return 1;
    assert(lua_gettop(L) == 4);
  }
  lua_settop(L,lc822);
  assert(lua_gettop(L) == 4);
  
  /* return {
   *       'r.' .. self.st .. '(',
   *       intspallargs(args, optargs),
   *       ')'
   *     } */
  lua_createtable(L,3,0);
  lua_pushliteral(L,"r.");
  lc_getupvalue(L,lc795,0,179);
  lua_pushliteral(L,"st");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_pushliteral(L,"(");
  lua_concat(L,2);
  lua_concat(L,2);
  lua_rawseti(L,-2,1);
  lua_getfield(L,LUA_ENVIRONINDEX,"intspallargs");
  lua_pushvalue(L,2);
  lua_pushvalue(L,3);
  lua_call(L,2,1);
  lua_rawseti(L,-2,2);
  lua_pushliteral(L,")");
  lua_rawseti(L,-2,3);
  return 1;
  assert(lua_gettop(L) == 4);
}


/* function(...) */
static int lcf830 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Bracket({}, ...) */
  const int lc828 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),20,26);
  const int lc829 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc829),LUA_MULTRET);
  return (lua_gettop(L) - lc828);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf833 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Add({}, ...) */
  const int lc831 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),21,19);
  const int lc832 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc832),LUA_MULTRET);
  return (lua_gettop(L) - lc831);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf836 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Mul({}, ...) */
  const int lc834 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),10,104);
  const int lc835 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc835),LUA_MULTRET);
  return (lua_gettop(L) - lc834);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf839 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Mod({}, ...) */
  const int lc837 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),10,107);
  const int lc838 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc838),LUA_MULTRET);
  return (lua_gettop(L) - lc837);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf842 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Sub({}, ...) */
  const int lc840 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),6,141);
  const int lc841 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc841),LUA_MULTRET);
  return (lua_gettop(L) - lc840);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* function(...) */
static int lcf845 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Div({}, ...) */
  const int lc843 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),17,51);
  const int lc844 = lua_gettop(L);
  lua_newtable(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc844),LUA_MULTRET);
  return (lua_gettop(L) - lc843);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* name: ast
 * function(name, base) */
static int lcf1_ast (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* for k, v in pairs(meta) do
   * internal: local f, s, var = explist */
  enum { lc846 = 2 };
  lua_getfield(L,LUA_ENVIRONINDEX,"pairs");
  lc_getupvalue(L,lua_upvalueindex(1),0,180);
  lua_call(L,1,3);
  while (1) {
    
    /* internal: local var_1, ..., var_n = f(s, var)
     *           if var_1 == nil then break end
     *           var = var_1 */
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_call(L,2,2);
    if (lua_isnil(L,-2)) {
      break;
    }
    lua_pushvalue(L,-2);
    lua_replace(L,-4);
    
    /* internal: local k with idx 6
     * internal: local v with idx 7 */
    
    
    /* base[k] = v */
    lua_pushvalue(L,7);
    lua_pushvalue(L,6);
    lua_insert(L,-2);
    lua_settable(L,2);
    assert(lua_gettop(L) == 7);
    
    /* internal: stack cleanup on scope exit */
    lua_pop(L,2);
  }
  lua_settop(L,lc846);
  assert(lua_gettop(L) == 2);
  
  /* return class(name, ReQLOp, base) */
  const int lc847 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"class");
  lua_pushvalue(L,1);
  lc_getupvalue(L,lua_upvalueindex(1),23,7);
  lua_pushvalue(L,2);
  lua_call(L,3,LUA_MULTRET);
  return (lua_gettop(L) - lc847);
  assert(lua_gettop(L) == 2);
}


/* function(self, val) */
static int lcf855 (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* if type(val) == 'number' then */
  enum { lc848 = 2 };
  lua_getfield(L,LUA_ENVIRONINDEX,"type");
  lua_pushvalue(L,2);
  lua_call(L,1,1);
  lua_pushliteral(L,"number");
  const int lc849 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc849);
  const int lc850 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc850) {
    
    /* if math.abs(val) == math.huge or '' .. val == 'nan' then */
    enum { lc851 = 2 };
    lua_getfield(L,LUA_ENVIRONINDEX,"math");
    lua_pushliteral(L,"abs");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_pushvalue(L,2);
    lua_call(L,1,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"math");
    lua_pushliteral(L,"huge");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    const int lc852 = lua_equal(L,-2,-1);
    lua_pop(L,2);
    lua_pushboolean(L,lc852);
    if (!(lua_toboolean(L,-1))) {
      lua_pop(L,1);
      lua_pushliteral(L,"");
      lua_pushvalue(L,2);
      lua_concat(L,2);
      lua_pushliteral(L,"nan");
      const int lc853 = lua_equal(L,-2,-1);
      lua_pop(L,2);
      lua_pushboolean(L,lc853);
    }
    const int lc854 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc854) {
      
      /* error('Illegal non-finite number `' .. val .. '`.') */
      lua_getfield(L,LUA_ENVIRONINDEX,"error");
      lua_pushliteral(L,"Illegal non-finite number `");
      lua_pushvalue(L,2);
      lua_pushliteral(L,"`.");
      lua_concat(L,2);
      lua_concat(L,2);
      lua_call(L,1,0);
      assert(lua_gettop(L) == 2);
    }
    lua_settop(L,lc851);
    assert(lua_gettop(L) == 2);
  }
  lua_settop(L,lc848);
  assert(lua_gettop(L) == 2);
  
  /* self.data = val */
  lua_pushvalue(L,2);
  lua_pushliteral(L,"data");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 2);
  return 0;
}


/* function(self) */
static int lcf862 (lua_State * L) {
  enum { lc_nformalargs = 1 };
  lua_settop(L,1);
  
  /* if type(self.data) == 'string' then */
  enum { lc856 = 1 };
  lua_getfield(L,LUA_ENVIRONINDEX,"type");
  lua_pushliteral(L,"data");
  lua_gettable(L,1);
  lua_call(L,1,1);
  lua_pushliteral(L,"string");
  const int lc857 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc857);
  const int lc858 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc858) {
    
    /* return '"' .. self.data .. '"' */
    lua_pushliteral(L,"\"");
    lua_pushliteral(L,"data");
    lua_gettable(L,1);
    lua_pushliteral(L,"\"");
    lua_concat(L,2);
    lua_concat(L,2);
    return 1;
    assert(lua_gettop(L) == 1);
  }
  lua_settop(L,lc856);
  assert(lua_gettop(L) == 1);
  
  /* if self.data == nil then */
  enum { lc859 = 1 };
  lua_pushliteral(L,"data");
  lua_gettable(L,1);
  lua_pushnil(L);
  const int lc860 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc860);
  const int lc861 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc861) {
    
    /* return 'nil' */
    lua_pushliteral(L,"nil");
    return 1;
    assert(lua_gettop(L) == 1);
  }
  lua_settop(L,lc859);
  assert(lua_gettop(L) == 1);
  
  /* return '' .. self.data */
  lua_pushliteral(L,"");
  lua_pushliteral(L,"data");
  lua_gettable(L,1);
  lua_concat(L,2);
  return 1;
  assert(lua_gettop(L) == 1);
}


/* function(self) */
static int lcf866 (lua_State * L) {
  enum { lc_nformalargs = 1 };
  lua_settop(L,1);
  
  /* if self.data == nil then */
  enum { lc863 = 1 };
  lua_pushliteral(L,"data");
  lua_gettable(L,1);
  lua_pushnil(L);
  const int lc864 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc864);
  const int lc865 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc865) {
    
    /* return json.util.null */
    lc_getupvalue(L,lua_upvalueindex(1),28,1);
    lua_pushliteral(L,"util");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_pushliteral(L,"null");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    return 1;
    assert(lua_gettop(L) == 1);
  }
  lua_settop(L,lc863);
  assert(lua_gettop(L) == 1);
  
  /* return self.data */
  lua_pushliteral(L,"data");
  lua_gettable(L,1);
  return 1;
  assert(lua_gettop(L) == 1);
}


/* function(self, conn, token, opts, root) */
static int lcf867 (lua_State * L) {
  enum { lc_nformalargs = 5 };
  lua_settop(L,5);
  
  /* self._conn = conn */
  lua_pushvalue(L,2);
  lua_pushliteral(L,"_conn");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 5);
  
  /* self._token = token */
  lua_pushvalue(L,3);
  lua_pushliteral(L,"_token");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 5);
  
  /* self._opts = opts */
  lua_pushvalue(L,4);
  lua_pushliteral(L,"_opts");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 5);
  
  /* self._root = root */
  lua_pushvalue(L,5);
  lua_pushliteral(L,"_root");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 5);
  
  /* -- current query
   * self._responses = {} */
  lua_newtable(L);
  lua_pushliteral(L,"_responses");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 5);
  
  /* self._response_index = 1 */
  lua_pushnumber(L,1);
  lua_pushliteral(L,"_response_index");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 5);
  
  /* self._cont_flag = true */
  lua_pushboolean(L,1);
  lua_pushliteral(L,"_cont_flag");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 5);
  return 0;
}


/* function(self, response) */
static int lcf877 (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* local t = response.t */
  lua_pushliteral(L,"t");
  lua_gettable(L,2);
  assert(lua_gettop(L) == 3);
  
  /* if not self._type then */
  enum { lc868 = 3 };
  lua_pushliteral(L,"_type");
  lua_gettable(L,1);
  lua_pushboolean(L,!(lua_toboolean(L,-1)));
  lua_remove(L,-2);
  const int lc869 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc869) {
    
    /* self._type = t */
    lua_pushvalue(L,3);
    lua_pushliteral(L,"_type");
    lua_insert(L,-2);
    lua_settable(L,1);
    assert(lua_gettop(L) == 3);
  }
  lua_settop(L,lc868);
  assert(lua_gettop(L) == 3);
  
  /* if response.r[1] or t == 4 then */
  enum { lc870 = 3 };
  lua_pushliteral(L,"r");
  lua_gettable(L,2);
  lua_pushnumber(L,1);
  lua_gettable(L,-2);
  lua_remove(L,-2);
  if (!(lua_toboolean(L,-1))) {
    lua_pop(L,1);
    lua_pushvalue(L,3);
    lua_pushnumber(L,4);
    const int lc871 = lua_equal(L,-2,-1);
    lua_pop(L,2);
    lua_pushboolean(L,lc871);
  }
  const int lc872 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc872) {
    
    /* table.insert(self._responses, response) */
    lua_getfield(L,LUA_ENVIRONINDEX,"table");
    lua_pushliteral(L,"insert");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_pushliteral(L,"_responses");
    lua_gettable(L,1);
    lua_pushvalue(L,2);
    lua_call(L,2,0);
    assert(lua_gettop(L) == 3);
  }
  lua_settop(L,lc870);
  assert(lua_gettop(L) == 3);
  
  /* if t ~= 3 and t ~= 5 then */
  enum { lc873 = 3 };
  lua_pushnumber(L,3);
  const int lc874 = lua_equal(L,3,-1);
  lua_pop(L,1);
  lua_pushboolean(L,lc874);
  lua_pushboolean(L,!(lua_toboolean(L,-1)));
  lua_remove(L,-2);
  if (lua_toboolean(L,-1)) {
    lua_pop(L,1);
    lua_pushnumber(L,5);
    const int lc875 = lua_equal(L,3,-1);
    lua_pop(L,1);
    lua_pushboolean(L,lc875);
    lua_pushboolean(L,!(lua_toboolean(L,-1)));
    lua_remove(L,-2);
  }
  const int lc876 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc876) {
    
    /* -- We got an error, SUCCESS_SEQUENCE, WAIT_COMPLETE, or a SUCCESS_ATOM
     * self._end_flag = true */
    lua_pushboolean(L,1);
    lua_pushliteral(L,"_end_flag");
    lua_insert(L,-2);
    lua_settable(L,1);
    assert(lua_gettop(L) == 3);
    
    /* self._conn:_del_query(self._token) */
    lua_pushliteral(L,"_conn");
    lua_gettable(L,1);
    lua_pushliteral(L,"_del_query");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_pushliteral(L,"_token");
    lua_gettable(L,1);
    lua_call(L,2,0);
    assert(lua_gettop(L) == 3);
  }
  lua_settop(L,lc873);
  assert(lua_gettop(L) == 3);
  
  /* self._cont_flag = false */
  lua_pushboolean(L,0);
  lua_pushliteral(L,"_cont_flag");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 3);
  return 0;
}


/* function(self) */
static int lcf882 (lua_State * L) {
  enum { lc_nformalargs = 1 };
  lua_settop(L,1);
  
  /* if self._end_flag then */
  enum { lc878 = 1 };
  lua_pushliteral(L,"_end_flag");
  lua_gettable(L,1);
  const int lc879 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc879) {
    
    /* return */
    return 0;
    assert(lua_gettop(L) == 1);
  }
  lua_settop(L,lc878);
  assert(lua_gettop(L) == 1);
  
  /* -- Let's ask the server for more data if we haven't already
   * if not self._cont_flag then */
  enum { lc880 = 1 };
  lua_pushliteral(L,"_cont_flag");
  lua_gettable(L,1);
  lua_pushboolean(L,!(lua_toboolean(L,-1)));
  lua_remove(L,-2);
  const int lc881 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc881) {
    
    /* self._cont_flag = true */
    lua_pushboolean(L,1);
    lua_pushliteral(L,"_cont_flag");
    lua_insert(L,-2);
    lua_settable(L,1);
    assert(lua_gettop(L) == 1);
    
    /* self._conn:_continue_query(self._token) */
    lua_pushliteral(L,"_conn");
    lua_gettable(L,1);
    lua_pushliteral(L,"_continue_query");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_pushliteral(L,"_token");
    lua_gettable(L,1);
    lua_call(L,2,0);
    assert(lua_gettop(L) == 1);
  }
  lua_settop(L,lc880);
  assert(lua_gettop(L) == 1);
  
  /* self._conn:_get_response(self._token) */
  lua_pushliteral(L,"_conn");
  lua_gettable(L,1);
  lua_pushliteral(L,"_get_response");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_pushliteral(L,"_token");
  lua_gettable(L,1);
  lua_call(L,2,0);
  assert(lua_gettop(L) == 1);
  return 0;
}


/* name: cb
 * function(err, row) */
static int lcf1_cb (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* if type(err) == 'number' then */
  enum { lc884 = 2 };
  lua_getfield(L,LUA_ENVIRONINDEX,"type");
  lua_pushvalue(L,1);
  lua_call(L,1,1);
  lua_pushliteral(L,"number");
  const int lc885 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc885);
  const int lc886 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc886) {
    
    /* error('' .. err) */
    lua_getfield(L,LUA_ENVIRONINDEX,"error");
    lua_pushliteral(L,"");
    lua_pushvalue(L,1);
    lua_concat(L,2);
    lua_call(L,1,0);
    assert(lua_gettop(L) == 2);
  }
  lua_settop(L,lc884);
  assert(lua_gettop(L) == 2);
  
  /* return callback(err, row) */
  const int lc887 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),0,181);
  lua_pushvalue(L,1);
  lua_pushvalue(L,2);
  lua_call(L,2,LUA_MULTRET);
  return (lua_gettop(L) - lc887);
  assert(lua_gettop(L) == 2);
}


/* function(self, callback) */
static int lcf925 (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  lc_newclosuretable(L,lua_upvalueindex(1));
  enum { lc883 = 3 };
  assert((lua_gettop(L) == lc883));
  lua_pushvalue(L,2);
  lua_rawseti(L,-2,181);
  
  /* local cb = function(err, row)
   *         if type(err) == 'number' then error('' .. err) end
   *         return callback(err, row)
   *       end */
  lua_pushvalue(L,lc883);
  lua_pushcclosure(L,lcf1_cb,1);
  assert(lua_gettop(L) == 4);
  
  /* -- Try to get a row out of the responses
   * while not self._responses[1] do */
  enum { lc888 = 4 };
  while (1) {
    lua_pushliteral(L,"_responses");
    lua_gettable(L,1);
    lua_pushnumber(L,1);
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_pushboolean(L,!(lua_toboolean(L,-1)));
    lua_remove(L,-2);
    if (!(lua_toboolean(L,-1))) {
      break;
    }
    lua_pop(L,1);
    
    /* if self._end_flag then */
    enum { lc889 = 4 };
    lua_pushliteral(L,"_end_flag");
    lua_gettable(L,1);
    const int lc890 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc890) {
      
      /* return cb(ReQLDriverError('No more rows in the cursor.')) */
      const int lc891 = lua_gettop(L);
      lua_pushvalue(L,4);
      const int lc892 = lua_gettop(L);
      lc_getupvalue(L,lc883,3,173);
      lua_pushliteral(L,"No more rows in the cursor.");
      lua_call(L,1,LUA_MULTRET);
      lua_call(L,(lua_gettop(L) - lc892),LUA_MULTRET);
      return (lua_gettop(L) - lc891);
      assert(lua_gettop(L) == 4);
    }
    lua_settop(L,lc889);
    assert(lua_gettop(L) == 4);
    
    /* self:_prompt_cont() */
    lua_pushvalue(L,1);
    lua_pushliteral(L,"_prompt_cont");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_call(L,1,0);
    assert(lua_gettop(L) == 4);
  }
  lua_settop(L,lc888);
  assert(lua_gettop(L) == 4);
  
  /* local response = self._responses[1] */
  lua_pushliteral(L,"_responses");
  lua_gettable(L,1);
  lua_pushnumber(L,1);
  lua_gettable(L,-2);
  lua_remove(L,-2);
  assert(lua_gettop(L) == 5);
  
  /* -- Behavior varies considerably based on response type
   * -- Error responses are not discarded, and the error will be sent to all future callbacks
   * local t = response.t */
  lua_pushliteral(L,"t");
  lua_gettable(L,5);
  assert(lua_gettop(L) == 6);
  
  /* if t == 1 or t == 3 or t == 5 or t == 2 then */
  enum { lc893 = 6 };
  lua_pushvalue(L,6);
  lua_pushnumber(L,1);
  const int lc894 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc894);
  if (!(lua_toboolean(L,-1))) {
    lua_pop(L,1);
    lua_pushvalue(L,6);
    lua_pushnumber(L,3);
    const int lc895 = lua_equal(L,-2,-1);
    lua_pop(L,2);
    lua_pushboolean(L,lc895);
  }
  if (!(lua_toboolean(L,-1))) {
    lua_pop(L,1);
    lua_pushvalue(L,6);
    lua_pushnumber(L,5);
    const int lc896 = lua_equal(L,-2,-1);
    lua_pop(L,2);
    lua_pushboolean(L,lc896);
  }
  if (!(lua_toboolean(L,-1))) {
    lua_pop(L,1);
    lua_pushvalue(L,6);
    lua_pushnumber(L,2);
    const int lc897 = lua_equal(L,-2,-1);
    lua_pop(L,2);
    lua_pushboolean(L,lc897);
  }
  const int lc898 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc898) {
    
    /* local err */
    lua_settop(L,(lua_gettop(L) + 1));
    assert(lua_gettop(L) == 7);
    
    /* local status, row = pcall(
     *           recursively_convert_pseudotype,
     *           response.r[self._response_index],
     *           self._opts
     *         ) */
    lua_getfield(L,LUA_ENVIRONINDEX,"pcall");
    lua_getfield(L,LUA_ENVIRONINDEX,"recursively_convert_pseudotype");
    lua_pushliteral(L,"r");
    lua_gettable(L,5);
    lua_pushliteral(L,"_response_index");
    lua_gettable(L,1);
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_pushliteral(L,"_opts");
    lua_gettable(L,1);
    lua_call(L,3,2);
    assert(lua_gettop(L) == 9);
    
    /* if not status then */
    enum { lc899 = 9 };
    lua_pushboolean(L,!(lua_toboolean(L,8)));
    const int lc900 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc900) {
      
      /* err = row */
      lua_pushvalue(L,9);
      lua_replace(L,7);
      assert(lua_gettop(L) == 9);
      
      /* row = response.r[self._response_index] */
      lua_pushliteral(L,"r");
      lua_gettable(L,5);
      lua_pushliteral(L,"_response_index");
      lua_gettable(L,1);
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_replace(L,9);
      assert(lua_gettop(L) == 9);
    }
    lua_settop(L,lc899);
    assert(lua_gettop(L) == 9);
    
    /* self._response_index = self._response_index + 1 */
    lua_pushliteral(L,"_response_index");
    lua_gettable(L,1);
    lua_pushnumber(L,1);
    lc_add(L,-2,-1);
    lua_remove(L,-2);
    lua_remove(L,-2);
    lua_pushliteral(L,"_response_index");
    lua_insert(L,-2);
    lua_settable(L,1);
    assert(lua_gettop(L) == 9);
    
    /* -- If we're done with this response, discard it
     * if not response.r[self._response_index] then */
    enum { lc901 = 9 };
    lua_pushliteral(L,"r");
    lua_gettable(L,5);
    lua_pushliteral(L,"_response_index");
    lua_gettable(L,1);
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_pushboolean(L,!(lua_toboolean(L,-1)));
    lua_remove(L,-2);
    const int lc902 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc902) {
      
      /* table.remove(self._responses, 1) */
      lua_getfield(L,LUA_ENVIRONINDEX,"table");
      lua_pushliteral(L,"remove");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_pushliteral(L,"_responses");
      lua_gettable(L,1);
      lua_pushnumber(L,1);
      lua_call(L,2,0);
      assert(lua_gettop(L) == 9);
      
      /* self._response_index = 1 */
      lua_pushnumber(L,1);
      lua_pushliteral(L,"_response_index");
      lua_insert(L,-2);
      lua_settable(L,1);
      assert(lua_gettop(L) == 9);
    }
    lua_settop(L,lc901);
    assert(lua_gettop(L) == 9);
    
    /* return cb(err, row) */
    const int lc903 = lua_gettop(L);
    lua_pushvalue(L,4);
    lua_pushvalue(L,7);
    lua_pushvalue(L,9);
    lua_call(L,2,LUA_MULTRET);
    return (lua_gettop(L) - lc903);
    assert(lua_gettop(L) == 9);
  }
  else {
    
    /* elseif t == 17 then */
    enum { lc904 = 6 };
    lua_pushnumber(L,17);
    const int lc905 = lua_equal(L,6,-1);
    lua_pop(L,1);
    lua_pushboolean(L,lc905);
    const int lc906 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc906) {
      
      /* return cb(ReQLCompileError(response.r[1], self._root, response.b)) */
      const int lc907 = lua_gettop(L);
      lua_pushvalue(L,4);
      const int lc908 = lua_gettop(L);
      lc_getupvalue(L,lc883,3,171);
      lua_pushliteral(L,"r");
      lua_gettable(L,5);
      lua_pushnumber(L,1);
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_pushliteral(L,"_root");
      lua_gettable(L,1);
      lua_pushliteral(L,"b");
      lua_gettable(L,5);
      lua_call(L,3,LUA_MULTRET);
      lua_call(L,(lua_gettop(L) - lc908),LUA_MULTRET);
      return (lua_gettop(L) - lc907);
      assert(lua_gettop(L) == 6);
    }
    else {
      
      /* elseif t == 16 then */
      enum { lc909 = 6 };
      lua_pushnumber(L,16);
      const int lc910 = lua_equal(L,6,-1);
      lua_pop(L,1);
      lua_pushboolean(L,lc910);
      const int lc911 = lua_toboolean(L,-1);
      lua_pop(L,1);
      if (lc911) {
        
        /* return cb(ReQLClientError(response.r[1], self._root, response.b)) */
        const int lc912 = lua_gettop(L);
        lua_pushvalue(L,4);
        const int lc913 = lua_gettop(L);
        lc_getupvalue(L,lc883,2,175);
        lua_pushliteral(L,"r");
        lua_gettable(L,5);
        lua_pushnumber(L,1);
        lua_gettable(L,-2);
        lua_remove(L,-2);
        lua_pushliteral(L,"_root");
        lua_gettable(L,1);
        lua_pushliteral(L,"b");
        lua_gettable(L,5);
        lua_call(L,3,LUA_MULTRET);
        lua_call(L,(lua_gettop(L) - lc913),LUA_MULTRET);
        return (lua_gettop(L) - lc912);
        assert(lua_gettop(L) == 6);
      }
      else {
        
        /* elseif t == 18 then */
        enum { lc914 = 6 };
        lua_pushnumber(L,18);
        const int lc915 = lua_equal(L,6,-1);
        lua_pop(L,1);
        lua_pushboolean(L,lc915);
        const int lc916 = lua_toboolean(L,-1);
        lua_pop(L,1);
        if (lc916) {
          
          /* return cb(ReQLRuntimeError(response.r[1], self._root, response.b)) */
          const int lc917 = lua_gettop(L);
          lua_pushvalue(L,4);
          const int lc918 = lua_gettop(L);
          lc_getupvalue(L,lc883,3,172);
          lua_pushliteral(L,"r");
          lua_gettable(L,5);
          lua_pushnumber(L,1);
          lua_gettable(L,-2);
          lua_remove(L,-2);
          lua_pushliteral(L,"_root");
          lua_gettable(L,1);
          lua_pushliteral(L,"b");
          lua_gettable(L,5);
          lua_call(L,3,LUA_MULTRET);
          lua_call(L,(lua_gettop(L) - lc918),LUA_MULTRET);
          return (lua_gettop(L) - lc917);
          assert(lua_gettop(L) == 6);
        }
        else {
          
          /* elseif t == 4 then */
          enum { lc919 = 6 };
          lua_pushnumber(L,4);
          const int lc920 = lua_equal(L,6,-1);
          lua_pop(L,1);
          lua_pushboolean(L,lc920);
          const int lc921 = lua_toboolean(L,-1);
          lua_pop(L,1);
          if (lc921) {
            
            /* return cb(nil, nil) */
            const int lc922 = lua_gettop(L);
            lua_pushvalue(L,4);
            lua_pushnil(L);
            lua_pushnil(L);
            lua_call(L,2,LUA_MULTRET);
            return (lua_gettop(L) - lc922);
            assert(lua_gettop(L) == 6);
          }
          lua_settop(L,lc919);
        }
        lua_settop(L,lc914);
      }
      lua_settop(L,lc909);
    }
    lua_settop(L,lc904);
  }
  lua_settop(L,lc893);
  assert(lua_gettop(L) == 6);
  
  /* return cb(ReQLDriverError('Unknown response type ' .. t)) */
  const int lc923 = lua_gettop(L);
  lua_pushvalue(L,4);
  const int lc924 = lua_gettop(L);
  lc_getupvalue(L,lc883,3,173);
  lua_pushliteral(L,"Unknown response type ");
  lua_pushvalue(L,6);
  lua_concat(L,2);
  lua_call(L,1,LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc924),LUA_MULTRET);
  return (lua_gettop(L) - lc923);
  assert(lua_gettop(L) == 6);
}


/* function(self, callback) */
static int lcf930 (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* if not self._end_flag then */
  enum { lc926 = 2 };
  lua_pushliteral(L,"_end_flag");
  lua_gettable(L,1);
  lua_pushboolean(L,!(lua_toboolean(L,-1)));
  lua_remove(L,-2);
  const int lc927 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc927) {
    
    /* self._conn:_end_query(self._token) */
    lua_pushliteral(L,"_conn");
    lua_gettable(L,1);
    lua_pushliteral(L,"_end_query");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_pushliteral(L,"_token");
    lua_gettable(L,1);
    lua_call(L,2,0);
    assert(lua_gettop(L) == 2);
  }
  lua_settop(L,lc926);
  assert(lua_gettop(L) == 2);
  
  /* if callback then */
  enum { lc928 = 2 };
  if (lua_toboolean(L,2)) {
    
    /* return callback() */
    const int lc929 = lua_gettop(L);
    lua_pushvalue(L,2);
    lua_call(L,0,LUA_MULTRET);
    return (lua_gettop(L) - lc929);
    assert(lua_gettop(L) == 2);
  }
  lua_settop(L,lc928);
  assert(lua_gettop(L) == 2);
  return 0;
}


/* name: cb
 * function(row) */
static int lcf2_cb (lua_State * L) {
  enum { lc_nformalargs = 1 };
  lua_settop(L,1);
  
  /* return callback(row) */
  const int lc939 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),0,183);
  lua_pushvalue(L,1);
  lua_call(L,1,LUA_MULTRET);
  return (lua_gettop(L) - lc939);
  assert(lua_gettop(L) == 1);
}


/* name: next_cb
 * function(err, data) */
static int lcf1_next_cb (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* if err then */
  enum { lc940 = 2 };
  if (lua_toboolean(L,1)) {
    
    /* if err.message == 'ReQLDriverError No more rows in the cursor.' then */
    enum { lc941 = 2 };
    lua_pushliteral(L,"message");
    lua_gettable(L,1);
    lua_pushliteral(L,"ReQLDriverError No more rows in the cursor.");
    const int lc942 = lua_equal(L,-2,-1);
    lua_pop(L,2);
    lua_pushboolean(L,lc942);
    const int lc943 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc943) {
      
      /* err = nil */
      lua_pushnil(L);
      lua_replace(L,1);
      assert(lua_gettop(L) == 2);
    }
    lua_settop(L,lc941);
    assert(lua_gettop(L) == 2);
    
    /* if on_finished then */
    enum { lc944 = 2 };
    lc_getupvalue(L,lua_upvalueindex(1),1,184);
    const int lc945 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc945) {
      
      /* return on_finished(err) */
      const int lc946 = lua_gettop(L);
      lc_getupvalue(L,lua_upvalueindex(1),1,184);
      lua_pushvalue(L,1);
      lua_call(L,1,LUA_MULTRET);
      return (lua_gettop(L) - lc946);
      assert(lua_gettop(L) == 2);
    }
    lua_settop(L,lc944);
    assert(lua_gettop(L) == 2);
  }
  else {
    
    /* else
     * cb(data) */
    lc_getupvalue(L,lua_upvalueindex(1),0,185);
    lua_pushvalue(L,2);
    lua_call(L,1,0);
    assert(lua_gettop(L) == 2);
    
    /* return self:next(next_cb) */
    const int lc947 = lua_gettop(L);
    lc_getupvalue(L,lua_upvalueindex(1),1,182);
    lua_pushliteral(L,"next");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_getfield(L,LUA_ENVIRONINDEX,"next_cb");
    lua_call(L,2,LUA_MULTRET);
    return (lua_gettop(L) - lc947);
    assert(lua_gettop(L) == 2);
  }
  lua_settop(L,lc940);
  assert(lua_gettop(L) == 2);
  return 0;
}


/* function(self, callback, on_finished) */
static int lcf949 (lua_State * L) {
  enum { lc_nformalargs = 3 };
  lua_settop(L,3);
  lc_newclosuretable(L,lua_upvalueindex(1));
  enum { lc931 = 4 };
  assert((lua_gettop(L) == lc931));
  lua_pushvalue(L,1);
  lua_rawseti(L,-2,182);
  lua_pushvalue(L,2);
  lua_rawseti(L,-2,183);
  lua_pushvalue(L,3);
  lua_rawseti(L,-2,184);
  
  /* if type(callback) ~= 'function' then */
  enum { lc932 = 4 };
  lua_getfield(L,LUA_ENVIRONINDEX,"type");
  lc_getupvalue(L,lc931,0,183);
  lua_call(L,1,1);
  lua_pushliteral(L,"function");
  const int lc933 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc933);
  lua_pushboolean(L,!(lua_toboolean(L,-1)));
  lua_remove(L,-2);
  const int lc934 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc934) {
    
    /* error('First argument to each must be a function.') */
    lua_getfield(L,LUA_ENVIRONINDEX,"error");
    lua_pushliteral(L,"First argument to each must be a function.");
    lua_call(L,1,0);
    assert(lua_gettop(L) == 4);
  }
  lua_settop(L,lc932);
  assert(lua_gettop(L) == 4);
  
  /* if on_finished and type(on_finished) ~= 'function' then */
  enum { lc935 = 4 };
  lc_getupvalue(L,lc931,0,184);
  if (lua_toboolean(L,-1)) {
    lua_pop(L,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"type");
    lc_getupvalue(L,lc931,0,184);
    lua_call(L,1,1);
    lua_pushliteral(L,"function");
    const int lc936 = lua_equal(L,-2,-1);
    lua_pop(L,2);
    lua_pushboolean(L,lc936);
    lua_pushboolean(L,!(lua_toboolean(L,-1)));
    lua_remove(L,-2);
  }
  const int lc937 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc937) {
    
    /* error('Optional second argument to each must be a function.') */
    lua_getfield(L,LUA_ENVIRONINDEX,"error");
    lua_pushliteral(L,"Optional second argument to each must be a function.");
    lua_call(L,1,0);
    assert(lua_gettop(L) == 4);
  }
  lua_settop(L,lc935);
  assert(lua_gettop(L) == 4);
  
  /* local cb = function(row)
   *         return callback(row)
   *       end */
  lc_newclosuretable(L,lc931);
  enum { lc938 = 5 };
  assert((lua_gettop(L) == lc938));
  lua_pushvalue(L,lc931);
  lua_pushcclosure(L,lcf2_cb,1);
  lua_rawseti(L,lc938,185);
  assert(lua_gettop(L) == 5);
  
  /* function next_cb(err, data)
   *         if err then
   *           if err.message == 'ReQLDriverError No more rows in the cursor.' then
   *             err = nil
   *           end
   *           if on_finished then
   *             return on_finished(err)
   *           end
   *         else
   *           cb(data)
   *           return self:next(next_cb)
   *         end
   *       end */
  lua_pushvalue(L,lc938);
  lua_pushcclosure(L,lcf1_next_cb,1);
  lua_setfield(L,LUA_ENVIRONINDEX,"next_cb");
  assert(lua_gettop(L) == 5);
  
  /* return self:next(next_cb) */
  const int lc948 = lua_gettop(L);
  lc_getupvalue(L,lc938,1,182);
  lua_pushliteral(L,"next");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_getfield(L,LUA_ENVIRONINDEX,"next_cb");
  lua_call(L,2,LUA_MULTRET);
  return (lua_gettop(L) - lc948);
  assert(lua_gettop(L) == 5);
}


/* name: cb
 * function(err, arr) */
static int lcf3_cb (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* return callback(err, arr) */
  const int lc959 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),0,186);
  lua_pushvalue(L,1);
  lua_pushvalue(L,2);
  lua_call(L,2,LUA_MULTRET);
  return (lua_gettop(L) - lc959);
  assert(lua_gettop(L) == 2);
}


/* function(row) */
static int lcf962 (lua_State * L) {
  enum { lc_nformalargs = 1 };
  lua_settop(L,1);
  
  /* table.insert(arr, row) */
  lua_getfield(L,LUA_ENVIRONINDEX,"table");
  lua_pushliteral(L,"insert");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lc_getupvalue(L,lua_upvalueindex(1),0,188);
  lua_pushvalue(L,1);
  lua_call(L,2,0);
  assert(lua_gettop(L) == 1);
  return 0;
}


/* function(err) */
static int lcf964 (lua_State * L) {
  enum { lc_nformalargs = 1 };
  lua_settop(L,1);
  
  /* return cb(err, arr) */
  const int lc963 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),1,187);
  lua_pushvalue(L,1);
  lc_getupvalue(L,lua_upvalueindex(1),0,188);
  lua_call(L,2,LUA_MULTRET);
  return (lua_gettop(L) - lc963);
  assert(lua_gettop(L) == 1);
}


/* function(self, callback) */
static int lcf965 (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  lc_newclosuretable(L,lua_upvalueindex(1));
  enum { lc950 = 3 };
  assert((lua_gettop(L) == lc950));
  lua_pushvalue(L,2);
  lua_rawseti(L,-2,186);
  
  /* if not self._type then */
  enum { lc951 = 3 };
  lua_pushliteral(L,"_type");
  lua_gettable(L,1);
  lua_pushboolean(L,!(lua_toboolean(L,-1)));
  lua_remove(L,-2);
  const int lc952 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc952) {
    
    /* self:_prompt_cont() */
    lua_pushvalue(L,1);
    lua_pushliteral(L,"_prompt_cont");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_call(L,1,0);
    assert(lua_gettop(L) == 3);
  }
  lua_settop(L,lc951);
  assert(lua_gettop(L) == 3);
  
  /* if self._type == 5 then */
  enum { lc953 = 3 };
  lua_pushliteral(L,"_type");
  lua_gettable(L,1);
  lua_pushnumber(L,5);
  const int lc954 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc954);
  const int lc955 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc955) {
    
    /* return cb(ReQLDriverError('`to_array` is not available for feeds.')) */
    const int lc956 = lua_gettop(L);
    lua_getfield(L,LUA_ENVIRONINDEX,"cb");
    const int lc957 = lua_gettop(L);
    lc_getupvalue(L,lc950,3,173);
    lua_pushliteral(L,"`to_array` is not available for feeds.");
    lua_call(L,1,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc957),LUA_MULTRET);
    return (lua_gettop(L) - lc956);
    assert(lua_gettop(L) == 3);
  }
  lua_settop(L,lc953);
  assert(lua_gettop(L) == 3);
  
  /* local cb = function(err, arr)
   *         return callback(err, arr)
   *       end */
  lc_newclosuretable(L,lc950);
  enum { lc958 = 4 };
  assert((lua_gettop(L) == lc958));
  lua_pushvalue(L,lc950);
  lua_pushcclosure(L,lcf3_cb,1);
  lua_rawseti(L,lc958,187);
  assert(lua_gettop(L) == 4);
  
  /* local arr = {} */
  lc_newclosuretable(L,lc958);
  enum { lc960 = 5 };
  assert((lua_gettop(L) == lc960));
  lua_newtable(L);
  lua_rawseti(L,lc960,188);
  assert(lua_gettop(L) == 5);
  
  /* return self:each(
   *         function(row)
   *           table.insert(arr, row)
   *         end,
   *         function(err)
   *           return cb(err, arr)
   *         end
   *       ) */
  const int lc961 = lua_gettop(L);
  lua_pushvalue(L,1);
  lua_pushliteral(L,"each");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_pushvalue(L,lc960);
  lua_pushcclosure(L,lcf962,1);
  lua_pushvalue(L,lc960);
  lua_pushcclosure(L,lcf964,1);
  lua_call(L,3,LUA_MULTRET);
  return (lua_gettop(L) - lc961);
  assert(lua_gettop(L) == 5);
}


/* name: cb
 * function(err, conn) */
static int lcf4_cb (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* if callback then */
  enum { lc973 = 2 };
  lc_getupvalue(L,lua_upvalueindex(1),0,189);
  const int lc974 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc974) {
    
    /* local res = callback(err, conn) */
    lc_getupvalue(L,lua_upvalueindex(1),0,189);
    lua_pushvalue(L,1);
    lua_pushvalue(L,2);
    lua_call(L,2,1);
    assert(lua_gettop(L) == 3);
    
    /* conn:close({noreply_wait = false}) */
    lua_pushvalue(L,2);
    lua_pushliteral(L,"close");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_createtable(L,0,1);
    lua_pushliteral(L,"noreply_wait");
    lua_pushboolean(L,0);
    lua_rawset(L,-3);
    lua_call(L,2,0);
    assert(lua_gettop(L) == 3);
    
    /* return res */
    lua_pushvalue(L,3);
    return 1;
    assert(lua_gettop(L) == 3);
  }
  lua_settop(L,lc973);
  assert(lua_gettop(L) == 2);
  
  /* return conn, err */
  lua_pushvalue(L,2);
  lua_pushvalue(L,1);
  return 2;
  assert(lua_gettop(L) == 2);
}


/* function(self, host_or_callback, callback) */
static int lcf994 (lua_State * L) {
  lua_checkstack(L,22);
  enum { lc_nformalargs = 3 };
  lua_settop(L,3);
  lc_newclosuretable(L,lua_upvalueindex(1));
  enum { lc966 = 4 };
  assert((lua_gettop(L) == lc966));
  lua_pushvalue(L,3);
  lua_rawseti(L,-2,189);
  
  /* local host = {} */
  lua_newtable(L);
  assert(lua_gettop(L) == 5);
  
  /* if type(host_or_callback) == 'function' then */
  enum { lc967 = 5 };
  lua_getfield(L,LUA_ENVIRONINDEX,"type");
  lua_pushvalue(L,2);
  lua_call(L,1,1);
  lua_pushliteral(L,"function");
  const int lc968 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc968);
  const int lc969 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc969) {
    
    /* callback = host_or_callback */
    lua_pushvalue(L,2);
    lc_setupvalue(L,lc966,0,189);
    assert(lua_gettop(L) == 5);
  }
  else {
    
    /* elseif type(host_or_callback) == 'string' then */
    enum { lc970 = 5 };
    lua_getfield(L,LUA_ENVIRONINDEX,"type");
    lua_pushvalue(L,2);
    lua_call(L,1,1);
    lua_pushliteral(L,"string");
    const int lc971 = lua_equal(L,-2,-1);
    lua_pop(L,2);
    lua_pushboolean(L,lc971);
    const int lc972 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc972) {
      
      /* host = {host = host_or_callback} */
      lua_createtable(L,0,1);
      lua_pushliteral(L,"host");
      lua_pushvalue(L,2);
      lua_rawset(L,-3);
      lua_replace(L,5);
      assert(lua_gettop(L) == 5);
    }
    else {
      
      /* else
       * host = host_or_callback */
      lua_pushvalue(L,2);
      lua_replace(L,5);
      assert(lua_gettop(L) == 5);
    }
    lua_settop(L,lc970);
  }
  lua_settop(L,lc967);
  assert(lua_gettop(L) == 5);
  
  /* local cb = function(err, conn)
   *         if callback then
   *           local res = callback(err, conn)
   *           conn:close({noreply_wait = false})
   *           return res
   *         end
   *         return conn, err
   *       end */
  lua_pushvalue(L,lc966);
  lua_pushcclosure(L,lcf4_cb,1);
  assert(lua_gettop(L) == 6);
  
  /* self.host = host.host or self.DEFAULT_HOST */
  lua_pushliteral(L,"host");
  lua_gettable(L,5);
  if (!(lua_toboolean(L,-1))) {
    lua_pop(L,1);
    lua_pushliteral(L,"DEFAULT_HOST");
    lua_gettable(L,1);
  }
  lua_pushliteral(L,"host");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 6);
  
  /* self.port = host.port or self.DEFAULT_PORT */
  lua_pushliteral(L,"port");
  lua_gettable(L,5);
  if (!(lua_toboolean(L,-1))) {
    lua_pop(L,1);
    lua_pushliteral(L,"DEFAULT_PORT");
    lua_gettable(L,1);
  }
  lua_pushliteral(L,"port");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 6);
  
  /* self.db = host.db */
  lua_pushliteral(L,"db");
  lua_gettable(L,5);
  lua_pushliteral(L,"db");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 6);
  
  /* -- left nil if this is not set
   * self.auth_key = host.auth_key or self.DEFAULT_AUTH_KEY */
  lua_pushliteral(L,"auth_key");
  lua_gettable(L,5);
  if (!(lua_toboolean(L,-1))) {
    lua_pop(L,1);
    lua_pushliteral(L,"DEFAULT_AUTH_KEY");
    lua_gettable(L,1);
  }
  lua_pushliteral(L,"auth_key");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 6);
  
  /* self.timeout = host.timeout or self.DEFAULT_TIMEOUT */
  lua_pushliteral(L,"timeout");
  lua_gettable(L,5);
  if (!(lua_toboolean(L,-1))) {
    lua_pop(L,1);
    lua_pushliteral(L,"DEFAULT_TIMEOUT");
    lua_gettable(L,1);
  }
  lua_pushliteral(L,"timeout");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 6);
  
  /* self.outstanding_callbacks = {} */
  lua_newtable(L);
  lua_pushliteral(L,"outstanding_callbacks");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 6);
  
  /* self.next_token = 1 */
  lua_pushnumber(L,1);
  lua_pushliteral(L,"next_token");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 6);
  
  /* self.open = false */
  lua_pushboolean(L,0);
  lua_pushliteral(L,"open");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 6);
  
  /* self.buffer = '' */
  lua_pushliteral(L,"");
  lua_pushliteral(L,"buffer");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 6);
  
  /* self._events = self._events or {} */
  lua_pushliteral(L,"_events");
  lua_gettable(L,1);
  if (!(lua_toboolean(L,-1))) {
    lua_pop(L,1);
    lua_newtable(L);
  }
  lua_pushliteral(L,"_events");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 6);
  
  /* if self.raw_socket then */
  enum { lc975 = 6 };
  lua_pushliteral(L,"raw_socket");
  lua_gettable(L,1);
  const int lc976 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc976) {
    
    /* self:close({
     *           noreply_wait = false
     *         }) */
    lua_pushvalue(L,1);
    lua_pushliteral(L,"close");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_createtable(L,0,1);
    lua_pushliteral(L,"noreply_wait");
    lua_pushboolean(L,0);
    lua_rawset(L,-3);
    lua_call(L,2,0);
    assert(lua_gettop(L) == 6);
  }
  lua_settop(L,lc975);
  assert(lua_gettop(L) == 6);
  
  /* self.raw_socket = socket.tcp() */
  lc_getupvalue(L,lc966,27,3);
  lua_pushliteral(L,"tcp");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_call(L,0,1);
  lua_pushliteral(L,"raw_socket");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 6);
  
  /* self.raw_socket:settimeout(self.timeout) */
  lua_pushliteral(L,"raw_socket");
  lua_gettable(L,1);
  lua_pushliteral(L,"settimeout");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_pushliteral(L,"timeout");
  lua_gettable(L,1);
  lua_call(L,2,0);
  assert(lua_gettop(L) == 6);
  
  /* local status, err = self.raw_socket:connect(self.host, self.port) */
  lua_pushliteral(L,"raw_socket");
  lua_gettable(L,1);
  lua_pushliteral(L,"connect");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_pushliteral(L,"host");
  lua_gettable(L,1);
  lua_pushliteral(L,"port");
  lua_gettable(L,1);
  lua_call(L,3,2);
  assert(lua_gettop(L) == 8);
  
  /* if status then */
  enum { lc977 = 8 };
  if (lua_toboolean(L,7)) {
    
    /* local buf, err, partial */
    lua_settop(L,(lua_gettop(L) + 3));
    assert(lua_gettop(L) == 11);
    
    /* -- Initialize connection with magic number to validate version
     * self.raw_socket:send(
     *           '\62\232\117\95' ..
     *           int_to_bytes(#self.auth_key, 4) ..
     *           self.auth_key ..
     *           '\199\112\105\126'
     *         ) */
    lua_pushliteral(L,"raw_socket");
    lua_gettable(L,1);
    lua_pushliteral(L,"send");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_pushliteral(L,">u_");
    lua_getfield(L,LUA_ENVIRONINDEX,"int_to_bytes");
    lua_pushliteral(L,"auth_key");
    lua_gettable(L,1);
    const double lc978 = lua_objlen(L,-1);
    lua_pop(L,1);
    lua_pushnumber(L,lc978);
    lua_pushnumber(L,4);
    lua_call(L,2,1);
    lua_pushliteral(L,"auth_key");
    lua_gettable(L,1);
    lua_pushliteral(L,"pi~");
    lua_concat(L,2);
    lua_concat(L,2);
    lua_concat(L,2);
    lua_call(L,2,0);
    assert(lua_gettop(L) == 11);
    
    /* -- Now we have to wait for a response from the server
     * -- acknowledging the connection
     * while 1 do */
    enum { lc979 = 11 };
    while (1) {
      lua_pushnumber(L,1);
      if (!(lua_toboolean(L,-1))) {
        break;
      }
      lua_pop(L,1);
      
      /* buf, err, partial = self.raw_socket:receive(8) */
      lua_pushliteral(L,"raw_socket");
      lua_gettable(L,1);
      lua_pushliteral(L,"receive");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_pushnumber(L,8);
      lua_call(L,2,3);
      lua_replace(L,11);
      lua_replace(L,10);
      lua_replace(L,9);
      assert(lua_gettop(L) == 11);
      
      /* buf = buf or partial */
      lua_pushvalue(L,9);
      if (!(lua_toboolean(L,-1))) {
        lua_pop(L,1);
        lua_pushvalue(L,11);
      }
      lua_replace(L,9);
      assert(lua_gettop(L) == 11);
      
      /* if not buf then */
      enum { lc980 = 11 };
      lua_pushboolean(L,!(lua_toboolean(L,9)));
      const int lc981 = lua_toboolean(L,-1);
      lua_pop(L,1);
      if (lc981) {
        
        /* return cb(ReQLDriverError('Server dropped connection with message:  \'' .. status_str .. '\'\n' .. err)) */
        const int lc982 = lua_gettop(L);
        lua_pushvalue(L,6);
        const int lc983 = lua_gettop(L);
        lc_getupvalue(L,lc966,3,173);
        lua_pushliteral(L,"Server dropped connection with message:  '");
        lua_getfield(L,LUA_ENVIRONINDEX,"status_str");
        lua_pushliteral(L,"'\n");
        lua_pushvalue(L,10);
        lua_concat(L,2);
        lua_concat(L,2);
        lua_concat(L,2);
        lua_call(L,1,LUA_MULTRET);
        lua_call(L,(lua_gettop(L) - lc983),LUA_MULTRET);
        return (lua_gettop(L) - lc982);
        assert(lua_gettop(L) == 11);
      }
      lua_settop(L,lc980);
      assert(lua_gettop(L) == 11);
      
      /* self.buffer = self.buffer .. buf */
      lua_pushliteral(L,"buffer");
      lua_gettable(L,1);
      lua_pushvalue(L,9);
      lua_concat(L,2);
      lua_pushliteral(L,"buffer");
      lua_insert(L,-2);
      lua_settable(L,1);
      assert(lua_gettop(L) == 11);
      
      /* i, j = buf:find('\0') */
      lua_pushvalue(L,9);
      lua_pushliteral(L,"find");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_pushliteral(L,"\0");
      lua_call(L,2,2);
      lua_setfield(L,LUA_ENVIRONINDEX,"j");
      lua_setfield(L,LUA_ENVIRONINDEX,"i");
      assert(lua_gettop(L) == 11);
      
      /* if i then */
      enum { lc984 = 11 };
      lua_getfield(L,LUA_ENVIRONINDEX,"i");
      const int lc985 = lua_toboolean(L,-1);
      lua_pop(L,1);
      if (lc985) {
        
        /* local status_str = self.buffer:sub(1, i - 1) */
        lua_pushliteral(L,"buffer");
        lua_gettable(L,1);
        lua_pushliteral(L,"sub");
        lua_gettable(L,-2);
        lua_insert(L,-2);
        lua_pushnumber(L,1);
        lua_getfield(L,LUA_ENVIRONINDEX,"i");
        lua_pushnumber(L,1);
        lc_sub(L,-2,-1);
        lua_remove(L,-2);
        lua_remove(L,-2);
        lua_call(L,3,1);
        assert(lua_gettop(L) == 12);
        
        /* self.buffer = self.buffer:sub(i + 1) */
        lua_pushliteral(L,"buffer");
        lua_gettable(L,1);
        lua_pushliteral(L,"sub");
        lua_gettable(L,-2);
        lua_insert(L,-2);
        lua_getfield(L,LUA_ENVIRONINDEX,"i");
        lua_pushnumber(L,1);
        lc_add(L,-2,-1);
        lua_remove(L,-2);
        lua_remove(L,-2);
        lua_call(L,2,1);
        lua_pushliteral(L,"buffer");
        lua_insert(L,-2);
        lua_settable(L,1);
        assert(lua_gettop(L) == 12);
        
        /* if status_str == 'SUCCESS' then */
        enum { lc986 = 12 };
        lua_pushliteral(L,"SUCCESS");
        const int lc987 = lua_equal(L,12,-1);
        lua_pop(L,1);
        lua_pushboolean(L,lc987);
        const int lc988 = lua_toboolean(L,-1);
        lua_pop(L,1);
        if (lc988) {
          
          /* -- We're good, finish setting up the connection
           * self.open = true */
          lua_pushboolean(L,1);
          lua_pushliteral(L,"open");
          lua_insert(L,-2);
          lua_settable(L,1);
          assert(lua_gettop(L) == 12);
          
          /* return cb(nil, self) */
          const int lc989 = lua_gettop(L);
          lua_pushvalue(L,6);
          lua_pushnil(L);
          lua_pushvalue(L,1);
          lua_call(L,2,LUA_MULTRET);
          return (lua_gettop(L) - lc989);
          assert(lua_gettop(L) == 12);
        }
        lua_settop(L,lc986);
        assert(lua_gettop(L) == 12);
        
        /* return cb(ReQLDriverError('Server dropped connection with message: \'' .. status_str .. '\'')) */
        const int lc990 = lua_gettop(L);
        lua_pushvalue(L,6);
        const int lc991 = lua_gettop(L);
        lc_getupvalue(L,lc966,3,173);
        lua_pushliteral(L,"Server dropped connection with message: '");
        lua_pushvalue(L,12);
        lua_pushliteral(L,"'");
        lua_concat(L,2);
        lua_concat(L,2);
        lua_call(L,1,LUA_MULTRET);
        lua_call(L,(lua_gettop(L) - lc991),LUA_MULTRET);
        return (lua_gettop(L) - lc990);
        assert(lua_gettop(L) == 12);
      }
      lua_settop(L,lc984);
      assert(lua_gettop(L) == 11);
    }
    lua_settop(L,lc979);
    assert(lua_gettop(L) == 11);
  }
  lua_settop(L,lc977);
  assert(lua_gettop(L) == 8);
  
  /* return cb(ReQLDriverError('Could not connect to ' .. self.host .. ':' .. self.port .. '.\n' .. err)) */
  const int lc992 = lua_gettop(L);
  lua_pushvalue(L,6);
  const int lc993 = lua_gettop(L);
  lc_getupvalue(L,lc966,3,173);
  lua_pushliteral(L,"Could not connect to ");
  lua_pushliteral(L,"host");
  lua_gettable(L,1);
  lua_pushliteral(L,":");
  lua_pushliteral(L,"port");
  lua_gettable(L,1);
  lua_pushliteral(L,".\n");
  lua_pushvalue(L,8);
  lua_concat(L,2);
  lua_concat(L,2);
  lua_concat(L,2);
  lua_concat(L,2);
  lua_concat(L,2);
  lua_call(L,1,LUA_MULTRET);
  lua_call(L,(lua_gettop(L) - lc993),LUA_MULTRET);
  return (lua_gettop(L) - lc992);
  assert(lua_gettop(L) == 8);
}


/* function(self, reqest_token) */
static int lcf1016 (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* local response_length = 0 */
  lua_pushnumber(L,0);
  assert(lua_gettop(L) == 3);
  
  /* local token = 0 */
  lua_pushnumber(L,0);
  assert(lua_gettop(L) == 4);
  
  /* local buf, err, partial */
  lua_settop(L,(lua_gettop(L) + 3));
  assert(lua_gettop(L) == 7);
  
  /* -- Buffer data, execute return results if need be
   * while true do */
  enum { lc995 = 7 };
  while (1) {
    lua_pushboolean(L,1);
    if (!(lua_toboolean(L,-1))) {
      break;
    }
    lua_pop(L,1);
    
    /* buf, err, partial = self.raw_socket:receive(
     *           math.max(12, response_length)
     *         ) */
    lua_pushliteral(L,"raw_socket");
    lua_gettable(L,1);
    const int lc996 = lua_gettop(L);
    lua_pushliteral(L,"receive");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_getfield(L,LUA_ENVIRONINDEX,"math");
    lua_pushliteral(L,"max");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_pushnumber(L,12);
    lua_pushvalue(L,3);
    lua_call(L,2,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc996),3);
    lua_replace(L,7);
    lua_replace(L,6);
    lua_replace(L,5);
    assert(lua_gettop(L) == 7);
    
    /* buf = buf or partial */
    lua_pushvalue(L,5);
    if (!(lua_toboolean(L,-1))) {
      lua_pop(L,1);
      lua_pushvalue(L,7);
    }
    lua_replace(L,5);
    assert(lua_gettop(L) == 7);
    
    /* if (not buf) and err then */
    enum { lc997 = 7 };
    lua_pushboolean(L,!(lua_toboolean(L,5)));
    if (lua_toboolean(L,-1)) {
      lua_pop(L,1);
      lua_pushvalue(L,6);
    }
    const int lc998 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc998) {
      
      /* return self:_process_response(
       *             {
       *               t = 16,
       *               r = {'connection returned: ' .. err},
       *               b = {}
       *             },
       *             reqest_token
       *           ) */
      const int lc999 = lua_gettop(L);
      lua_pushvalue(L,1);
      lua_pushliteral(L,"_process_response");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_createtable(L,0,3);
      lua_pushliteral(L,"t");
      lua_pushnumber(L,16);
      lua_rawset(L,-3);
      lua_pushliteral(L,"r");
      lua_createtable(L,1,0);
      lua_pushliteral(L,"connection returned: ");
      lua_pushvalue(L,6);
      lua_concat(L,2);
      lua_rawseti(L,-2,1);
      lua_rawset(L,-3);
      lua_pushliteral(L,"b");
      lua_newtable(L);
      lua_rawset(L,-3);
      lua_pushvalue(L,2);
      lua_call(L,3,LUA_MULTRET);
      return (lua_gettop(L) - lc999);
      assert(lua_gettop(L) == 7);
    }
    lua_settop(L,lc997);
    assert(lua_gettop(L) == 7);
    
    /* self.buffer = self.buffer .. buf */
    lua_pushliteral(L,"buffer");
    lua_gettable(L,1);
    lua_pushvalue(L,5);
    lua_concat(L,2);
    lua_pushliteral(L,"buffer");
    lua_insert(L,-2);
    lua_settable(L,1);
    assert(lua_gettop(L) == 7);
    
    /* if response_length > 0 then */
    enum { lc1000 = 7 };
    lua_pushnumber(L,0);
    const int lc1001 = lua_lessthan(L,-1,3);
    lua_pop(L,1);
    lua_pushboolean(L,lc1001);
    const int lc1002 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc1002) {
      
      /* if #self.buffer >= response_length then */
      enum { lc1003 = 7 };
      lua_pushliteral(L,"buffer");
      lua_gettable(L,1);
      const double lc1004 = lua_objlen(L,-1);
      lua_pop(L,1);
      lua_pushnumber(L,lc1004);
      const int lc1005 = lc_le(L,3,-1);
      lua_pop(L,1);
      lua_pushboolean(L,lc1005);
      const int lc1006 = lua_toboolean(L,-1);
      lua_pop(L,1);
      if (lc1006) {
        
        /* local response_buffer = string.sub(self.buffer, 1, response_length) */
        lua_getfield(L,LUA_ENVIRONINDEX,"string");
        lua_pushliteral(L,"sub");
        lua_gettable(L,-2);
        lua_remove(L,-2);
        lua_pushliteral(L,"buffer");
        lua_gettable(L,1);
        lua_pushnumber(L,1);
        lua_pushvalue(L,3);
        lua_call(L,3,1);
        assert(lua_gettop(L) == 8);
        
        /* self.buffer = string.sub(self.buffer, response_length + 1) */
        lua_getfield(L,LUA_ENVIRONINDEX,"string");
        lua_pushliteral(L,"sub");
        lua_gettable(L,-2);
        lua_remove(L,-2);
        lua_pushliteral(L,"buffer");
        lua_gettable(L,1);
        lua_pushnumber(L,1);
        lc_add(L,3,-1);
        lua_remove(L,-2);
        lua_call(L,2,1);
        lua_pushliteral(L,"buffer");
        lua_insert(L,-2);
        lua_settable(L,1);
        assert(lua_gettop(L) == 8);
        
        /* response_length = 0 */
        lua_pushnumber(L,0);
        lua_replace(L,3);
        assert(lua_gettop(L) == 8);
        
        /* self:_process_response(json.decode(response_buffer), token) */
        lua_pushvalue(L,1);
        lua_pushliteral(L,"_process_response");
        lua_gettable(L,-2);
        lua_insert(L,-2);
        lc_getupvalue(L,lua_upvalueindex(1),28,1);
        lua_pushliteral(L,"decode");
        lua_gettable(L,-2);
        lua_remove(L,-2);
        lua_pushvalue(L,8);
        lua_call(L,1,1);
        lua_pushvalue(L,4);
        lua_call(L,3,0);
        assert(lua_gettop(L) == 8);
        
        /* if token == reqest_token then */
        enum { lc1007 = 8 };
        const int lc1008 = lua_equal(L,4,2);
        lua_pushboolean(L,lc1008);
        const int lc1009 = lua_toboolean(L,-1);
        lua_pop(L,1);
        if (lc1009) {
          
          /* return */
          return 0;
          assert(lua_gettop(L) == 8);
        }
        lua_settop(L,lc1007);
        assert(lua_gettop(L) == 8);
      }
      lua_settop(L,lc1003);
      assert(lua_gettop(L) == 7);
    }
    else {
      
      /* else
       * if #self.buffer >= 12 then */
      enum { lc1010 = 7 };
      lua_pushnumber(L,12);
      lua_pushliteral(L,"buffer");
      lua_gettable(L,1);
      const double lc1011 = lua_objlen(L,-1);
      lua_pop(L,1);
      lua_pushnumber(L,lc1011);
      const int lc1012 = lc_le(L,-2,-1);
      lua_pop(L,2);
      lua_pushboolean(L,lc1012);
      const int lc1013 = lua_toboolean(L,-1);
      lua_pop(L,1);
      if (lc1013) {
        
        /* token = bytes_to_int(self.buffer:sub(1, 8)) */
        lua_getfield(L,LUA_ENVIRONINDEX,"bytes_to_int");
        const int lc1014 = lua_gettop(L);
        lua_pushliteral(L,"buffer");
        lua_gettable(L,1);
        lua_pushliteral(L,"sub");
        lua_gettable(L,-2);
        lua_insert(L,-2);
        lua_pushnumber(L,1);
        lua_pushnumber(L,8);
        lua_call(L,3,LUA_MULTRET);
        lua_call(L,(lua_gettop(L) - lc1014),1);
        lua_replace(L,4);
        assert(lua_gettop(L) == 7);
        
        /* response_length = bytes_to_int(self.buffer:sub(9, 12)) */
        lua_getfield(L,LUA_ENVIRONINDEX,"bytes_to_int");
        const int lc1015 = lua_gettop(L);
        lua_pushliteral(L,"buffer");
        lua_gettable(L,1);
        lua_pushliteral(L,"sub");
        lua_gettable(L,-2);
        lua_insert(L,-2);
        lua_pushnumber(L,9);
        lua_pushnumber(L,12);
        lua_call(L,3,LUA_MULTRET);
        lua_call(L,(lua_gettop(L) - lc1015),1);
        lua_replace(L,3);
        assert(lua_gettop(L) == 7);
        
        /* self.buffer = self.buffer:sub(13) */
        lua_pushliteral(L,"buffer");
        lua_gettable(L,1);
        lua_pushliteral(L,"sub");
        lua_gettable(L,-2);
        lua_insert(L,-2);
        lua_pushnumber(L,13);
        lua_call(L,2,1);
        lua_pushliteral(L,"buffer");
        lua_insert(L,-2);
        lua_settable(L,1);
        assert(lua_gettop(L) == 7);
      }
      lua_settop(L,lc1010);
      assert(lua_gettop(L) == 7);
    }
    lua_settop(L,lc1000);
    assert(lua_gettop(L) == 7);
  }
  lua_settop(L,lc995);
  assert(lua_gettop(L) == 7);
  return 0;
}


/* function(self, token) */
static int lcf1017 (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* -- This query is done, delete this cursor
   * self.outstanding_callbacks[token].cursor = nil */
  lua_pushnil(L);
  lua_pushliteral(L,"outstanding_callbacks");
  lua_gettable(L,1);
  lua_pushvalue(L,2);
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_insert(L,-2);
  lua_pushliteral(L,"cursor");
  lua_insert(L,-2);
  lua_settable(L,-3);
  lua_pop(L,1);
  assert(lua_gettop(L) == 2);
  return 0;
}


/* function(self, response, token) */
static int lcf1022 (lua_State * L) {
  enum { lc_nformalargs = 3 };
  lua_settop(L,3);
  
  /* local cursor = self.outstanding_callbacks[token] */
  lua_pushliteral(L,"outstanding_callbacks");
  lua_gettable(L,1);
  lua_pushvalue(L,3);
  lua_gettable(L,-2);
  lua_remove(L,-2);
  assert(lua_gettop(L) == 4);
  
  /* if not cursor then */
  enum { lc1018 = 4 };
  lua_pushboolean(L,!(lua_toboolean(L,4)));
  const int lc1019 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc1019) {
    
    /* -- Unexpected token
     * error('Unexpected token ' .. token .. '.') */
    lua_getfield(L,LUA_ENVIRONINDEX,"error");
    lua_pushliteral(L,"Unexpected token ");
    lua_pushvalue(L,3);
    lua_pushliteral(L,".");
    lua_concat(L,2);
    lua_concat(L,2);
    lua_call(L,1,0);
    assert(lua_gettop(L) == 4);
  }
  lua_settop(L,lc1018);
  assert(lua_gettop(L) == 4);
  
  /* cursor = cursor.cursor */
  lua_pushliteral(L,"cursor");
  lua_gettable(L,4);
  lua_replace(L,4);
  assert(lua_gettop(L) == 4);
  
  /* if cursor then */
  enum { lc1020 = 4 };
  if (lua_toboolean(L,4)) {
    
    /* return cursor:_add_response(response) */
    const int lc1021 = lua_gettop(L);
    lua_pushvalue(L,4);
    lua_pushliteral(L,"_add_response");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_pushvalue(L,2);
    lua_call(L,2,LUA_MULTRET);
    return (lua_gettop(L) - lc1021);
    assert(lua_gettop(L) == 4);
  }
  lua_settop(L,lc1020);
  assert(lua_gettop(L) == 4);
  return 0;
}


/* name: wrapped_cb
 * function(err) */
static int lcf1_wrapped_cb (lua_State * L) {
  enum { lc_nformalargs = 1 };
  lua_settop(L,1);
  
  /* self.open = false */
  lua_pushboolean(L,0);
  lc_getupvalue(L,lua_upvalueindex(1),1,190);
  lua_insert(L,-2);
  lua_pushliteral(L,"open");
  lua_insert(L,-2);
  lua_settable(L,-3);
  lua_pop(L,1);
  assert(lua_gettop(L) == 1);
  
  /* self.raw_socket:shutdown() */
  lc_getupvalue(L,lua_upvalueindex(1),1,190);
  lua_pushliteral(L,"raw_socket");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_pushliteral(L,"shutdown");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_call(L,1,0);
  assert(lua_gettop(L) == 1);
  
  /* self.raw_socket:close() */
  lc_getupvalue(L,lua_upvalueindex(1),1,190);
  lua_pushliteral(L,"raw_socket");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_pushliteral(L,"close");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_call(L,1,0);
  assert(lua_gettop(L) == 1);
  
  /* if cb then */
  enum { lc1035 = 1 };
  lc_getupvalue(L,lua_upvalueindex(1),0,191);
  const int lc1036 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc1036) {
    
    /* return cb(err) */
    const int lc1037 = lua_gettop(L);
    lc_getupvalue(L,lua_upvalueindex(1),0,191);
    lua_pushvalue(L,1);
    lua_call(L,1,LUA_MULTRET);
    return (lua_gettop(L) - lc1037);
    assert(lua_gettop(L) == 1);
  }
  lua_settop(L,lc1035);
  assert(lua_gettop(L) == 1);
  
  /* return nil, err */
  lua_pushnil(L);
  lua_pushvalue(L,1);
  return 2;
  assert(lua_gettop(L) == 1);
}


/* function(self, opts_or_callback, callback) */
static int lcf1041 (lua_State * L) {
  enum { lc_nformalargs = 3 };
  lua_settop(L,3);
  lc_newclosuretable(L,lua_upvalueindex(1));
  enum { lc1023 = 4 };
  assert((lua_gettop(L) == lc1023));
  lua_pushvalue(L,1);
  lua_rawseti(L,-2,190);
  
  /* local opts = {} */
  lua_newtable(L);
  assert(lua_gettop(L) == 5);
  
  /* local cb */
  lc_newclosuretable(L,lc1023);
  enum { lc1024 = 6 };
  assert((lua_gettop(L) == lc1024));
  lua_settop(L,(lua_gettop(L) + 1));
  lua_rawseti(L,lc1024,191);
  assert(lua_gettop(L) == 6);
  
  /* if callback then */
  enum { lc1025 = 6 };
  if (lua_toboolean(L,3)) {
    
    /* if type(opts_or_callback) ~= 'table' then */
    enum { lc1026 = 6 };
    lua_getfield(L,LUA_ENVIRONINDEX,"type");
    lua_pushvalue(L,2);
    lua_call(L,1,1);
    lua_pushliteral(L,"table");
    const int lc1027 = lua_equal(L,-2,-1);
    lua_pop(L,2);
    lua_pushboolean(L,lc1027);
    lua_pushboolean(L,!(lua_toboolean(L,-1)));
    lua_remove(L,-2);
    const int lc1028 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc1028) {
      
      /* error('First argument to two-argument `close` must be a table.') */
      lua_getfield(L,LUA_ENVIRONINDEX,"error");
      lua_pushliteral(L,"First argument to two-argument `close` must be a table.");
      lua_call(L,1,0);
      assert(lua_gettop(L) == 6);
    }
    lua_settop(L,lc1026);
    assert(lua_gettop(L) == 6);
    
    /* opts = opts_or_callback */
    lua_pushvalue(L,2);
    lua_replace(L,5);
    assert(lua_gettop(L) == 6);
    
    /* cb = callback */
    lua_pushvalue(L,3);
    lc_setupvalue(L,lc1024,0,191);
    assert(lua_gettop(L) == 6);
  }
  else {
    
    /* elseif type(opts_or_callback) == 'table' then */
    enum { lc1029 = 6 };
    lua_getfield(L,LUA_ENVIRONINDEX,"type");
    lua_pushvalue(L,2);
    lua_call(L,1,1);
    lua_pushliteral(L,"table");
    const int lc1030 = lua_equal(L,-2,-1);
    lua_pop(L,2);
    lua_pushboolean(L,lc1030);
    const int lc1031 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc1031) {
      
      /* opts = opts_or_callback */
      lua_pushvalue(L,2);
      lua_replace(L,5);
      assert(lua_gettop(L) == 6);
    }
    else {
      
      /* elseif type(opts_or_callback) == 'function' then */
      enum { lc1032 = 6 };
      lua_getfield(L,LUA_ENVIRONINDEX,"type");
      lua_pushvalue(L,2);
      lua_call(L,1,1);
      lua_pushliteral(L,"function");
      const int lc1033 = lua_equal(L,-2,-1);
      lua_pop(L,2);
      lua_pushboolean(L,lc1033);
      const int lc1034 = lua_toboolean(L,-1);
      lua_pop(L,1);
      if (lc1034) {
        
        /* cb = opts_or_callback */
        lua_pushvalue(L,2);
        lc_setupvalue(L,lc1024,0,191);
        assert(lua_gettop(L) == 6);
      }
      lua_settop(L,lc1032);
    }
    lua_settop(L,lc1029);
  }
  lua_settop(L,lc1025);
  assert(lua_gettop(L) == 6);
  
  /* function wrapped_cb(err)
   *         self.open = false
   *         self.raw_socket:shutdown()
   *         self.raw_socket:close()
   *         if cb then
   *           return cb(err)
   *         end
   *         return nil, err
   *       end */
  lua_pushvalue(L,lc1024);
  lua_pushcclosure(L,lcf1_wrapped_cb,1);
  lua_setfield(L,LUA_ENVIRONINDEX,"wrapped_cb");
  assert(lua_gettop(L) == 6);
  
  /* local noreply_wait = opts.noreply_wait and self.open */
  lua_pushliteral(L,"noreply_wait");
  lua_gettable(L,5);
  if (lua_toboolean(L,-1)) {
    lua_pop(L,1);
    lc_getupvalue(L,lc1024,1,190);
    lua_pushliteral(L,"open");
    lua_gettable(L,-2);
    lua_remove(L,-2);
  }
  assert(lua_gettop(L) == 7);
  
  /* if noreply_wait then */
  enum { lc1038 = 7 };
  if (lua_toboolean(L,7)) {
    
    /* return self:noreply_wait(wrapped_cb) */
    const int lc1039 = lua_gettop(L);
    lc_getupvalue(L,lc1024,1,190);
    lua_pushliteral(L,"noreply_wait");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_getfield(L,LUA_ENVIRONINDEX,"wrapped_cb");
    lua_call(L,2,LUA_MULTRET);
    return (lua_gettop(L) - lc1039);
    assert(lua_gettop(L) == 7);
  }
  lua_settop(L,lc1038);
  assert(lua_gettop(L) == 7);
  
  /* return wrapped_cb() */
  const int lc1040 = lua_gettop(L);
  lua_getfield(L,LUA_ENVIRONINDEX,"wrapped_cb");
  lua_call(L,0,LUA_MULTRET);
  return (lua_gettop(L) - lc1040);
  assert(lua_gettop(L) == 7);
}


/* function(err) */
static int lcf1046 (lua_State * L) {
  enum { lc_nformalargs = 1 };
  lua_settop(L,1);
  
  /* return callback(err) */
  const int lc1045 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),0,192);
  lua_pushvalue(L,1);
  lua_call(L,1,LUA_MULTRET);
  return (lua_gettop(L) - lc1045);
  assert(lua_gettop(L) == 1);
}


/* name: cb
 * function(err, cur) */
static int lcf5_cb (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* if cur then */
  enum { lc1043 = 2 };
  if (lua_toboolean(L,2)) {
    
    /* return cur.next(function(err) return callback(err) end) */
    const int lc1044 = lua_gettop(L);
    lua_pushliteral(L,"next");
    lua_gettable(L,2);
    lua_pushvalue(L,lua_upvalueindex(1));
    lua_pushcclosure(L,lcf1046,1);
    lua_call(L,1,LUA_MULTRET);
    return (lua_gettop(L) - lc1044);
    assert(lua_gettop(L) == 2);
  }
  lua_settop(L,lc1043);
  assert(lua_gettop(L) == 2);
  
  /* return callback(err) */
  const int lc1047 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),0,192);
  lua_pushvalue(L,1);
  lua_call(L,1,LUA_MULTRET);
  return (lua_gettop(L) - lc1047);
  assert(lua_gettop(L) == 2);
}


/* function(self, callback) */
static int lcf1053 (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  lc_newclosuretable(L,lua_upvalueindex(1));
  enum { lc1042 = 3 };
  assert((lua_gettop(L) == lc1042));
  lua_pushvalue(L,2);
  lua_rawseti(L,-2,192);
  
  /* local cb = function(err, cur)
   *         if cur then
   *           return cur.next(function(err) return callback(err) end)
   *         end
   *         return callback(err)
   *       end */
  lua_pushvalue(L,lc1042);
  lua_pushcclosure(L,lcf5_cb,1);
  assert(lua_gettop(L) == 4);
  
  /* if not self.open then */
  enum { lc1048 = 4 };
  lua_pushliteral(L,"open");
  lua_gettable(L,1);
  lua_pushboolean(L,!(lua_toboolean(L,-1)));
  lua_remove(L,-2);
  const int lc1049 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc1049) {
    
    /* return cb(ReQLDriverError('Connection is closed.')) */
    const int lc1050 = lua_gettop(L);
    lua_pushvalue(L,4);
    const int lc1051 = lua_gettop(L);
    lc_getupvalue(L,lc1042,3,173);
    lua_pushliteral(L,"Connection is closed.");
    lua_call(L,1,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc1051),LUA_MULTRET);
    return (lua_gettop(L) - lc1050);
    assert(lua_gettop(L) == 4);
  }
  lua_settop(L,lc1048);
  assert(lua_gettop(L) == 4);
  
  /* -- Assign token
   * local token = self.next_token */
  lua_pushliteral(L,"next_token");
  lua_gettable(L,1);
  assert(lua_gettop(L) == 5);
  
  /* self.next_token = self.next_token + 1 */
  lua_pushliteral(L,"next_token");
  lua_gettable(L,1);
  lua_pushnumber(L,1);
  lc_add(L,-2,-1);
  lua_remove(L,-2);
  lua_remove(L,-2);
  lua_pushliteral(L,"next_token");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 5);
  
  /* -- Save cursor
   * local cursor = Cursor(self, token, {}) */
  lc_getupvalue(L,lc1042,25,5);
  lua_pushvalue(L,1);
  lua_pushvalue(L,5);
  lua_newtable(L);
  lua_call(L,3,1);
  assert(lua_gettop(L) == 6);
  
  /* -- Save cursor
   * self.outstanding_callbacks[token] = {cursor = cursor} */
  lua_createtable(L,0,1);
  lua_pushliteral(L,"cursor");
  lua_pushvalue(L,6);
  lua_rawset(L,-3);
  lua_pushliteral(L,"outstanding_callbacks");
  lua_gettable(L,1);
  lua_insert(L,-2);
  lua_pushvalue(L,5);
  lua_insert(L,-2);
  lua_settable(L,-3);
  lua_pop(L,1);
  assert(lua_gettop(L) == 6);
  
  /* -- Construct query
   * self:_send_query(token, {4}) */
  lua_pushvalue(L,1);
  lua_pushliteral(L,"_send_query");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_pushvalue(L,5);
  lua_createtable(L,1,0);
  lua_pushnumber(L,4);
  lua_rawseti(L,-2,1);
  lua_call(L,3,0);
  assert(lua_gettop(L) == 6);
  
  /* return cb(nil, cursor) */
  const int lc1052 = lua_gettop(L);
  lua_pushvalue(L,4);
  lua_pushnil(L);
  lua_pushvalue(L,6);
  lua_call(L,2,LUA_MULTRET);
  return (lua_gettop(L) - lc1052);
  assert(lua_gettop(L) == 6);
}


/* function() */
static int lcf1060 (lua_State * L) {
  enum { lc_nformalargs = 0 };
  lua_settop(L,0);
  
  /* return Connection(self, callback) */
  const int lc1059 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),25,6);
  lc_getupvalue(L,lua_upvalueindex(1),0,193);
  lc_getupvalue(L,lua_upvalueindex(1),0,194);
  lua_call(L,2,LUA_MULTRET);
  return (lua_gettop(L) - lc1059);
  assert(lua_gettop(L) == 0);
}


/* function(self, opts_or_callback, callback) */
static int lcf1061 (lua_State * L) {
  enum { lc_nformalargs = 3 };
  lua_settop(L,3);
  lc_newclosuretable(L,lua_upvalueindex(1));
  enum { lc1054 = 4 };
  assert((lua_gettop(L) == lc1054));
  lua_pushvalue(L,1);
  lua_rawseti(L,-2,193);
  lua_pushvalue(L,3);
  lua_rawseti(L,-2,194);
  
  /* local opts = {} */
  lua_newtable(L);
  assert(lua_gettop(L) == 5);
  
  /* if callback or not type(opts_or_callback) == 'function' then */
  enum { lc1055 = 5 };
  lc_getupvalue(L,lc1054,0,194);
  if (!(lua_toboolean(L,-1))) {
    lua_pop(L,1);
    lua_getfield(L,LUA_ENVIRONINDEX,"type");
    lua_pushvalue(L,2);
    lua_call(L,1,1);
    lua_pushboolean(L,!(lua_toboolean(L,-1)));
    lua_remove(L,-2);
    lua_pushliteral(L,"function");
    const int lc1056 = lua_equal(L,-2,-1);
    lua_pop(L,2);
    lua_pushboolean(L,lc1056);
  }
  const int lc1057 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc1057) {
    
    /* opts = opts_or_callback */
    lua_pushvalue(L,2);
    lua_replace(L,5);
    assert(lua_gettop(L) == 5);
  }
  else {
    
    /* else
     * callback = opts_or_callback */
    lua_pushvalue(L,2);
    lc_setupvalue(L,lc1054,0,194);
    assert(lua_gettop(L) == 5);
  }
  lua_settop(L,lc1055);
  assert(lua_gettop(L) == 5);
  
  /* return self:close(opts, function()
   *         return Connection(self, callback)
   *       end) */
  const int lc1058 = lua_gettop(L);
  lc_getupvalue(L,lc1054,0,193);
  lua_pushliteral(L,"close");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_pushvalue(L,5);
  lua_pushvalue(L,lc1054);
  lua_pushcclosure(L,lcf1060,1);
  lua_call(L,3,LUA_MULTRET);
  return (lua_gettop(L) - lc1058);
  assert(lua_gettop(L) == 5);
}


/* function(self, db) */
static int lcf1062 (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* self.db = db */
  lua_pushvalue(L,2);
  lua_pushliteral(L,"db");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 2);
  return 0;
}


/* name: cb
 * function(err, cur) */
static int lcf6_cb (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* local res */
  lua_settop(L,(lua_gettop(L) + 1));
  assert(lua_gettop(L) == 3);
  
  /* if type(callback) == 'function' and not opts.noreply then */
  enum { lc1064 = 3 };
  lua_getfield(L,LUA_ENVIRONINDEX,"type");
  lc_getupvalue(L,lua_upvalueindex(1),0,195);
  lua_call(L,1,1);
  lua_pushliteral(L,"function");
  const int lc1065 = lua_equal(L,-2,-1);
  lua_pop(L,2);
  lua_pushboolean(L,lc1065);
  if (lua_toboolean(L,-1)) {
    lua_pop(L,1);
    lc_getupvalue(L,lua_upvalueindex(1),0,196);
    lua_pushliteral(L,"noreply");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_pushboolean(L,!(lua_toboolean(L,-1)));
    lua_remove(L,-2);
  }
  const int lc1066 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc1066) {
    
    /* res = callback(err, cur) */
    lc_getupvalue(L,lua_upvalueindex(1),0,195);
    lua_pushvalue(L,1);
    lua_pushvalue(L,2);
    lua_call(L,2,1);
    lua_replace(L,3);
    assert(lua_gettop(L) == 3);
  }
  else {
    
    /* else
     * if err then */
    enum { lc1067 = 3 };
    if (lua_toboolean(L,1)) {
      
      /* error(err.message) */
      lua_getfield(L,LUA_ENVIRONINDEX,"error");
      lua_pushliteral(L,"message");
      lua_gettable(L,1);
      lua_call(L,1,0);
      assert(lua_gettop(L) == 3);
    }
    lua_settop(L,lc1067);
    assert(lua_gettop(L) == 3);
  }
  lua_settop(L,lc1064);
  assert(lua_gettop(L) == 3);
  
  /* cur:close() */
  lua_pushvalue(L,2);
  lua_pushliteral(L,"close");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_call(L,1,0);
  assert(lua_gettop(L) == 3);
  
  /* return res */
  lua_pushvalue(L,3);
  return 1;
  assert(lua_gettop(L) == 3);
}


/* function(self, term, callback, opts) */
static int lcf1077 (lua_State * L) {
  lua_checkstack(L,23);
  enum { lc_nformalargs = 4 };
  lua_settop(L,4);
  lc_newclosuretable(L,lua_upvalueindex(1));
  enum { lc1063 = 5 };
  assert((lua_gettop(L) == lc1063));
  lua_pushvalue(L,3);
  lua_rawseti(L,-2,195);
  lua_pushvalue(L,4);
  lua_rawseti(L,-2,196);
  
  /* local cb = function(err, cur)
   *         local res
   *         if type(callback) == 'function' and not opts.noreply then
   *           res = callback(err, cur)
   *         else
   *           if err then
   *             error(err.message)
   *           end
   *         end
   *         cur:close()
   *         return res
   *       end */
  lua_pushvalue(L,lc1063);
  lua_pushcclosure(L,lcf6_cb,1);
  assert(lua_gettop(L) == 6);
  
  /* if not self.open then */
  enum { lc1068 = 6 };
  lua_pushliteral(L,"open");
  lua_gettable(L,1);
  lua_pushboolean(L,!(lua_toboolean(L,-1)));
  lua_remove(L,-2);
  const int lc1069 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc1069) {
    
    /* cb(ReQLDriverError('Connection is closed.')) */
    lua_pushvalue(L,6);
    const int lc1070 = lua_gettop(L);
    lc_getupvalue(L,lc1063,3,173);
    lua_pushliteral(L,"Connection is closed.");
    lua_call(L,1,LUA_MULTRET);
    lua_call(L,(lua_gettop(L) - lc1070),0);
    assert(lua_gettop(L) == 6);
  }
  lua_settop(L,lc1068);
  assert(lua_gettop(L) == 6);
  
  /* -- Assign token
   * local token = self.next_token */
  lua_pushliteral(L,"next_token");
  lua_gettable(L,1);
  assert(lua_gettop(L) == 7);
  
  /* self.next_token = self.next_token + 1 */
  lua_pushliteral(L,"next_token");
  lua_gettable(L,1);
  lua_pushnumber(L,1);
  lc_add(L,-2,-1);
  lua_remove(L,-2);
  lua_remove(L,-2);
  lua_pushliteral(L,"next_token");
  lua_insert(L,-2);
  lua_settable(L,1);
  assert(lua_gettop(L) == 7);
  
  /* -- Set global options
   * local global_opts = {} */
  lua_newtable(L);
  assert(lua_gettop(L) == 8);
  
  /* for k, v in pairs(opts) do
   * internal: local f, s, var = explist */
  enum { lc1071 = 8 };
  lua_getfield(L,LUA_ENVIRONINDEX,"pairs");
  lc_getupvalue(L,lc1063,0,196);
  lua_call(L,1,3);
  while (1) {
    
    /* internal: local var_1, ..., var_n = f(s, var)
     *           if var_1 == nil then break end
     *           var = var_1 */
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_call(L,2,2);
    if (lua_isnil(L,-2)) {
      break;
    }
    lua_pushvalue(L,-2);
    lua_replace(L,-4);
    
    /* internal: local k with idx 12
     * internal: local v with idx 13 */
    
    
    /* global_opts[k] = r(v):build() */
    lc_getupvalue(L,lc1063,26,4);
    lua_pushvalue(L,13);
    lua_call(L,1,1);
    lua_pushliteral(L,"build");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_call(L,1,1);
    lua_pushvalue(L,12);
    lua_insert(L,-2);
    lua_settable(L,8);
    assert(lua_gettop(L) == 13);
    
    /* internal: stack cleanup on scope exit */
    lua_pop(L,2);
  }
  lua_settop(L,lc1071);
  assert(lua_gettop(L) == 8);
  
  /* if opts.db then */
  enum { lc1072 = 8 };
  lc_getupvalue(L,lc1063,0,196);
  lua_pushliteral(L,"db");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  const int lc1073 = lua_toboolean(L,-1);
  lua_pop(L,1);
  if (lc1073) {
    
    /* global_opts.db = r.db(opts.db):build() */
    lc_getupvalue(L,lc1063,26,4);
    lua_pushliteral(L,"db");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lc_getupvalue(L,lc1063,0,196);
    lua_pushliteral(L,"db");
    lua_gettable(L,-2);
    lua_remove(L,-2);
    lua_call(L,1,1);
    lua_pushliteral(L,"build");
    lua_gettable(L,-2);
    lua_insert(L,-2);
    lua_call(L,1,1);
    lua_pushliteral(L,"db");
    lua_insert(L,-2);
    lua_settable(L,8);
    assert(lua_gettop(L) == 8);
  }
  else {
    
    /* elseif self.db then */
    enum { lc1074 = 8 };
    lua_pushliteral(L,"db");
    lua_gettable(L,1);
    const int lc1075 = lua_toboolean(L,-1);
    lua_pop(L,1);
    if (lc1075) {
      
      /* global_opts.db = r.db(self.db):build() */
      lc_getupvalue(L,lc1063,26,4);
      lua_pushliteral(L,"db");
      lua_gettable(L,-2);
      lua_remove(L,-2);
      lua_pushliteral(L,"db");
      lua_gettable(L,1);
      lua_call(L,1,1);
      lua_pushliteral(L,"build");
      lua_gettable(L,-2);
      lua_insert(L,-2);
      lua_call(L,1,1);
      lua_pushliteral(L,"db");
      lua_insert(L,-2);
      lua_settable(L,8);
      assert(lua_gettop(L) == 8);
    }
    lua_settop(L,lc1074);
  }
  lua_settop(L,lc1072);
  assert(lua_gettop(L) == 8);
  
  /* -- Construct query
   * local query = {1, term:build(), global_opts} */
  lua_createtable(L,3,0);
  lua_pushnumber(L,1);
  lua_rawseti(L,-2,1);
  lua_pushvalue(L,2);
  lua_pushliteral(L,"build");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_call(L,1,1);
  lua_rawseti(L,-2,2);
  lua_pushvalue(L,8);
  lua_rawseti(L,-2,3);
  assert(lua_gettop(L) == 9);
  
  /* local cursor = Cursor(self, token, opts, term) */
  lc_getupvalue(L,lc1063,25,5);
  lua_pushvalue(L,1);
  lua_pushvalue(L,7);
  lc_getupvalue(L,lc1063,0,196);
  lua_pushvalue(L,2);
  lua_call(L,4,1);
  assert(lua_gettop(L) == 10);
  
  /* -- Save cursor
   * self.outstanding_callbacks[token] = {cursor = cursor} */
  lua_createtable(L,0,1);
  lua_pushliteral(L,"cursor");
  lua_pushvalue(L,10);
  lua_rawset(L,-3);
  lua_pushliteral(L,"outstanding_callbacks");
  lua_gettable(L,1);
  lua_insert(L,-2);
  lua_pushvalue(L,7);
  lua_insert(L,-2);
  lua_settable(L,-3);
  lua_pop(L,1);
  assert(lua_gettop(L) == 10);
  
  /* self:_send_query(token, query) */
  lua_pushvalue(L,1);
  lua_pushliteral(L,"_send_query");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_pushvalue(L,7);
  lua_pushvalue(L,9);
  lua_call(L,3,0);
  assert(lua_gettop(L) == 10);
  
  /* return cb(nil, cursor) */
  const int lc1076 = lua_gettop(L);
  lua_pushvalue(L,6);
  lua_pushnil(L);
  lua_pushvalue(L,10);
  lua_call(L,2,LUA_MULTRET);
  return (lua_gettop(L) - lc1076);
  assert(lua_gettop(L) == 10);
}


/* function(self, token) */
static int lcf1078 (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* self:_send_query(token, {2}) */
  lua_pushvalue(L,1);
  lua_pushliteral(L,"_send_query");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_pushvalue(L,2);
  lua_createtable(L,1,0);
  lua_pushnumber(L,2);
  lua_rawseti(L,-2,1);
  lua_call(L,3,0);
  assert(lua_gettop(L) == 2);
  return 0;
}


/* function(self, token) */
static int lcf1079 (lua_State * L) {
  enum { lc_nformalargs = 2 };
  lua_settop(L,2);
  
  /* self:_del_query(token) */
  lua_pushvalue(L,1);
  lua_pushliteral(L,"_del_query");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_pushvalue(L,2);
  lua_call(L,2,0);
  assert(lua_gettop(L) == 2);
  
  /* self:_send_query(token, {3}) */
  lua_pushvalue(L,1);
  lua_pushliteral(L,"_send_query");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_pushvalue(L,2);
  lua_createtable(L,1,0);
  lua_pushnumber(L,3);
  lua_rawseti(L,-2,1);
  lua_call(L,3,0);
  assert(lua_gettop(L) == 2);
  return 0;
}


/* function(self, token, query) */
static int lcf1081 (lua_State * L) {
  enum { lc_nformalargs = 3 };
  lua_settop(L,3);
  
  /* local data = json.encode(query) */
  lc_getupvalue(L,lua_upvalueindex(1),28,1);
  lua_pushliteral(L,"encode");
  lua_gettable(L,-2);
  lua_remove(L,-2);
  lua_pushvalue(L,3);
  lua_call(L,1,1);
  assert(lua_gettop(L) == 4);
  
  /* self.raw_socket:send(
   *         int_to_bytes(token, 8) ..
   *         int_to_bytes(#data, 4) ..
   *         data
   *       ) */
  lua_pushliteral(L,"raw_socket");
  lua_gettable(L,1);
  lua_pushliteral(L,"send");
  lua_gettable(L,-2);
  lua_insert(L,-2);
  lua_getfield(L,LUA_ENVIRONINDEX,"int_to_bytes");
  lua_pushvalue(L,2);
  lua_pushnumber(L,8);
  lua_call(L,2,1);
  lua_getfield(L,LUA_ENVIRONINDEX,"int_to_bytes");
  const double lc1080 = lua_objlen(L,4);
  lua_pushnumber(L,lc1080);
  lua_pushnumber(L,4);
  lua_call(L,2,1);
  lua_pushvalue(L,4);
  lua_concat(L,2);
  lua_concat(L,2);
  lua_call(L,2,0);
  assert(lua_gettop(L) == 4);
  return 0;
}


/* name: r.connect
 * function(...) */
static int lcf1_r_connect (lua_State * L) {
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  #ifndef NDEBUG
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  #endif
  
  /* return Connection(...) */
  const int lc1082 = lua_gettop(L);
  lc_getupvalue(L,lua_upvalueindex(1),24,6);
  const int lc1083 = lua_gettop(L);
  {int i; for (i=lc_nformalargs+1; i<=lc_nactualargs; i++) { lua_pushvalue(L, i); }}
  lua_call(L,(lua_gettop(L) - lc1083),LUA_MULTRET);
  return (lua_gettop(L) - lc1082);
  assert(lua_gettop(L) - lc_nextra == 0);
}


/* name: (main)
 * function(...) */
static int lcf_main (lua_State * L) {
  lua_checkstack(L,45);
  enum { lc_nformalargs = 0 };
  const int lc_nactualargs = lua_gettop(L);
  const int lc_nextra = (lc_nactualargs - lc_nformalargs);
  
  /* local json = require('json') */
  lc_newclosuretable(L,lua_upvalueindex(1));
  enum { lc1 = 1 };
  assert((lua_gettop(L) == (lc1 + lc_nextra)));
  lua_getfield(L,LUA_ENVIRONINDEX,"require");
  lua_pushliteral(L,"json");
  lua_call(L,1,1);
  lua_rawseti(L,(lc1 + lc_nextra),1);
  assert(lua_gettop(L) - lc_nextra == 1);
  
  /* local mime = require('mime') */
  lc_newclosuretable(L,(lc1 + lc_nextra));
  enum { lc2 = 2 };
  assert((lua_gettop(L) == (lc2 + lc_nextra)));
  lua_getfield(L,LUA_ENVIRONINDEX,"require");
  lua_pushliteral(L,"mime");
  lua_call(L,1,1);
  lua_rawseti(L,(lc2 + lc_nextra),2);
  assert(lua_gettop(L) - lc_nextra == 2);
  
  /* local socket = require('socket') */
  lc_newclosuretable(L,(lc2 + lc_nextra));
  enum { lc3 = 3 };
  assert((lua_gettop(L) == (lc3 + lc_nextra)));
  lua_getfield(L,LUA_ENVIRONINDEX,"require");
  lua_pushliteral(L,"socket");
  lua_call(L,1,1);
  lua_rawseti(L,(lc3 + lc_nextra),3);
  assert(lua_gettop(L) - lc_nextra == 3);
  
  /* -- r is both the main export table for the module
   * -- and a function that wraps a native Lua value in an ReQL datum
   * local r = {} */
  lc_newclosuretable(L,(lc3 + lc_nextra));
  enum { lc4 = 4 };
  assert((lua_gettop(L) == (lc4 + lc_nextra)));
  lua_newtable(L);
  lua_rawseti(L,(lc4 + lc_nextra),4);
  assert(lua_gettop(L) - lc_nextra == 4);
  
  /* local Connection, Cursor */
  lc_newclosuretable(L,(lc4 + lc_nextra));
  enum { lc5 = 5 };
  assert((lua_gettop(L) == (lc5 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 2));
  lua_rawseti(L,(lc5 + lc_nextra),5);
  lua_rawseti(L,(lc5 + lc_nextra),6);
  assert(lua_gettop(L) - lc_nextra == 5);
  
  /* local DatumTerm, ReQLOp */
  lc_newclosuretable(L,(lc5 + lc_nextra));
  enum { lc6 = 6 };
  assert((lua_gettop(L) == (lc6 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 2));
  lua_rawseti(L,(lc6 + lc_nextra),7);
  lua_rawseti(L,(lc6 + lc_nextra),8);
  assert(lua_gettop(L) - lc_nextra == 6);
  
  /* local Add, All, Any, Append, April, Args, Asc, August, Avg, Between, Binary */
  lc_newclosuretable(L,(lc6 + lc_nextra));
  enum { lc7 = 7 };
  assert((lua_gettop(L) == (lc7 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 11));
  lua_rawseti(L,(lc7 + lc_nextra),9);
  lua_rawseti(L,(lc7 + lc_nextra),10);
  lua_rawseti(L,(lc7 + lc_nextra),11);
  lua_rawseti(L,(lc7 + lc_nextra),12);
  lua_rawseti(L,(lc7 + lc_nextra),13);
  lua_rawseti(L,(lc7 + lc_nextra),14);
  lua_rawseti(L,(lc7 + lc_nextra),15);
  lua_rawseti(L,(lc7 + lc_nextra),16);
  lua_rawseti(L,(lc7 + lc_nextra),17);
  lua_rawseti(L,(lc7 + lc_nextra),18);
  lua_rawseti(L,(lc7 + lc_nextra),19);
  assert(lua_gettop(L) - lc_nextra == 7);
  
  /* local Bracket, Branch, ChangeAt, Changes, Circle, CoerceTo, ConcatMap */
  lc_newclosuretable(L,(lc7 + lc_nextra));
  enum { lc8 = 8 };
  assert((lua_gettop(L) == (lc8 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 7));
  lua_rawseti(L,(lc8 + lc_nextra),20);
  lua_rawseti(L,(lc8 + lc_nextra),21);
  lua_rawseti(L,(lc8 + lc_nextra),22);
  lua_rawseti(L,(lc8 + lc_nextra),23);
  lua_rawseti(L,(lc8 + lc_nextra),24);
  lua_rawseti(L,(lc8 + lc_nextra),25);
  lua_rawseti(L,(lc8 + lc_nextra),26);
  assert(lua_gettop(L) - lc_nextra == 8);
  
  /* local Contains, Count, Date, Day, DayOfWeek, DayOfYear, Db, DbCreate, DbDrop */
  lc_newclosuretable(L,(lc8 + lc_nextra));
  enum { lc9 = 9 };
  assert((lua_gettop(L) == (lc9 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 9));
  lua_rawseti(L,(lc9 + lc_nextra),27);
  lua_rawseti(L,(lc9 + lc_nextra),28);
  lua_rawseti(L,(lc9 + lc_nextra),29);
  lua_rawseti(L,(lc9 + lc_nextra),30);
  lua_rawseti(L,(lc9 + lc_nextra),31);
  lua_rawseti(L,(lc9 + lc_nextra),32);
  lua_rawseti(L,(lc9 + lc_nextra),33);
  lua_rawseti(L,(lc9 + lc_nextra),34);
  lua_rawseti(L,(lc9 + lc_nextra),35);
  assert(lua_gettop(L) - lc_nextra == 9);
  
  /* local DbList, December, Default, Delete, DeleteAt, Desc, Difference, Distance */
  lc_newclosuretable(L,(lc9 + lc_nextra));
  enum { lc10 = 10 };
  assert((lua_gettop(L) == (lc10 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 8));
  lua_rawseti(L,(lc10 + lc_nextra),36);
  lua_rawseti(L,(lc10 + lc_nextra),37);
  lua_rawseti(L,(lc10 + lc_nextra),38);
  lua_rawseti(L,(lc10 + lc_nextra),39);
  lua_rawseti(L,(lc10 + lc_nextra),40);
  lua_rawseti(L,(lc10 + lc_nextra),41);
  lua_rawseti(L,(lc10 + lc_nextra),42);
  lua_rawseti(L,(lc10 + lc_nextra),43);
  assert(lua_gettop(L) - lc_nextra == 10);
  
  /* local Distinct, Div, Do, Downcase, During, EpochTime, Eq, EqJoin, Error */
  lc_newclosuretable(L,(lc10 + lc_nextra));
  enum { lc11 = 11 };
  assert((lua_gettop(L) == (lc11 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 9));
  lua_rawseti(L,(lc11 + lc_nextra),44);
  lua_rawseti(L,(lc11 + lc_nextra),45);
  lua_rawseti(L,(lc11 + lc_nextra),46);
  lua_rawseti(L,(lc11 + lc_nextra),47);
  lua_rawseti(L,(lc11 + lc_nextra),48);
  lua_rawseti(L,(lc11 + lc_nextra),49);
  lua_rawseti(L,(lc11 + lc_nextra),50);
  lua_rawseti(L,(lc11 + lc_nextra),51);
  lua_rawseti(L,(lc11 + lc_nextra),52);
  assert(lua_gettop(L) - lc_nextra == 11);
  
  /* local February, Fill, Filter, ForEach, Friday, Func, Ge, Geojson, Get, GetAll */
  lc_newclosuretable(L,(lc11 + lc_nextra));
  enum { lc12 = 12 };
  assert((lua_gettop(L) == (lc12 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 10));
  lua_rawseti(L,(lc12 + lc_nextra),53);
  lua_rawseti(L,(lc12 + lc_nextra),54);
  lua_rawseti(L,(lc12 + lc_nextra),55);
  lua_rawseti(L,(lc12 + lc_nextra),56);
  lua_rawseti(L,(lc12 + lc_nextra),57);
  lua_rawseti(L,(lc12 + lc_nextra),58);
  lua_rawseti(L,(lc12 + lc_nextra),59);
  lua_rawseti(L,(lc12 + lc_nextra),60);
  lua_rawseti(L,(lc12 + lc_nextra),61);
  lua_rawseti(L,(lc12 + lc_nextra),62);
  assert(lua_gettop(L) - lc_nextra == 12);
  
  /* local GetField, GetIntersecting, GetNearest, Group, Gt, HasFields, Hours, Http */
  lc_newclosuretable(L,(lc12 + lc_nextra));
  enum { lc13 = 13 };
  assert((lua_gettop(L) == (lc13 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 8));
  lua_rawseti(L,(lc13 + lc_nextra),63);
  lua_rawseti(L,(lc13 + lc_nextra),64);
  lua_rawseti(L,(lc13 + lc_nextra),65);
  lua_rawseti(L,(lc13 + lc_nextra),66);
  lua_rawseti(L,(lc13 + lc_nextra),67);
  lua_rawseti(L,(lc13 + lc_nextra),68);
  lua_rawseti(L,(lc13 + lc_nextra),69);
  lua_rawseti(L,(lc13 + lc_nextra),70);
  assert(lua_gettop(L) - lc_nextra == 13);
  
  /* local ISO8601, InTimezone, Includes, IndexCreate, IndexDrop, IndexList */
  lc_newclosuretable(L,(lc13 + lc_nextra));
  enum { lc14 = 14 };
  assert((lua_gettop(L) == (lc14 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 6));
  lua_rawseti(L,(lc14 + lc_nextra),71);
  lua_rawseti(L,(lc14 + lc_nextra),72);
  lua_rawseti(L,(lc14 + lc_nextra),73);
  lua_rawseti(L,(lc14 + lc_nextra),74);
  lua_rawseti(L,(lc14 + lc_nextra),75);
  lua_rawseti(L,(lc14 + lc_nextra),76);
  assert(lua_gettop(L) - lc_nextra == 14);
  
  /* local IndexRename, IndexStatus, IndexWait, IndexesOf, Info, InnerJoin, Insert */
  lc_newclosuretable(L,(lc14 + lc_nextra));
  enum { lc15 = 15 };
  assert((lua_gettop(L) == (lc15 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 7));
  lua_rawseti(L,(lc15 + lc_nextra),77);
  lua_rawseti(L,(lc15 + lc_nextra),78);
  lua_rawseti(L,(lc15 + lc_nextra),79);
  lua_rawseti(L,(lc15 + lc_nextra),80);
  lua_rawseti(L,(lc15 + lc_nextra),81);
  lua_rawseti(L,(lc15 + lc_nextra),82);
  lua_rawseti(L,(lc15 + lc_nextra),83);
  assert(lua_gettop(L) - lc_nextra == 15);
  
  /* local InsertAt, Intersects, IsEmpty, January, JavaScript, Json, July, June */
  lc_newclosuretable(L,(lc15 + lc_nextra));
  enum { lc16 = 16 };
  assert((lua_gettop(L) == (lc16 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 8));
  lua_rawseti(L,(lc16 + lc_nextra),84);
  lua_rawseti(L,(lc16 + lc_nextra),85);
  lua_rawseti(L,(lc16 + lc_nextra),86);
  lua_rawseti(L,(lc16 + lc_nextra),87);
  lua_rawseti(L,(lc16 + lc_nextra),88);
  lua_rawseti(L,(lc16 + lc_nextra),89);
  lua_rawseti(L,(lc16 + lc_nextra),90);
  lua_rawseti(L,(lc16 + lc_nextra),91);
  assert(lua_gettop(L) - lc_nextra == 16);
  
  /* local Keys, Le, Limit, Line, Literal, Lt, MakeArray, MakeObj, Map, March */
  lc_newclosuretable(L,(lc16 + lc_nextra));
  enum { lc17 = 17 };
  assert((lua_gettop(L) == (lc17 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 10));
  lua_rawseti(L,(lc17 + lc_nextra),92);
  lua_rawseti(L,(lc17 + lc_nextra),93);
  lua_rawseti(L,(lc17 + lc_nextra),94);
  lua_rawseti(L,(lc17 + lc_nextra),95);
  lua_rawseti(L,(lc17 + lc_nextra),96);
  lua_rawseti(L,(lc17 + lc_nextra),97);
  lua_rawseti(L,(lc17 + lc_nextra),98);
  lua_rawseti(L,(lc17 + lc_nextra),99);
  lua_rawseti(L,(lc17 + lc_nextra),100);
  lua_rawseti(L,(lc17 + lc_nextra),101);
  assert(lua_gettop(L) - lc_nextra == 17);
  
  /* local Match, Max, May, Merge, Min, Minutes, Mod, Monday, Month, Mul, Ne, Not */
  lc_newclosuretable(L,(lc17 + lc_nextra));
  enum { lc18 = 18 };
  assert((lua_gettop(L) == (lc18 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 12));
  lua_rawseti(L,(lc18 + lc_nextra),102);
  lua_rawseti(L,(lc18 + lc_nextra),103);
  lua_rawseti(L,(lc18 + lc_nextra),104);
  lua_rawseti(L,(lc18 + lc_nextra),105);
  lua_rawseti(L,(lc18 + lc_nextra),106);
  lua_rawseti(L,(lc18 + lc_nextra),107);
  lua_rawseti(L,(lc18 + lc_nextra),108);
  lua_rawseti(L,(lc18 + lc_nextra),109);
  lua_rawseti(L,(lc18 + lc_nextra),110);
  lua_rawseti(L,(lc18 + lc_nextra),111);
  lua_rawseti(L,(lc18 + lc_nextra),112);
  lua_rawseti(L,(lc18 + lc_nextra),113);
  assert(lua_gettop(L) - lc_nextra == 18);
  
  /* local November, Now, Nth, Object, October, OrderBy, OuterJoin, Pluck, Point */
  lc_newclosuretable(L,(lc18 + lc_nextra));
  enum { lc19 = 19 };
  assert((lua_gettop(L) == (lc19 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 9));
  lua_rawseti(L,(lc19 + lc_nextra),114);
  lua_rawseti(L,(lc19 + lc_nextra),115);
  lua_rawseti(L,(lc19 + lc_nextra),116);
  lua_rawseti(L,(lc19 + lc_nextra),117);
  lua_rawseti(L,(lc19 + lc_nextra),118);
  lua_rawseti(L,(lc19 + lc_nextra),119);
  lua_rawseti(L,(lc19 + lc_nextra),120);
  lua_rawseti(L,(lc19 + lc_nextra),121);
  lua_rawseti(L,(lc19 + lc_nextra),122);
  assert(lua_gettop(L) - lc_nextra == 19);
  
  /* local Polygon, PolygonSub, Prepend, Random, Range, Reduce, Replace, Sample */
  lc_newclosuretable(L,(lc19 + lc_nextra));
  enum { lc20 = 20 };
  assert((lua_gettop(L) == (lc20 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 8));
  lua_rawseti(L,(lc20 + lc_nextra),123);
  lua_rawseti(L,(lc20 + lc_nextra),124);
  lua_rawseti(L,(lc20 + lc_nextra),125);
  lua_rawseti(L,(lc20 + lc_nextra),126);
  lua_rawseti(L,(lc20 + lc_nextra),127);
  lua_rawseti(L,(lc20 + lc_nextra),128);
  lua_rawseti(L,(lc20 + lc_nextra),129);
  lua_rawseti(L,(lc20 + lc_nextra),130);
  assert(lua_gettop(L) - lc_nextra == 20);
  
  /* local Saturday, Seconds, September, SetDifference, SetInsert, SetIntersection */
  lc_newclosuretable(L,(lc20 + lc_nextra));
  enum { lc21 = 21 };
  assert((lua_gettop(L) == (lc21 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 6));
  lua_rawseti(L,(lc21 + lc_nextra),131);
  lua_rawseti(L,(lc21 + lc_nextra),132);
  lua_rawseti(L,(lc21 + lc_nextra),133);
  lua_rawseti(L,(lc21 + lc_nextra),134);
  lua_rawseti(L,(lc21 + lc_nextra),135);
  lua_rawseti(L,(lc21 + lc_nextra),136);
  assert(lua_gettop(L) - lc_nextra == 21);
  
  /* local SetUnion, Skip, Slice, SpliceAt, Split, Sub, Sum, Sunday, Sync, Table */
  lc_newclosuretable(L,(lc21 + lc_nextra));
  enum { lc22 = 22 };
  assert((lua_gettop(L) == (lc22 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 10));
  lua_rawseti(L,(lc22 + lc_nextra),137);
  lua_rawseti(L,(lc22 + lc_nextra),138);
  lua_rawseti(L,(lc22 + lc_nextra),139);
  lua_rawseti(L,(lc22 + lc_nextra),140);
  lua_rawseti(L,(lc22 + lc_nextra),141);
  lua_rawseti(L,(lc22 + lc_nextra),142);
  lua_rawseti(L,(lc22 + lc_nextra),143);
  lua_rawseti(L,(lc22 + lc_nextra),144);
  lua_rawseti(L,(lc22 + lc_nextra),145);
  lua_rawseti(L,(lc22 + lc_nextra),146);
  assert(lua_gettop(L) - lc_nextra == 22);
  
  /* local TableCreate, TableDrop, TableList, Thursday, Time, TimeOfDay, Timezone */
  lc_newclosuretable(L,(lc22 + lc_nextra));
  enum { lc23 = 23 };
  assert((lua_gettop(L) == (lc23 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 7));
  lua_rawseti(L,(lc23 + lc_nextra),147);
  lua_rawseti(L,(lc23 + lc_nextra),148);
  lua_rawseti(L,(lc23 + lc_nextra),149);
  lua_rawseti(L,(lc23 + lc_nextra),150);
  lua_rawseti(L,(lc23 + lc_nextra),151);
  lua_rawseti(L,(lc23 + lc_nextra),152);
  lua_rawseti(L,(lc23 + lc_nextra),153);
  assert(lua_gettop(L) - lc_nextra == 23);
  
  /* local ToEpochTime, ToGeojson, ToISO8601, ToJsonString, Tuesday, TypeOf, UUID */
  lc_newclosuretable(L,(lc23 + lc_nextra));
  enum { lc24 = 24 };
  assert((lua_gettop(L) == (lc24 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 7));
  lua_rawseti(L,(lc24 + lc_nextra),154);
  lua_rawseti(L,(lc24 + lc_nextra),155);
  lua_rawseti(L,(lc24 + lc_nextra),156);
  lua_rawseti(L,(lc24 + lc_nextra),157);
  lua_rawseti(L,(lc24 + lc_nextra),158);
  lua_rawseti(L,(lc24 + lc_nextra),159);
  lua_rawseti(L,(lc24 + lc_nextra),160);
  assert(lua_gettop(L) - lc_nextra == 24);
  
  /* local Ungroup, Union, Upcase, Update, Var, Wednesday, WithFields, Without */
  lc_newclosuretable(L,(lc24 + lc_nextra));
  enum { lc25 = 25 };
  assert((lua_gettop(L) == (lc25 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 8));
  lua_rawseti(L,(lc25 + lc_nextra),161);
  lua_rawseti(L,(lc25 + lc_nextra),162);
  lua_rawseti(L,(lc25 + lc_nextra),163);
  lua_rawseti(L,(lc25 + lc_nextra),164);
  lua_rawseti(L,(lc25 + lc_nextra),165);
  lua_rawseti(L,(lc25 + lc_nextra),166);
  lua_rawseti(L,(lc25 + lc_nextra),167);
  lua_rawseti(L,(lc25 + lc_nextra),168);
  assert(lua_gettop(L) - lc_nextra == 25);
  
  /* local Year, Zip */
  lc_newclosuretable(L,(lc25 + lc_nextra));
  enum { lc26 = 26 };
  assert((lua_gettop(L) == (lc26 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 2));
  lua_rawseti(L,(lc26 + lc_nextra),169);
  lua_rawseti(L,(lc26 + lc_nextra),170);
  assert(lua_gettop(L) - lc_nextra == 26);
  
  /* local ReQLDriverError, ReQLServerError, ReQLRuntimeError, ReQLCompileError */
  lc_newclosuretable(L,(lc26 + lc_nextra));
  enum { lc27 = 27 };
  assert((lua_gettop(L) == (lc27 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 4));
  lua_rawseti(L,(lc27 + lc_nextra),171);
  lua_rawseti(L,(lc27 + lc_nextra),172);
  lua_rawseti(L,(lc27 + lc_nextra),173);
  assert(lua_gettop(L) - lc_nextra == 28);
  
  /* local ReQLClientError, ReQLQueryPrinter, ReQLError */
  lc_newclosuretable(L,(lc27 + lc_nextra));
  enum { lc28 = 29 };
  assert((lua_gettop(L) == (lc28 + lc_nextra)));
  lua_settop(L,(lua_gettop(L) + 3));
  lua_rawseti(L,(lc28 + lc_nextra),174);
  lua_rawseti(L,(lc28 + lc_nextra),175);
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* function is_instance(obj, ...)
   *   local class_list = {...}
   * 
   *   for _, cls in ipairs(class_list) do
   *     if type(cls) == 'string' then
   *       if type(obj) == cls then
   *         return true
   *       end
   *     else
   *       class = class.__name
   *     end
   * 
   *     if type(obj) == 'table' then
   *       local obj_cls = obj.__class
   *       while obj_cls do
   *         if obj_cls.__name == cls then
   *           return true
   *         end
   *         obj_cls = obj_cls.__parent
   *       end
   *     end
   *   end
   * 
   *   return false
   * end */
  lua_pushcfunction(L,lcf1_is_instance);
  lua_setfield(L,LUA_ENVIRONINDEX,"is_instance");
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* setmetatable(r, {
   *   __call = function(cls, val, nesting_depth)
   *     if nesting_depth == nil then
   *       nesting_depth = 20
   *     end
   *     if type(nesting_depth) ~= 'number' then
   *       error('Second argument to `r(val, nesting_depth)` must be a number.')
   *     end
   *     if nesting_depth <= 0 then
   *       error('Nesting depth limit exceeded')
   *     end
   *     if is_instance(val, 'ReQLOp') then
   *       return val
   *     end
   *     if type(val) == 'function' then
   *       return Func({}, val)
   *     end
   *     if type(val) == 'table' then
   *       local array = true
   *       for k, v in pairs(val) do
   *         if type(k) ~= 'number' then array = false end
   *         val[k] = r(v, nesting_depth - 1)
   *       end
   *       if array then
   *         return MakeArray({}, unpack(val))
   *       end
   *       return MakeObj(val)
   *     end
   *     return DatumTerm(val)
   *   end
   * }) */
  lua_getfield(L,LUA_ENVIRONINDEX,"setmetatable");
  lc_getupvalue(L,(lc28 + lc_nextra),24,4);
  lua_createtable(L,0,1);
  lua_pushliteral(L,"__call");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf71,1);
  lua_rawset(L,-3);
  lua_call(L,2,0);
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* function should_wrap(arg)
   *   return is_instance(arg, 'DatumTerm', 'MakeArray', 'MakeObj')
   * end */
  lua_pushcfunction(L,lcf1_should_wrap);
  lua_setfield(L,LUA_ENVIRONINDEX,"should_wrap");
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* function class(name, parent, base)
   *   local index, init
   * 
   *   if base == nil then
   *     base = parent
   *     parent = nil
   *   end
   * 
   *   if type(base) == 'function' then
   *     base = {__init = base}
   *   end
   * 
   *   if parent and parent.__base then
   *     setmetatable(base, parent.__base)
   *   else
   *     index = base
   *   end
   * 
   *   init = base.__init
   *   base.__init = nil
   *   base.__index = base
   * 
   *   local _class_0 = setmetatable({
   *     __name = name,
   *     __init = init,
   *     __base = base,
   *     __parent = parent
   *   }, {
   *     __index = index or function(cls, name)
   *       local val = rawget(base, name)
   *       if val == nil then
   *         return parent[name]
   *       else
   *         return val
   *       end
   *     end,
   *     __call = function(cls, ...)
   *       local self = setmetatable({}, cls.__base)
   *       cls.__init(self, ...)
   *       return self
   *     end
   *   })
   *   base.__class = _class_0
   * 
   *   if parent and parent.__inherited then
   *     parent:__inherited(_class_0)
   *   end
   * 
   *   return _class_0
   * end */
  lua_pushcfunction(L,lcf1_class);
  lua_setfield(L,LUA_ENVIRONINDEX,"class");
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* function intsp(seq)
   *   if seq[1] == nil then
   *     return {}
   *   end
   *   local res = {seq[1]}
   *   for i=2, #seq do
   *     table.insert(res, ', ')
   *     table.insert(res, seq[i])
   *   end
   *   return res
   * end */
  lua_pushcfunction(L,lcf1_intsp);
  lua_setfield(L,LUA_ENVIRONINDEX,"intsp");
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* function kved(optargs)
   *   return {
   *     '{',
   *     intsp((function()
   *       local _accum_0 = {}
   *       local i = 1
   *       for k, v in pairs(optargs) do
   *         _accum_0[i] = {k, ': ', v}
   *         i = i + 1
   *       end
   *       return _accum_0
   *     end)()),
   *     '}'
   *   }
   * end */
  lua_pushcfunction(L,lcf1_kved);
  lua_setfield(L,LUA_ENVIRONINDEX,"kved");
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* function intspallargs(args, optargs)
   *   local argrepr = {}
   *   if #args > 0 then
   *     table.insert(argrepr, intsp(args))
   *   end
   *   if optargs and #optargs > 0 then
   *     if #argrepr > 0 then
   *       table.insert(argrepr, ', ')
   *     end
   *     table.insert(argrepr, kved(optargs))
   *   end
   *   return argrepr
   * end */
  lua_pushcfunction(L,lcf1_intspallargs);
  lua_setfield(L,LUA_ENVIRONINDEX,"intspallargs");
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* function get_opts(...)
   *   local args = {...}
   *   local opt = {}
   *   local pos_opt = args[#args]
   *   if (type(pos_opt) == 'table') and (not is_instance(pos_opt, 'ReQLOp')) then
   *     opt = pos_opt
   *     args[#args] = nil
   *   end
   *   return opt, unpack(args)
   * end */
  lua_pushcfunction(L,lcf1_get_opts);
  lua_setfield(L,LUA_ENVIRONINDEX,"get_opts");
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* function bytes_to_int(str)
   *   local t = {str:byte(1,-1)}
   *   local n = 0
   *   for k=1,#t do
   *     n = n + t[k] * 2 ^ ((k - 1) * 8)
   *   end
   *   return n
   * end */
  lua_pushcfunction(L,lcf1_bytes_to_int);
  lua_setfield(L,LUA_ENVIRONINDEX,"bytes_to_int");
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* function div_mod(num, den)
   *   return math.floor(num / den), math.fmod(num, den)
   * end */
  lua_pushcfunction(L,lcf1_div_mod);
  lua_setfield(L,LUA_ENVIRONINDEX,"div_mod");
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* function int_to_bytes(num, bytes)
   *   local res = {}
   *   local mul = 0
   *   for k=bytes,1,-1 do
   *     res[k], num = div_mod(num, 2 ^ (8 * (k - 1)))
   *   end
   *   return string.char(unpack(res))
   * end */
  lua_pushcfunction(L,lcf1_int_to_bytes);
  lua_setfield(L,LUA_ENVIRONINDEX,"int_to_bytes");
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* function convert_pseudotype(obj, opts)
   *   -- An R_OBJECT may be a regular table or a 'pseudo-type' so we need a
   *   -- second layer of type switching here on the obfuscated field '$reql_type$'
   *   local reql_type = obj['$reql_type$']
   *   if 'TIME' == reql_type then
   *     local time_format = opts.time_format
   *     if 'native' == time_format or not time_format then
   *       if not (obj['epoch_time']) then
   *         error(ReQLDriverError('pseudo-type TIME ' .. obj .. ' table missing expected field `epoch_time`.'))
   *       end
   * 
   *       -- We ignore the timezone field of the pseudo-type TIME table. JS dates do not support timezones.
   *       -- By converting to a native date table we are intentionally throwing out timezone information.
   * 
   *       -- field 'epoch_time' is in seconds but the Date constructor expects milliseconds
   *       return obj['epoch_time']
   *     elseif 'raw' == time_format then
   *       return obj
   *     else
   *       error(ReQLDriverError('Unknown time_format run option ' .. opts.time_format .. '.'))
   *     end
   *   elseif 'GROUPED_DATA' == reql_type then
   *     local group_format = opts.group_format
   *     if 'native' == group_format or not group_format then
   *       -- Don't convert the data into a map, because the keys could be tables which doesn't work in JS
   *       -- Instead, we have the following format:
   *       -- [ { 'group': <group>, 'reduction': <value(s)> } }, ... ]
   *       res = {}
   *       for i, v in ipairs(obj['data']) do
   *         res[i] = {
   *           group = i,
   *           reduction = v
   *         }
   *       end
   *       obj = res
   *     elseif 'raw' == group_format then
   *       return obj
   *     else
   *       error(ReQLDriverError('Unknown group_format run option ' .. opts.group_format .. '.'))
   *     end
   *   elseif 'BINARY' == reql_type then
   *     local binary_format = opts.binary_format
   *     if 'native' == binary_format or not binary_format then
   *       if not obj.data then
   *         error(ReQLDriverError('pseudo-type BINARY table missing expected field `data`.'))
   *       end
   *       return mime.unb64(obj.data)
   *     elseif 'raw' == binary_format then
   *       return obj
   *     else
   *       error(ReQLDriverError('Unknown binary_format run option ' .. opts.binary_format .. '.'))
   *     end
   *   else
   *     -- Regular table or unknown pseudo type
   *     return obj
   *   end
   * end */
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf1_convert_pseudotype,1);
  lua_setfield(L,LUA_ENVIRONINDEX,"convert_pseudotype");
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* function recursively_convert_pseudotype(obj, opts)
   *   if type(obj) == 'table' then
   *     for key, value in pairs(obj) do
   *       obj[key] = recursively_convert_pseudotype(value, opts)
   *     end
   *     obj = convert_pseudotype(obj, opts)
   *   end
   *   if obj == json.util.null then return nil end
   *   return obj
   * end */
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf1_recursively_convert_pseudotype,1);
  lua_setfield(L,LUA_ENVIRONINDEX,"recursively_convert_pseudotype");
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* ReQLError = class(
   *   'ReQLError',
   *   function(self, msg, term, frames)
   *     self.msg = msg
   *     self.message = self.__class.__name .. ' ' .. msg
   *     if term then
   *       self.message = self.message .. ' in:\n' .. ReQLQueryPrinter(term, frames):print_query()
   *     end
   *   end
   * ) */
  lua_getfield(L,LUA_ENVIRONINDEX,"class");
  lua_pushliteral(L,"ReQLError");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf182,1);
  lua_call(L,2,1);
  lua_replace(L,(30 + lc_nextra));
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* ReQLDriverError = class('ReQLDriverError', ReQLError, {}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"class");
  lua_pushliteral(L,"ReQLDriverError");
  lua_pushvalue(L,(30 + lc_nextra));
  lua_newtable(L);
  lua_call(L,3,1);
  lc_setupvalue(L,(lc28 + lc_nextra),1,173);
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* ReQLServerError = class('ReQLServerError', ReQLError, {}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"class");
  lua_pushliteral(L,"ReQLServerError");
  lua_pushvalue(L,(30 + lc_nextra));
  lua_newtable(L);
  lua_call(L,3,1);
  lua_replace(L,(28 + lc_nextra));
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* ReQLRuntimeError = class('ReQLRuntimeError', ReQLServerError, {}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"class");
  lua_pushliteral(L,"ReQLRuntimeError");
  lua_pushvalue(L,(28 + lc_nextra));
  lua_newtable(L);
  lua_call(L,3,1);
  lc_setupvalue(L,(lc28 + lc_nextra),1,172);
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* ReQLCompileError = class('ReQLCompileError', ReQLServerError, {}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"class");
  lua_pushliteral(L,"ReQLCompileError");
  lua_pushvalue(L,(28 + lc_nextra));
  lua_newtable(L);
  lua_call(L,3,1);
  lc_setupvalue(L,(lc28 + lc_nextra),1,171);
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* ReQLClientError = class('ReQLClientError', ReQLServerError, {}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"class");
  lua_pushliteral(L,"ReQLClientError");
  lua_pushvalue(L,(28 + lc_nextra));
  lua_newtable(L);
  lua_call(L,3,1);
  lc_setupvalue(L,(lc28 + lc_nextra),0,175);
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* ReQLQueryPrinter = class(
   *   'ReQLQueryPrinter',
   *   {
   *     __init = function(self, term, frames)
   *       self.term = term
   *       self.frames = frames
   *     end,
   *     print_query = function(self)
   *       local carrots
   *       if #self.frames == 0 then
   *         carrots = {self:carrotify(self:compose_term(self.term))}
   *       else
   *         carrots = self:compose_carrots(self.term, self.frames)
   *       end
   *       carrots = self:join_tree(carrots):gsub('[^%^]', '')
   *       return self:join_tree(self:compose_term(self.term)) .. '\n' .. carrots
   *     end,
   *     compose_term = function(self, term)
   *       if type(term) ~= 'table' then return '' .. term end
   *       local args = {}
   *       for i, arg in ipairs(term.args) do
   *         args[i] = self:compose_term(arg)
   *       end
   *       local optargs = {}
   *       for key, arg in pairs(term.optargs) do
   *         optargs[key] = self:compose_term(arg)
   *       end
   *       return term:compose(args, optargs)
   *     end,
   *     compose_carrots = function(self, term, frames)
   *       local frame = table.remove(frames, 1)
   *       local args = {}
   *       for i, arg in ipairs(term.args) do
   *         if frame == (i - 1) then
   *           args[i] = self:compose_carrots(arg, frames)
   *         else
   *           args[i] = self:compose_term(arg)
   *         end
   *       end
   *       local optargs = {}
   *       for key, arg in pairs(term.optargs) do
   *         if frame == key then
   *           optargs[key] = self:compose_carrots(arg, frames)
   *         else
   *           optargs[key] = self:compose_term(arg)
   *         end
   *       end
   *       if frame then
   *         return term.compose(args, optargs)
   *       end
   *       return self:carrotify(term.compose(args, optargs))
   *     end,
   *     carrot_marker = {},
   *     carrotify = function(self, tree)
   *       return {carrot_marker, tree}
   *     end,
   *     join_tree = function(self, tree)
   *       local str = ''
   *       for _, term in ipairs(tree) do
   *         if type(term) == 'table' then
   *           if #term == 2 and term[1] == self.carrot_marker then
   *             str = str .. self:join_tree(term[2]):gsub('.', '^')
   *           else
   *             str = str .. self:join_tree(term)
   *           end
   *         else
   *           str = str .. term
   *         end
   *       end
   *       return str
   *     end
   *   }
   * ) */
  lua_getfield(L,LUA_ENVIRONINDEX,"class");
  lua_pushliteral(L,"ReQLQueryPrinter");
  lua_createtable(L,0,7);
  lua_pushliteral(L,"__init");
  lua_pushcfunction(L,lcf183);
  lua_rawset(L,-3);
  lua_pushliteral(L,"print_query");
  lua_pushcfunction(L,lcf191);
  lua_rawset(L,-3);
  lua_pushliteral(L,"compose_term");
  lua_pushcfunction(L,lcf198);
  lua_rawset(L,-3);
  lua_pushliteral(L,"compose_carrots");
  lua_pushcfunction(L,lcf211);
  lua_rawset(L,-3);
  lua_pushliteral(L,"carrot_marker");
  lua_newtable(L);
  lua_rawset(L,-3);
  lua_pushliteral(L,"carrotify");
  lua_pushcfunction(L,lcf212);
  lua_rawset(L,-3);
  lua_pushliteral(L,"join_tree");
  lua_pushcfunction(L,lcf222);
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc28 + lc_nextra),0,174);
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* -- All top level exported functions
   * ast_methods = {
   *   run = function(self, connection, options, callback)
   *     -- Valid syntaxes are
   *     -- connection
   *     -- connection, callback
   *     -- connection, options, callback
   *     -- connection, nil, callback
   * 
   *     -- Handle run(connection, callback)
   *     if type(options) == 'function' then
   *       if callback then
   *         return error('Second argument to `run` cannot be a function if a third argument is provided.')
   *       end
   *       callback = options
   *       options = {}
   *     end
   *     -- else we suppose that we have run(connection[, options][, callback])
   * 
   *     if not is_instance(connection, 'Connection') then
   *       if callback then
   *         return callback(ReQLDriverError('First argument to `run` must be a connection.'))
   *       end
   *       error('First argument to `run` must be a connection.')
   *     end
   * 
   *     return connection:_start(self, callback, options or {})
   *   end,
   *   add = function(...) return Add({}, ...) end,
   *   all = function(...) return All({}, ...) end,
   *   any = function(...) return Any({}, ...) end,
   *   append = function(...) return Append({}, ...) end,
   *   april = function(...) return April({}, ...) end,
   *   args = function(...) return Args({}, ...) end,
   *   array = function(...) return MakeArray({}, ...) end,
   *   asc = function(...) return Asc({}, ...) end,
   *   august = function(...) return August({}, ...) end,
   *   avg = function(...) return Avg({}, ...) end,
   *   between = function(self, left, right, opts) return Between(opts, self, left, right) end,
   *   binary = function(...) return Binary({}, ...) end,
   *   branch = function(...) return Branch({}, ...) end,
   *   change_at = function(...) return ChangeAt({}, ...) end,
   *   changes = function(...) return Changes({}, ...) end,
   *   circle = function(...) return Circle(get_opts(...)) end,
   *   coerce_to = function(...) return CoerceTo({}, ...) end,
   *   concat_map = function(...) return ConcatMap({}, ...) end,
   *   contains = function(...) return Contains({}, ...) end,
   *   count = function(...) return Count({}, ...) end,
   *   date = function(...) return Date({}, ...) end,
   *   day = function(...) return Day({}, ...) end,
   *   day_of_week = function(...) return DayOfWeek({}, ...) end,
   *   day_of_year = function(...) return DayOfYear({}, ...) end,
   *   db = function(...) return Db({}, ...) end,
   *   db_create = function(...) return DbCreate({}, ...) end,
   *   db_drop = function(...) return DbDrop({}, ...) end,
   *   db_list = function(...) return DbList({}, ...) end,
   *   december = function(...) return December({}, ...) end,
   *   default = function(...) return Default({}, ...) end,
   *   delete = function(...) return Delete(get_opts(...)) end,
   *   delete_at = function(...) return DeleteAt({}, ...) end,
   *   desc = function(...) return Desc({}, ...) end,
   *   difference = function(...) return Difference({}, ...) end,
   *   distance = function(self, g, opts) return Distance(opts, self, g) end,
   *   distinct = function(...) return Distinct(get_opts(...)) end,
   *   div = function(...) return Div({}, ...) end,
   *   do_ = function(...) return Do({}, ...) end,
   *   downcase = function(...) return Downcase({}, ...) end,
   *   during = function(t1, t2, t3, opts) return During(opts, t1, t2, t3) end,
   *   epoch_time = function(...) return EpochTime({}, ...) end,
   *   eq = function(...) return Eq({}, ...) end,
   *   eq_join = function(...) return EqJoin(get_opts(...)) end,
   *   error_ = function(...) return Error({}, ...) end,
   *   february = function(...) return February({}, ...) end,
   *   fill = function(...) return Fill({}, ...) end,
   *   filter = function(...) return Filter(get_opts(...)) end,
   *   for_each = function(...) return ForEach({}, ...) end,
   *   friday = function(...) return Friday({}, ...) end,
   *   func = function(...) return Func({}, ...) end,
   *   ge = function(...) return Ge({}, ...) end,
   *   geojson = function(...) return Geojson({}, ...) end,
   *   get = function(...) return Get({}, ...) end,
   *   get_all = function(...) return GetAll(get_opts(...)) end,
   *   get_field = function(...) return GetField({}, ...) end,
   *   get_intersecting = function(...) return GetIntersecting(get_opts(...)) end,
   *   get_nearest = function(...) return GetNearest(get_opts(...)) end,
   *   group = function(...) return Group(get_opts(...)) end,
   *   gt = function(...) return Gt({}, ...) end,
   *   has_fields = function(...) return HasFields({}, ...) end,
   *   hours = function(...) return Hours({}, ...) end,
   *   http = function(...) return Http(get_opts(...)) end,
   *   in_timezone = function(...) return InTimezone({}, ...) end,
   *   includes = function(...) return Includes({}, ...) end,
   *   index = function(...) return Bracket({}, ...) end,
   *   index_create = function(...) return IndexCreate(get_opts(...)) end,
   *   index_drop = function(...) return IndexDrop({}, ...) end,
   *   index_list = function(...) return IndexList({}, ...) end,
   *   index_rename = function(...) return IndexRename(get_opts(...)) end,
   *   index_status = function(...) return IndexStatus({}, ...) end,
   *   index_wait = function(...) return IndexWait({}, ...) end,
   *   indexes_of = function(...) return IndexesOf({}, ...) end,
   *   info = function(...) return Info({}, ...) end,
   *   inner_join = function(...) return InnerJoin({}, ...) end,
   *   insert = function(tbl, doc, opts) return Insert(opts, tbl, doc) end,
   *   insert_at = function(...) return InsertAt({}, ...) end,
   *   intersects = function(...) return Intersects({}, ...) end,
   *   is_empty = function(...) return IsEmpty({}, ...) end,
   *   iso8601 = function(...) return ISO8601(get_opts(...)) end,
   *   january = function(...) return January({}, ...) end,
   *   js = function(...) return JavaScript(get_opts(...)) end,
   *   json = function(...) return Json({}, ...) end,
   *   july = function(...) return July({}, ...) end,
   *   june = function(...) return June({}, ...) end,
   *   keys = function(...) return Keys({}, ...) end,
   *   le = function(...) return Le({}, ...) end,
   *   limit = function(...) return Limit({}, ...) end,
   *   line = function(...) return Line({}, ...) end,
   *   literal = function(...) return Literal({}, ...) end,
   *   lt = function(...) return Lt({}, ...) end,
   *   make_obj = function(...) return MakeObj({}, ...) end,
   *   map = function(...) return Map({}, ...) end,
   *   march = function(...) return March({}, ...) end,
   *   match = function(...) return Match({}, ...) end,
   *   max = function(...) return Max({}, ...) end,
   *   may = function(...) return May({}, ...) end,
   *   merge = function(...) return Merge({}, ...) end,
   *   min = function(...) return Min({}, ...) end,
   *   minutes = function(...) return Minutes({}, ...) end,
   *   mod = function(...) return Mod({}, ...) end,
   *   monday = function(...) return Monday({}, ...) end,
   *   month = function(...) return Month({}, ...) end,
   *   mul = function(...) return Mul({}, ...) end,
   *   ne = function(...) return Ne({}, ...) end,
   *   not_ = function(...) return Not({}, ...) end,
   *   november = function(...) return November({}, ...) end,
   *   now = function(...) return Now({}, ...) end,
   *   nth = function(...) return Nth({}, ...) end,
   *   object = function(...) return Object({}, ...) end,
   *   october = function(...) return October({}, ...) end,
   *   order_by = function(...) return OrderBy(get_opts(...)) end,
   *   outer_join = function(...) return OuterJoin({}, ...) end,
   *   pluck = function(...) return Pluck({}, ...) end,
   *   point = function(...) return Point({}, ...) end,
   *   polygon = function(...) return Polygon({}, ...) end,
   *   polygon_sub = function(...) return PolygonSub({}, ...) end,
   *   prepend = function(...) return Prepend({}, ...) end,
   *   random = function(...) return Random(get_opts(...)) end,
   *   range = function(...) return Range({}, ...) end,
   *   reduce = function(...) return Reduce({}, ...) end,
   *   replace = function(...) return Replace(get_opts(...)) end,
   *   sample = function(...) return Sample({}, ...) end,
   *   saturday = function(...) return Saturday({}, ...) end,
   *   seconds = function(...) return Seconds({}, ...) end,
   *   september = function(...) return September({}, ...) end,
   *   set_difference = function(...) return SetDifference({}, ...) end,
   *   set_insert = function(...) return SetInsert({}, ...) end,
   *   set_intersection = function(...) return SetIntersection({}, ...) end,
   *   set_union = function(...) return SetUnion({}, ...) end,
   *   skip = function(...) return Skip({}, ...) end,
   *   slice = function(...) return Slice(get_opts(...)) end,
   *   splice_at = function(...) return SpliceAt({}, ...) end,
   *   split = function(...) return Split({}, ...) end,
   *   sub = function(...) return Sub({}, ...) end,
   *   sum = function(...) return Sum({}, ...) end,
   *   sunday = function(...) return Sunday({}, ...) end,
   *   sync = function(...) return Sync({}, ...) end,
   *   table = function(...) return Table(get_opts(...)) end,
   *   table_create = function(...) return TableCreate(get_opts(...)) end,
   *   table_drop = function(...) return TableDrop({}, ...) end,
   *   table_list = function(...) return TableList({}, ...) end,
   *   thursday = function(...) return Thursday({}, ...) end,
   *   time = function(...) return Time({}, ...) end,
   *   time_of_day = function(...) return TimeOfDay({}, ...) end,
   *   timezone = function(...) return Timezone({}, ...) end,
   *   to_epoch_time = function(...) return ToEpochTime({}, ...) end,
   *   to_geojson = function(...) return ToGeojson({}, ...) end,
   *   to_iso8601 = function(...) return ToISO8601({}, ...) end,
   *   to_json_string = function(...) return ToJsonString({}, ...) end,
   *   tuesday = function(...) return Tuesday({}, ...) end,
   *   type_of = function(...) return TypeOf({}, ...) end,
   *   ungroup = function(...) return Ungroup({}, ...) end,
   *   union = function(...) return Union({}, ...) end,
   *   upcase = function(...) return Upcase({}, ...) end,
   *   update = function(...) return Update(get_opts(...)) end,
   *   uuid = function(...) return UUID({}, ...) end,
   *   var = function(...) return Var({}, ...) end,
   *   wednesday = function(...) return Wednesday({}, ...) end,
   *   with_fields = function(...) return WithFields({}, ...) end,
   *   without = function(...) return Without({}, ...) end,
   *   year = function(...) return Year({}, ...) end,
   *   zip = function(...) return Zip({}, ...) end
   * } */
  lua_createtable(L,0,163);
  lua_pushliteral(L,"run");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf234,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"add");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf237,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"all");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf240,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"any");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf243,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"append");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf246,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"april");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf249,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"args");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf252,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"array");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf255,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"asc");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf258,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"august");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf261,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"avg");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf264,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"between");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf266,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"binary");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf269,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"branch");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf272,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"change_at");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf275,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"changes");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf278,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"circle");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf282,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"coerce_to");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf285,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"concat_map");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf288,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"contains");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf291,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"count");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf294,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"date");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf297,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"day");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf300,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"day_of_week");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf303,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"day_of_year");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf306,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"db");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf309,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"db_create");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf312,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"db_drop");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf315,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"db_list");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf318,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"december");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf321,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"default");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf324,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"delete");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf328,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"delete_at");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf331,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"desc");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf334,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"difference");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf337,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"distance");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf339,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"distinct");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf343,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"div");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf346,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"do_");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf349,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"downcase");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf352,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"during");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf354,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"epoch_time");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf357,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"eq");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf360,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"eq_join");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf364,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"error_");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf367,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"february");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf370,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"fill");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf373,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"filter");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf377,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"for_each");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf380,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"friday");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf383,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"func");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf386,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"ge");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf389,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"geojson");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf392,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"get");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf395,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"get_all");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf399,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"get_field");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf402,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"get_intersecting");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf406,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"get_nearest");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf410,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"group");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf414,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"gt");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf417,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"has_fields");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf420,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"hours");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf423,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"http");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf427,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"in_timezone");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf430,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"includes");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf433,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"index");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf436,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"index_create");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf440,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"index_drop");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf443,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"index_list");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf446,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"index_rename");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf450,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"index_status");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf453,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"index_wait");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf456,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"indexes_of");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf459,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"info");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf462,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"inner_join");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf465,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"insert");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf467,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"insert_at");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf470,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"intersects");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf473,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"is_empty");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf476,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"iso8601");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf480,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"january");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf483,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"js");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf487,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"json");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf490,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"july");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf493,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"june");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf496,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"keys");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf499,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"le");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf502,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"limit");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf505,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"line");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf508,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"literal");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf511,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"lt");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf514,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"make_obj");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf517,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"map");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf520,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"march");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf523,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"match");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf526,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"max");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf529,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"may");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf532,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"merge");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf535,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"min");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf538,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"minutes");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf541,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"mod");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf544,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"monday");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf547,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"month");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf550,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"mul");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf553,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"ne");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf556,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"not_");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf559,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"november");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf562,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"now");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf565,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"nth");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf568,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"object");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf571,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"october");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf574,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"order_by");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf578,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"outer_join");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf581,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"pluck");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf584,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"point");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf587,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"polygon");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf590,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"polygon_sub");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf593,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"prepend");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf596,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"random");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf600,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"range");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf603,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"reduce");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf606,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"replace");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf610,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"sample");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf613,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"saturday");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf616,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"seconds");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf619,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"september");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf622,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"set_difference");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf625,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"set_insert");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf628,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"set_intersection");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf631,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"set_union");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf634,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"skip");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf637,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"slice");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf641,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"splice_at");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf644,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"split");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf647,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"sub");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf650,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"sum");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf653,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"sunday");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf656,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"sync");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf659,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"table");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf663,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"table_create");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf667,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"table_drop");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf670,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"table_list");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf673,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"thursday");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf676,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"time");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf679,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"time_of_day");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf682,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"timezone");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf685,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"to_epoch_time");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf688,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"to_geojson");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf691,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"to_iso8601");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf694,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"to_json_string");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf697,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"tuesday");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf700,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"type_of");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf703,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"ungroup");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf706,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"union");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf709,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"upcase");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf712,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"update");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf716,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"uuid");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf719,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"var");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf722,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"wednesday");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf725,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"with_fields");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf728,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"without");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf731,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"year");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf734,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"zip");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf737,1);
  lua_rawset(L,-3);
  lua_setfield(L,LUA_ENVIRONINDEX,"ast_methods");
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* class_methods = {
   *   __init = function(self, optargs, ...)
   *     local args = {...}
   *     optargs = optargs or {}
   *     if self.tt == 69 then
   *       local func = args[1]
   *       local anon_args = {}
   *       local arg_nums = {}
   *       if debug.getinfo then
   *         local func_info = debug.getinfo(func)
   *         if func_info.what == 'Lua' and func_info.nparams then
   *           optargs.arity = func_info.nparams
   *         end
   *       end
   *       for i=1, optargs.arity or 1 do
   *         table.insert(arg_nums, ReQLOp.next_var_id)
   *         table.insert(anon_args, Var({}, ReQLOp.next_var_id))
   *         ReQLOp.next_var_id = ReQLOp.next_var_id + 1
   *       end
   *       func = func(unpack(anon_args))
   *       if func == nil then
   *         error('Anonymous function returned `nil`. Did you forget a `return`?')
   *       end
   *       optargs.arity = nil
   *       args = {{unpack(arg_nums)}, func}
   *     elseif self.tt == 155 then
   *       local data = args[1]
   *       if is_instance(data, 'ReQLOp') then
   *       elseif type(data) == 'string' then
   *         self.base64_data = mime.b64(table.remove(args, 1))
   *       else
   *         error('Parameter to `r.binary` must be a string or ReQL query.')
   *       end
   *     elseif self.tt == 64 then
   *       local func = table.remove(args)
   *       if type(func) == 'function' then
   *         func = Func({arity = #args}, func)
   *       end
   *       table.insert(args, 1, func)
   *     elseif self.tt == 37 then
   *       args[#args] = Func({arity = 2}, args[#args])
   *     end
   *     self.args = {}
   *     self.optargs = {}
   *     for i, a in ipairs(args) do
   *       self.args[i] = r(a)
   *     end
   *     for k, v in pairs(optargs) do
   *       self.optargs[k] = r(v)
   *     end
   *   end,
   *   build = function(self)
   *     if self.tt == 155 and (not self.args[1]) then
   *       return {
   *         ['$reql_type$'] = 'BINARY',
   *         data = self.base64_data
   *       }
   *     end
   *     if self.tt == 3 then
   *       local res = {}
   *       for key, val in pairs(self.optargs) do
   *         res[key] = val:build()
   *       end
   *       return res
   *     end
   *     local args = {}
   *     for i, arg in ipairs(self.args) do
   *       args[i] = arg:build()
   *     end
   *     res = {self.tt, args}
   *     if #self.optargs > 0 then
   *       local opts = {}
   *       for key, val in pairs(self.optargs) do
   *         opts[key] = val:build()
   *       end
   *       table.insert(res, opts)
   *     end
   *     return res
   *   end,
   *   compose = function(self, args, optargs)
   *     if self.tt == 2 then
   *       return {
   *         '{',
   *         intsp(args),
   *         '}'
   *       }
   *     end
   *     if self.tt == 3 then
   *       return kved(optargs)
   *     end
   *     if self.tt == 10 then
   *       return {'var_' .. args[1]}
   *     end
   *     if self.tt == 155 and not self.args[1] then
   *       return 'r.binary(<data>)'
   *     end
   *     if self.tt == 170 then
   *       return {
   *         args[1],
   *         '(',
   *         args[2],
   *         ')'
   *       }
   *     end
   *     if self.tt == 69 then
   *       return {
   *         'function(',
   *         intsp((function()
   *           local _accum_0 = {}
   *           for i, v in ipairs(self.args[1]) do
   *             _accum_0[i] = 'var_' .. v
   *           end
   *           return _accum_0
   *         end)()),
   *         ') return ',
   *         args[2],
   *         ' end'
   *       }
   *     end
   *     if self.tt == 64 then
   *       table.insert(args, table.remove(args, 1))
   *     end
   *     if not self.args then
   *       return {
   *         type(self)
   *       }
   *     end
   *     return {
   *       'r.' .. self.st .. '(',
   *       intspallargs(args, optargs),
   *       ')'
   *     }
   *   end,
   *   next_var_id = 0,
   * } */
  lua_createtable(L,0,4);
  lua_pushliteral(L,"__init");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf780,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"build");
  lua_pushcfunction(L,lcf794);
  lua_rawset(L,-3);
  lua_pushliteral(L,"compose");
  lua_pushcfunction(L,lcf825);
  lua_rawset(L,-3);
  lua_pushliteral(L,"next_var_id");
  lua_pushnumber(L,0);
  lua_rawset(L,-3);
  lua_setfield(L,LUA_ENVIRONINDEX,"class_methods");
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* for name, meth in pairs(ast_methods) do
   * internal: local f, s, var = explist */
  enum { lc826 = 30 };
  lua_getfield(L,LUA_ENVIRONINDEX,"pairs");
  lua_getfield(L,LUA_ENVIRONINDEX,"ast_methods");
  lua_call(L,1,3);
  while (1) {
    
    /* internal: local var_1, ..., var_n = f(s, var)
     *           if var_1 == nil then break end
     *           var = var_1 */
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_pushvalue(L,-3);
    lua_call(L,2,2);
    if (lua_isnil(L,-2)) {
      break;
    }
    lua_pushvalue(L,-2);
    lua_replace(L,-4);
    
    /* internal: local name with idx 34
     * internal: local meth with idx 35 */
    
    
    /* class_methods[name] = meth */
    lua_pushvalue(L,(35 + lc_nextra));
    lua_getfield(L,LUA_ENVIRONINDEX,"class_methods");
    lua_insert(L,-2);
    lua_pushvalue(L,(34 + lc_nextra));
    lua_insert(L,-2);
    lua_settable(L,-3);
    lua_pop(L,1);
    assert(lua_gettop(L) - lc_nextra == 35);
    
    /* r[name] = meth */
    lua_pushvalue(L,(35 + lc_nextra));
    lc_getupvalue(L,(lc28 + lc_nextra),24,4);
    lua_insert(L,-2);
    lua_pushvalue(L,(34 + lc_nextra));
    lua_insert(L,-2);
    lua_settable(L,-3);
    lua_pop(L,1);
    assert(lua_gettop(L) - lc_nextra == 35);
    
    /* internal: stack cleanup on scope exit */
    lua_pop(L,2);
  }
  lua_settop(L,(lc826 + lc_nextra));
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* -- AST classes
   * ReQLOp = class('ReQLOp', class_methods) */
  lua_getfield(L,LUA_ENVIRONINDEX,"class");
  lua_pushliteral(L,"ReQLOp");
  lua_getfield(L,LUA_ENVIRONINDEX,"class_methods");
  lua_call(L,2,1);
  lc_setupvalue(L,(lc28 + lc_nextra),22,7);
  assert(lua_gettop(L) - lc_nextra == 30);
  
  /* local meta = {
   *   __call = function(...)
   *     return Bracket({}, ...)
   *   end,
   *   __add = function(...)
   *     return Add({}, ...)
   *   end,
   *   __mul = function(...)
   *     return Mul({}, ...)
   *   end,
   *   __mod = function(...)
   *     return Mod({}, ...)
   *   end,
   *   __sub = function(...)
   *     return Sub({}, ...)
   *   end,
   *   __div = function(...)
   *     return Div({}, ...)
   *   end
   * } */
  lc_newclosuretable(L,(lc28 + lc_nextra));
  enum { lc827 = 31 };
  assert((lua_gettop(L) == (lc827 + lc_nextra)));
  lua_createtable(L,0,6);
  lua_pushliteral(L,"__call");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf830,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"__add");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf833,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"__mul");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf836,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"__mod");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf839,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"__sub");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf842,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"__div");
  lua_pushvalue(L,(lc28 + lc_nextra));
  lua_pushcclosure(L,lcf845,1);
  lua_rawset(L,-3);
  lua_rawseti(L,(lc827 + lc_nextra),180);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* function ast(name, base)
   *   for k, v in pairs(meta) do
   *     base[k] = v
   *   end
   *   return class(name, ReQLOp, base)
   * end */
  lua_pushvalue(L,(lc827 + lc_nextra));
  lua_pushcclosure(L,lcf1_ast,1);
  lua_setfield(L,LUA_ENVIRONINDEX,"ast");
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* DatumTerm = ast(
   *   'DatumTerm',
   *   {
   *     __init = function(self, val)
   *       if type(val) == 'number' then
   *         if math.abs(val) == math.huge or '' .. val == 'nan' then
   *           error('Illegal non-finite number `' .. val .. '`.')
   *         end
   *       end
   *       self.data = val
   *     end,
   *     args = {},
   *     optargs = {},
   *     compose = function(self)
   *       if type(self.data) == 'string' then
   *         return '"' .. self.data .. '"'
   *       end
   *       if self.data == nil then
   *         return 'nil'
   *       end
   *       return '' .. self.data
   *     end,
   *     build = function(self)
   *       if self.data == nil then return json.util.null end
   *       return self.data
   *     end
   *   }
   * ) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"DatumTerm");
  lua_createtable(L,0,5);
  lua_pushliteral(L,"__init");
  lua_pushcfunction(L,lcf855);
  lua_rawset(L,-3);
  lua_pushliteral(L,"args");
  lua_newtable(L);
  lua_rawset(L,-3);
  lua_pushliteral(L,"optargs");
  lua_newtable(L);
  lua_rawset(L,-3);
  lua_pushliteral(L,"compose");
  lua_pushcfunction(L,lcf862);
  lua_rawset(L,-3);
  lua_pushliteral(L,"build");
  lua_pushvalue(L,(lc827 + lc_nextra));
  lua_pushcclosure(L,lcf866,1);
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),23,8);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Add = ast('Add', {tt = 24, st = 'add'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Add");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,24);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"add");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),22,19);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* All = ast('All', {tt = 67, st = 'all'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"All");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,67);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"all");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),22,18);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Any = ast('Any', {tt = 66, st = 'any'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Any");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,66);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"any");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),22,17);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Append = ast('Append', {tt = 29, st = 'append'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Append");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,29);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"append");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),22,16);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* April = ast('April', {tt = 117, st = 'april'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"April");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,117);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"april");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),22,15);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Args = ast('Args', {tt = 154, st = 'args'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Args");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,154);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"args");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),22,14);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Asc = ast('Asc', {tt = 73, st = 'asc'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Asc");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,73);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"asc");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),22,13);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* August = ast('August', {tt = 121, st = 'august'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"August");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,121);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"august");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),22,12);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Avg = ast('Avg', {tt = 146, st = 'avg'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Avg");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,146);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"avg");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),22,11);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Between = ast('Between', {tt = 36, st = 'between'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Between");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,36);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"between");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),22,10);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Binary = ast('Binary', {tt = 155, st = 'binary'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Binary");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,155);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"binary");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),22,9);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Bracket = ast('Bracket', {tt = 170, st = 'index'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Bracket");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,170);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"index");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),21,26);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Branch = ast('Branch', {tt = 65, st = 'branch'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Branch");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,65);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"branch");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),21,25);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* ChangeAt = ast('ChangeAt', {tt = 84, st = 'change_at'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"ChangeAt");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,84);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"change_at");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),21,24);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Changes = ast('Changes', {tt = 152, st = 'changes'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Changes");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,152);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"changes");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),21,23);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Circle = ast('Circle', {tt = 165, st = 'circle'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Circle");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,165);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"circle");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),21,22);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* CoerceTo = ast('CoerceTo', {tt = 51, st = 'coerce_to'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"CoerceTo");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,51);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"coerce_to");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),21,21);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* ConcatMap = ast('ConcatMap', {tt = 40, st = 'concat_map'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"ConcatMap");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,40);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"concat_map");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),21,20);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Contains = ast('Contains', {tt = 93, st = 'contains'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Contains");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,93);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"contains");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),20,35);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Count = ast('Count', {tt = 43, st = 'count'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Count");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,43);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"count");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),20,34);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Date = ast('Date', {tt = 106, st = 'date'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Date");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,106);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"date");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),20,33);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Day = ast('Day', {tt = 130, st = 'day'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Day");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,130);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"day");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),20,32);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* DayOfWeek = ast('DayOfWeek', {tt = 131, st = 'day_of_week'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"DayOfWeek");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,131);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"day_of_week");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),20,31);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* DayOfYear = ast('DayOfYear', {tt = 132, st = 'day_of_year'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"DayOfYear");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,132);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"day_of_year");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),20,30);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Db = ast('Db', {tt = 14, st = 'db'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Db");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,14);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"db");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),20,29);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* DbCreate = ast('DbCreate', {tt = 57, st = 'db_create'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"DbCreate");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,57);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"db_create");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),20,28);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* DbDrop = ast('DbDrop', {tt = 58, st = 'db_drop'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"DbDrop");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,58);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"db_drop");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),20,27);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* DbList = ast('DbList', {tt = 59, st = 'db_list'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"DbList");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,59);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"db_list");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),19,43);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* December = ast('December', {tt = 125, st = 'december'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"December");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,125);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"december");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),19,42);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Default = ast('Default', {tt = 92, st = 'default'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Default");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,92);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"default");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),19,41);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Delete = ast('Delete', {tt = 54, st = 'delete'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Delete");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,54);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"delete");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),19,40);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* DeleteAt = ast('DeleteAt', {tt = 83, st = 'delete_at'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"DeleteAt");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,83);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"delete_at");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),19,39);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Desc = ast('Desc', {tt = 74, st = 'desc'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Desc");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,74);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"desc");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),19,38);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Difference = ast('Difference', {tt = 95, st = 'difference'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Difference");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,95);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"difference");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),19,37);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Distance = ast('Distance', {tt = 162, st = 'distance'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Distance");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,162);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"distance");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),19,36);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Distinct = ast('Distinct', {tt = 42, st = 'distinct'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Distinct");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,42);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"distinct");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),18,52);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Div = ast('Div', {tt = 27, st = 'div'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Div");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,27);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"div");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),18,51);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Do = ast('Do', {tt = 64, st = 'do_'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Do");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,64);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"do_");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),18,50);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Downcase = ast('Downcase', {tt = 142, st = 'downcase'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Downcase");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,142);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"downcase");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),18,49);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* During = ast('During', {tt = 105, st = 'during'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"During");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,105);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"during");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),18,48);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* EpochTime = ast('EpochTime', {tt = 101, st = 'epoch_time'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"EpochTime");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,101);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"epoch_time");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),18,47);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Eq = ast('Eq', {tt = 17, st = 'eq'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Eq");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,17);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"eq");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),18,46);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* EqJoin = ast('EqJoin', {tt = 50, st = 'eq_join'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"EqJoin");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,50);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"eq_join");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),18,45);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Error = ast('Error', {tt = 12, st = 'error_'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Error");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,12);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"error_");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),18,44);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* February = ast('February', {tt = 115, st = 'february'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"February");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,115);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"february");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),17,62);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Fill = ast('Fill', {tt = 167, st = 'fill'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Fill");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,167);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"fill");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),17,61);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Filter = ast('Filter', {tt = 39, st = 'filter'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Filter");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,39);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"filter");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),17,60);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* ForEach = ast('ForEach', {tt = 68, st = 'for_each'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"ForEach");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,68);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"for_each");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),17,59);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Friday = ast('Friday', {tt = 111, st = 'friday'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Friday");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,111);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"friday");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),17,58);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Func = ast('Func', {tt = 69, st = 'func'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Func");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,69);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"func");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),17,57);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Ge = ast('Ge', {tt = 22, st = 'ge'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Ge");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,22);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"ge");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),17,56);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Geojson = ast('Geojson', {tt = 157, st = 'geojson'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Geojson");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,157);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"geojson");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),17,55);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Get = ast('Get', {tt = 16, st = 'get'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Get");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,16);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"get");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),17,54);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* GetAll = ast('GetAll', {tt = 78, st = 'get_all'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"GetAll");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,78);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"get_all");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),17,53);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* GetField = ast('GetField', {tt = 31, st = 'get_field'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"GetField");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,31);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"get_field");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),16,70);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* GetIntersecting = ast('GetIntersecting', {tt = 166, st = 'get_intersecting'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"GetIntersecting");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,166);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"get_intersecting");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),16,69);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* GetNearest = ast('GetNearest', {tt = 168, st = 'get_nearest'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"GetNearest");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,168);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"get_nearest");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),16,68);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Group = ast('Group', {tt = 144, st = 'group'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Group");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,144);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"group");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),16,67);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Gt = ast('Gt', {tt = 21, st = 'gt'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Gt");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,21);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"gt");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),16,66);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* HasFields = ast('HasFields', {tt = 32, st = 'has_fields'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"HasFields");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,32);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"has_fields");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),16,65);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Hours = ast('Hours', {tt = 133, st = 'hours'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Hours");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,133);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"hours");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),16,64);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Http = ast('Http', {tt = 153, st = 'http'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Http");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,153);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"http");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),16,63);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* ISO8601 = ast('ISO8601', {tt = 99, st = 'iso8601'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"ISO8601");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,99);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"iso8601");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),15,76);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* InTimezone = ast('InTimezone', {tt = 104, st = 'in_timezone'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"InTimezone");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,104);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"in_timezone");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),15,75);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Includes = ast('Includes', {tt = 164, st = 'includes'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Includes");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,164);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"includes");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),15,74);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* IndexCreate = ast('IndexCreate', {tt = 75, st = 'index_create'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"IndexCreate");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,75);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"index_create");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),15,73);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* IndexDrop = ast('IndexDrop', {tt = 76, st = 'index_drop'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"IndexDrop");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,76);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"index_drop");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),15,72);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* IndexList = ast('IndexList', {tt = 77, st = 'index_list'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"IndexList");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,77);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"index_list");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),15,71);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* IndexRename = ast('IndexRename', {tt = 156, st = 'index_rename'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"IndexRename");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,156);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"index_rename");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),14,83);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* IndexStatus = ast('IndexStatus', {tt = 139, st = 'index_status'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"IndexStatus");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,139);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"index_status");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),14,82);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* IndexWait = ast('IndexWait', {tt = 140, st = 'index_wait'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"IndexWait");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,140);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"index_wait");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),14,81);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* IndexesOf = ast('IndexesOf', {tt = 87, st = 'indexes_of'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"IndexesOf");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,87);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"indexes_of");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),14,80);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Info = ast('Info', {tt = 79, st = 'info'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Info");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,79);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"info");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),14,79);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* InnerJoin = ast('InnerJoin', {tt = 48, st = 'inner_join'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"InnerJoin");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,48);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"inner_join");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),14,78);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Insert = ast('Insert', {tt = 56, st = 'insert'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Insert");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,56);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"insert");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),14,77);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* InsertAt = ast('InsertAt', {tt = 82, st = 'insert_at'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"InsertAt");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,82);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"insert_at");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),13,91);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Intersects = ast('Intersects', {tt = 163, st = 'intersects'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Intersects");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,163);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"intersects");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),13,90);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* IsEmpty = ast('IsEmpty', {tt = 86, st = 'is_empty'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"IsEmpty");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,86);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"is_empty");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),13,89);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* January = ast('January', {tt = 114, st = 'january'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"January");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,114);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"january");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),13,88);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* JavaScript = ast('JavaScript', {tt = 11, st = 'js'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"JavaScript");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,11);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"js");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),13,87);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Json = ast('Json', {tt = 98, st = 'json'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Json");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,98);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"json");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),13,86);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* July = ast('July', {tt = 120, st = 'july'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"July");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,120);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"july");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),13,85);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* June = ast('June', {tt = 119, st = 'june'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"June");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,119);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"june");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),13,84);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Keys = ast('Keys', {tt = 94, st = 'keys'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Keys");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,94);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"keys");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),12,101);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Le = ast('Le', {tt = 20, st = 'le'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Le");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,20);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"le");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),12,100);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Limit = ast('Limit', {tt = 71, st = 'limit'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Limit");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,71);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"limit");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),12,99);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Line = ast('Line', {tt = 160, st = 'line'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Line");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,160);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"line");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),12,98);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Literal = ast('Literal', {tt = 137, st = 'literal'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Literal");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,137);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"literal");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),12,97);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Lt = ast('Lt', {tt = 19, st = 'lt'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Lt");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,19);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"lt");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),12,96);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* MakeArray = ast('MakeArray', {tt = 2, st = 'array'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"MakeArray");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,2);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"array");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),12,95);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* MakeObj = ast('MakeObj', {tt = 3, st = 'make_obj'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"MakeObj");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,3);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"make_obj");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),12,94);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Map = ast('Map', {tt = 38, st = 'map'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Map");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,38);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"map");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),12,93);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* March = ast('March', {tt = 116, st = 'march'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"March");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,116);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"march");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),12,92);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Match = ast('Match', {tt = 97, st = 'match'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Match");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,97);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"match");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),11,113);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Max = ast('Max', {tt = 148, st = 'max'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Max");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,148);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"max");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),11,112);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* May = ast('May', {tt = 118, st = 'may'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"May");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,118);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"may");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),11,111);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Merge = ast('Merge', {tt = 35, st = 'merge'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Merge");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,35);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"merge");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),11,110);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Min = ast('Min', {tt = 147, st = 'min'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Min");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,147);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"min");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),11,109);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Minutes = ast('Minutes', {tt = 134, st = 'minutes'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Minutes");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,134);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"minutes");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),11,108);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Mod = ast('Mod', {tt = 28, st = 'mod'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Mod");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,28);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"mod");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),11,107);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Monday = ast('Monday', {tt = 107, st = 'monday'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Monday");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,107);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"monday");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),11,106);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Month = ast('Month', {tt = 129, st = 'month'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Month");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,129);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"month");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),11,105);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Mul = ast('Mul', {tt = 26, st = 'mul'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Mul");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,26);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"mul");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),11,104);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Ne = ast('Ne', {tt = 18, st = 'ne'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Ne");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,18);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"ne");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),11,103);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Not = ast('Not', {tt = 23, st = 'not_'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Not");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,23);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"not_");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),11,102);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* November = ast('November', {tt = 124, st = 'november'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"November");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,124);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"november");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),10,122);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Now = ast('Now', {tt = 103, st = 'now'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Now");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,103);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"now");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),10,121);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Nth = ast('Nth', {tt = 45, st = 'nth'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Nth");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,45);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"nth");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),10,120);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Object = ast('Object', {tt = 143, st = 'object'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Object");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,143);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"object");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),10,119);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* October = ast('October', {tt = 123, st = 'october'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"October");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,123);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"october");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),10,118);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* OrderBy = ast('OrderBy', {tt = 41, st = 'order_by'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"OrderBy");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,41);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"order_by");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),10,117);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* OuterJoin = ast('OuterJoin', {tt = 49, st = 'outer_join'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"OuterJoin");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,49);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"outer_join");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),10,116);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Pluck = ast('Pluck', {tt = 33, st = 'pluck'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Pluck");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,33);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"pluck");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),10,115);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Point = ast('Point', {tt = 159, st = 'point'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Point");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,159);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"point");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),10,114);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Polygon = ast('Polygon', {tt = 161, st = 'polygon'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Polygon");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,161);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"polygon");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),9,130);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* PolygonSub = ast('PolygonSub', {tt = 171, st = 'polygon_sub'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"PolygonSub");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,171);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"polygon_sub");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),9,129);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Prepend = ast('Prepend', {tt = 80, st = 'prepend'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Prepend");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,80);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"prepend");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),9,128);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Random = ast('Random', {tt = 151, st = 'random'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Random");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,151);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"random");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),9,127);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Range = ast('Range', {tt = 173, st = 'range'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Range");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,173);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"range");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),9,126);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Reduce = ast('Reduce', {tt = 37, st = 'reduce'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Reduce");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,37);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"reduce");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),9,125);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Replace = ast('Replace', {tt = 55, st = 'replace'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Replace");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,55);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"replace");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),9,124);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Sample = ast('Sample', {tt = 81, st = 'sample'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Sample");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,81);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"sample");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),9,123);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Saturday = ast('Saturday', {tt = 112, st = 'saturday'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Saturday");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,112);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"saturday");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),8,136);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Seconds = ast('Seconds', {tt = 135, st = 'seconds'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Seconds");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,135);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"seconds");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),8,135);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* September = ast('September', {tt = 122, st = 'september'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"September");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,122);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"september");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),8,134);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* SetDifference = ast('SetDifference', {tt = 91, st = 'set_difference'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"SetDifference");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,91);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"set_difference");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),8,133);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* SetInsert = ast('SetInsert', {tt = 88, st = 'set_insert'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"SetInsert");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,88);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"set_insert");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),8,132);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* SetIntersection = ast('SetIntersection', {tt = 89, st = 'set_intersection'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"SetIntersection");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,89);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"set_intersection");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),8,131);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* SetUnion = ast('SetUnion', {tt = 90, st = 'set_union'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"SetUnion");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,90);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"set_union");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),7,146);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Skip = ast('Skip', {tt = 70, st = 'skip'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Skip");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,70);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"skip");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),7,145);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Slice = ast('Slice', {tt = 30, st = 'slice'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Slice");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,30);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"slice");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),7,144);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* SpliceAt = ast('SpliceAt', {tt = 85, st = 'splice_at'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"SpliceAt");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,85);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"splice_at");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),7,143);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Split = ast('Split', {tt = 149, st = 'split'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Split");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,149);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"split");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),7,142);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Sub = ast('Sub', {tt = 25, st = 'sub'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Sub");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,25);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"sub");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),7,141);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Sum = ast('Sum', {tt = 145, st = 'sum'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Sum");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,145);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"sum");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),7,140);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Sunday = ast('Sunday', {tt = 113, st = 'sunday'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Sunday");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,113);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"sunday");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),7,139);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Sync = ast('Sync', {tt = 138, st = 'sync'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Sync");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,138);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"sync");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),7,138);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Table = ast('Table', {tt = 15, st = 'table'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Table");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,15);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"table");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),7,137);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* TableCreate = ast('TableCreate', {tt = 60, st = 'table_create'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"TableCreate");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,60);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"table_create");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),6,153);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* TableDrop = ast('TableDrop', {tt = 61, st = 'table_drop'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"TableDrop");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,61);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"table_drop");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),6,152);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* TableList = ast('TableList', {tt = 62, st = 'table_list'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"TableList");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,62);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"table_list");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),6,151);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Thursday = ast('Thursday', {tt = 110, st = 'thursday'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Thursday");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,110);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"thursday");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),6,150);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Time = ast('Time', {tt = 136, st = 'time'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Time");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,136);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"time");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),6,149);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* TimeOfDay = ast('TimeOfDay', {tt = 126, st = 'time_of_day'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"TimeOfDay");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,126);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"time_of_day");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),6,148);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Timezone = ast('Timezone', {tt = 127, st = 'timezone'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Timezone");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,127);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"timezone");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),6,147);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* ToEpochTime = ast('ToEpochTime', {tt = 102, st = 'to_epoch_time'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"ToEpochTime");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,102);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"to_epoch_time");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),5,160);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* ToGeojson = ast('ToGeojson', {tt = 158, st = 'to_geojson'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"ToGeojson");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,158);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"to_geojson");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),5,159);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* ToISO8601 = ast('ToISO8601', {tt = 100, st = 'to_iso8601'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"ToISO8601");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,100);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"to_iso8601");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),5,158);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* ToJsonString = ast('ToJsonString', {tt = 172, st = 'to_json_string'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"ToJsonString");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,172);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"to_json_string");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),5,157);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Tuesday = ast('Tuesday', {tt = 108, st = 'tuesday'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Tuesday");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,108);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"tuesday");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),5,156);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* TypeOf = ast('TypeOf', {tt = 52, st = 'type_of'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"TypeOf");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,52);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"type_of");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),5,155);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* UUID = ast('UUID', {tt = 169, st = 'uuid'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"UUID");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,169);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"uuid");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),5,154);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Ungroup = ast('Ungroup', {tt = 150, st = 'ungroup'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Ungroup");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,150);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"ungroup");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),4,168);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Union = ast('Union', {tt = 44, st = 'union'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Union");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,44);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"union");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),4,167);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Upcase = ast('Upcase', {tt = 141, st = 'upcase'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Upcase");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,141);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"upcase");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),4,166);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Update = ast('Update', {tt = 53, st = 'update'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Update");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,53);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"update");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),4,165);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Var = ast('Var', {tt = 10, st = 'var'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Var");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,10);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"var");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),4,164);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Wednesday = ast('Wednesday', {tt = 109, st = 'wednesday'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Wednesday");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,109);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"wednesday");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),4,163);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* WithFields = ast('WithFields', {tt = 96, st = 'with_fields'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"WithFields");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,96);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"with_fields");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),4,162);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Without = ast('Without', {tt = 34, st = 'without'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Without");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,34);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"without");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),4,161);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Year = ast('Year', {tt = 128, st = 'year'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Year");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,128);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"year");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),3,170);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Zip = ast('Zip', {tt = 72, st = 'zip'}) */
  lua_getfield(L,LUA_ENVIRONINDEX,"ast");
  lua_pushliteral(L,"Zip");
  lua_createtable(L,0,2);
  lua_pushliteral(L,"tt");
  lua_pushnumber(L,72);
  lua_rawset(L,-3);
  lua_pushliteral(L,"st");
  lua_pushliteral(L,"zip");
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),3,169);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Cursor = class(
   *   'Cursor',
   *   {
   *     __init = function(self, conn, token, opts, root)
   *       self._conn = conn
   *       self._token = token
   *       self._opts = opts
   *       self._root = root -- current query
   *       self._responses = {}
   *       self._response_index = 1
   *       self._cont_flag = true
   *     end,
   *     _add_response = function(self, response)
   *       local t = response.t
   *       if not self._type then self._type = t end
   *       if response.r[1] or t == 4 then
   *         table.insert(self._responses, response)
   *       end
   *       if t ~= 3 and t ~= 5 then
   *         -- We got an error, SUCCESS_SEQUENCE, WAIT_COMPLETE, or a SUCCESS_ATOM
   *         self._end_flag = true
   *         self._conn:_del_query(self._token)
   *       end
   *       self._cont_flag = false
   *     end,
   *     _prompt_cont = function(self)
   *       if self._end_flag then return end
   *       -- Let's ask the server for more data if we haven't already
   *       if not self._cont_flag then
   *         self._cont_flag = true
   *         self._conn:_continue_query(self._token)
   *       end
   *       self._conn:_get_response(self._token)
   *     end,
   *     -- Implement IterableResult
   *     next = function(self, callback)
   *       local cb = function(err, row)
   *         if type(err) == 'number' then error('' .. err) end
   *         return callback(err, row)
   *       end
   *       -- Try to get a row out of the responses
   *       while not self._responses[1] do
   *         if self._end_flag then
   *           return cb(ReQLDriverError('No more rows in the cursor.'))
   *         end
   *         self:_prompt_cont()
   *       end
   *       local response = self._responses[1]
   *       -- Behavior varies considerably based on response type
   *       -- Error responses are not discarded, and the error will be sent to all future callbacks
   *       local t = response.t
   *       if t == 1 or t == 3 or t == 5 or t == 2 then
   *         local err
   * 
   *         local status, row = pcall(
   *           recursively_convert_pseudotype,
   *           response.r[self._response_index],
   *           self._opts
   *         )
   *         if not status then
   *           err = row
   *           row = response.r[self._response_index]
   *         end
   * 
   *         self._response_index = self._response_index + 1
   * 
   *         -- If we're done with this response, discard it
   *         if not response.r[self._response_index] then
   *           table.remove(self._responses, 1)
   *           self._response_index = 1
   *         end
   * 
   *         return cb(err, row)
   *       elseif t == 17 then
   *         return cb(ReQLCompileError(response.r[1], self._root, response.b))
   *       elseif t == 16 then
   *         return cb(ReQLClientError(response.r[1], self._root, response.b))
   *       elseif t == 18 then
   *         return cb(ReQLRuntimeError(response.r[1], self._root, response.b))
   *       elseif t == 4 then
   *         return cb(nil, nil)
   *       end
   *       return cb(ReQLDriverError('Unknown response type ' .. t))
   *     end,
   *     close = function(self, callback)
   *       if not self._end_flag then
   *         self._conn:_end_query(self._token)
   *       end
   *       if callback then return callback() end
   *     end,
   *     each = function(self, callback, on_finished)
   *       if type(callback) ~= 'function' then
   *         error('First argument to each must be a function.')
   *       end
   *       if on_finished and type(on_finished) ~= 'function' then
   *         error('Optional second argument to each must be a function.')
   *       end
   *       local cb = function(row)
   *         return callback(row)
   *       end
   *       function next_cb(err, data)
   *         if err then
   *           if err.message == 'ReQLDriverError No more rows in the cursor.' then
   *             err = nil
   *           end
   *           if on_finished then
   *             return on_finished(err)
   *           end
   *         else
   *           cb(data)
   *           return self:next(next_cb)
   *         end
   *       end
   *       return self:next(next_cb)
   *     end,
   *     to_array = function(self, callback)
   *       if not self._type then self:_prompt_cont() end
   *       if self._type == 5 then
   *         return cb(ReQLDriverError('`to_array` is not available for feeds.'))
   *       end
   *       local cb = function(err, arr)
   *         return callback(err, arr)
   *       end
   *       local arr = {}
   *       return self:each(
   *         function(row)
   *           table.insert(arr, row)
   *         end,
   *         function(err)
   *           return cb(err, arr)
   *         end
   *       )
   *     end,
   *   }
   * ) */
  lua_getfield(L,LUA_ENVIRONINDEX,"class");
  lua_pushliteral(L,"Cursor");
  lua_createtable(L,0,7);
  lua_pushliteral(L,"__init");
  lua_pushcfunction(L,lcf867);
  lua_rawset(L,-3);
  lua_pushliteral(L,"_add_response");
  lua_pushcfunction(L,lcf877);
  lua_rawset(L,-3);
  lua_pushliteral(L,"_prompt_cont");
  lua_pushcfunction(L,lcf882);
  lua_rawset(L,-3);
  lua_pushliteral(L,"next");
  lua_pushvalue(L,(lc827 + lc_nextra));
  lua_pushcclosure(L,lcf925,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"close");
  lua_pushcfunction(L,lcf930);
  lua_rawset(L,-3);
  lua_pushliteral(L,"each");
  lua_pushcfunction(L,lcf949);
  lua_rawset(L,-3);
  lua_pushliteral(L,"to_array");
  lua_pushvalue(L,(lc827 + lc_nextra));
  lua_pushcclosure(L,lcf965,1);
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),24,5);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* Connection = class(
   *   'Connection',
   *   {
   *     __init = function(self, host_or_callback, callback)
   *       local host = {}
   *       if type(host_or_callback) == 'function' then
   *         callback = host_or_callback
   *       elseif type(host_or_callback) == 'string' then
   *         host = {host = host_or_callback}
   *       else
   *         host = host_or_callback
   *       end
   *       local cb = function(err, conn)
   *         if callback then
   *           local res = callback(err, conn)
   *           conn:close({noreply_wait = false})
   *           return res
   *         end
   *         return conn, err
   *       end
   *       self.host = host.host or self.DEFAULT_HOST
   *       self.port = host.port or self.DEFAULT_PORT
   *       self.db = host.db -- left nil if this is not set
   *       self.auth_key = host.auth_key or self.DEFAULT_AUTH_KEY
   *       self.timeout = host.timeout or self.DEFAULT_TIMEOUT
   *       self.outstanding_callbacks = {}
   *       self.next_token = 1
   *       self.open = false
   *       self.buffer = ''
   *       self._events = self._events or {}
   *       if self.raw_socket then
   *         self:close({
   *           noreply_wait = false
   *         })
   *       end
   *       self.raw_socket = socket.tcp()
   *       self.raw_socket:settimeout(self.timeout)
   *       local status, err = self.raw_socket:connect(self.host, self.port)
   *       if status then
   *         local buf, err, partial
   *         -- Initialize connection with magic number to validate version
   *         self.raw_socket:send(
   *           '\62\232\117\95' ..
   *           int_to_bytes(#self.auth_key, 4) ..
   *           self.auth_key ..
   *           '\199\112\105\126'
   *         )
   * 
   *         -- Now we have to wait for a response from the server
   *         -- acknowledging the connection
   *         while 1 do
   *           buf, err, partial = self.raw_socket:receive(8)
   *           buf = buf or partial
   *           if not buf then
   *             return cb(ReQLDriverError('Server dropped connection with message:  \'' .. status_str .. '\'\n' .. err))
   *           end
   *           self.buffer = self.buffer .. buf
   *           i, j = buf:find('\0')
   *           if i then
   *             local status_str = self.buffer:sub(1, i - 1)
   *             self.buffer = self.buffer:sub(i + 1)
   *             if status_str == 'SUCCESS' then
   *               -- We're good, finish setting up the connection
   *               self.open = true
   *               return cb(nil, self)
   *             end
   *             return cb(ReQLDriverError('Server dropped connection with message: \'' .. status_str .. '\''))
   *           end
   *         end
   *       end
   *       return cb(ReQLDriverError('Could not connect to ' .. self.host .. ':' .. self.port .. '.\n' .. err))
   *     end,
   *     DEFAULT_HOST = 'localhost',
   *     DEFAULT_PORT = 28015,
   *     DEFAULT_AUTH_KEY = '',
   *     DEFAULT_TIMEOUT = 20, -- In seconds
   *     _get_response = function(self, reqest_token)
   *       local response_length = 0
   *       local token = 0
   *       local buf, err, partial
   *       -- Buffer data, execute return results if need be
   *       while true do
   *         buf, err, partial = self.raw_socket:receive(
   *           math.max(12, response_length)
   *         )
   *         buf = buf or partial
   *         if (not buf) and err then
   *           return self:_process_response(
   *             {
   *               t = 16,
   *               r = {'connection returned: ' .. err},
   *               b = {}
   *             },
   *             reqest_token
   *           )
   *         end
   *         self.buffer = self.buffer .. buf
   *         if response_length > 0 then
   *           if #self.buffer >= response_length then
   *             local response_buffer = string.sub(self.buffer, 1, response_length)
   *             self.buffer = string.sub(self.buffer, response_length + 1)
   *             response_length = 0
   *             self:_process_response(json.decode(response_buffer), token)
   *             if token == reqest_token then return end
   *           end
   *         else
   *           if #self.buffer >= 12 then
   *             token = bytes_to_int(self.buffer:sub(1, 8))
   *             response_length = bytes_to_int(self.buffer:sub(9, 12))
   *             self.buffer = self.buffer:sub(13)
   *           end
   *         end
   *       end
   *     end,
   *     _del_query = function(self, token)
   *       -- This query is done, delete this cursor
   *       self.outstanding_callbacks[token].cursor = nil
   *     end,
   *     _process_response = function(self, response, token)
   *       local cursor = self.outstanding_callbacks[token]
   *       if not cursor then
   *         -- Unexpected token
   *         error('Unexpected token ' .. token .. '.')
   *       end
   *       cursor = cursor.cursor
   *       if cursor then
   *         return cursor:_add_response(response)
   *       end
   *     end,
   *     close = function(self, opts_or_callback, callback)
   *       local opts = {}
   *       local cb
   *       if callback then
   *         if type(opts_or_callback) ~= 'table' then
   *           error('First argument to two-argument `close` must be a table.')
   *         end
   *         opts = opts_or_callback
   *         cb = callback
   *       elseif type(opts_or_callback) == 'table' then
   *         opts = opts_or_callback
   *       elseif type(opts_or_callback) == 'function' then
   *         cb = opts_or_callback
   *       end
   * 
   *       function wrapped_cb(err)
   *         self.open = false
   *         self.raw_socket:shutdown()
   *         self.raw_socket:close()
   *         if cb then
   *           return cb(err)
   *         end
   *         return nil, err
   *       end
   * 
   *       local noreply_wait = opts.noreply_wait and self.open
   * 
   *       if noreply_wait then
   *         return self:noreply_wait(wrapped_cb)
   *       end
   *       return wrapped_cb()
   *     end,
   *     noreply_wait = function(self, callback)
   *       local cb = function(err, cur)
   *         if cur then
   *           return cur.next(function(err) return callback(err) end)
   *         end
   *         return callback(err)
   *       end
   *       if not self.open then
   *         return cb(ReQLDriverError('Connection is closed.'))
   *       end
   * 
   *       -- Assign token
   *       local token = self.next_token
   *       self.next_token = self.next_token + 1
   * 
   *       -- Save cursor
   *       local cursor = Cursor(self, token, {})
   * 
   *       -- Save cursor
   *       self.outstanding_callbacks[token] = {cursor = cursor}
   * 
   *       -- Construct query
   *       self:_send_query(token, {4})
   * 
   *       return cb(nil, cursor)
   *     end,
   *     reconnect = function(self, opts_or_callback, callback)
   *       local opts = {}
   *       if callback or not type(opts_or_callback) == 'function' then
   *         opts = opts_or_callback
   *       else
   *         callback = opts_or_callback
   *       end
   *       return self:close(opts, function()
   *         return Connection(self, callback)
   *       end)
   *     end,
   *     use = function(self, db)
   *       self.db = db
   *     end,
   *     _start = function(self, term, callback, opts)
   *       local cb = function(err, cur)
   *         local res
   *         if type(callback) == 'function' and not opts.noreply then
   *           res = callback(err, cur)
   *         else
   *           if err then
   *             error(err.message)
   *           end
   *         end
   *         cur:close()
   *         return res
   *       end
   *       if not self.open then
   *         cb(ReQLDriverError('Connection is closed.'))
   *       end
   * 
   *       -- Assign token
   *       local token = self.next_token
   *       self.next_token = self.next_token + 1
   * 
   *       -- Set global options
   *       local global_opts = {}
   * 
   *       for k, v in pairs(opts) do
   *         global_opts[k] = r(v):build()
   *       end
   * 
   *       if opts.db then
   *         global_opts.db = r.db(opts.db):build()
   *       elseif self.db then
   *         global_opts.db = r.db(self.db):build()
   *       end
   * 
   *       -- Construct query
   *       local query = {1, term:build(), global_opts}
   * 
   *       local cursor = Cursor(self, token, opts, term)
   * 
   *       -- Save cursor
   *       self.outstanding_callbacks[token] = {cursor = cursor}
   *       self:_send_query(token, query)
   *       return cb(nil, cursor)
   *     end,
   *     _continue_query = function(self, token)
   *       self:_send_query(token, {2})
   *     end,
   *     _end_query = function(self, token)
   *       self:_del_query(token)
   *       self:_send_query(token, {3})
   *     end,
   *     _send_query = function(self, token, query)
   *       local data = json.encode(query)
   *       self.raw_socket:send(
   *         int_to_bytes(token, 8) ..
   *         int_to_bytes(#data, 4) ..
   *         data
   *       )
   *     end
   *   }
   * ) */
  lua_getfield(L,LUA_ENVIRONINDEX,"class");
  lua_pushliteral(L,"Connection");
  lua_createtable(L,0,16);
  lua_pushliteral(L,"__init");
  lua_pushvalue(L,(lc827 + lc_nextra));
  lua_pushcclosure(L,lcf994,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"DEFAULT_HOST");
  lua_pushliteral(L,"localhost");
  lua_rawset(L,-3);
  lua_pushliteral(L,"DEFAULT_PORT");
  lua_pushnumber(L,28015);
  lua_rawset(L,-3);
  lua_pushliteral(L,"DEFAULT_AUTH_KEY");
  lua_pushliteral(L,"");
  lua_rawset(L,-3);
  lua_pushliteral(L,"DEFAULT_TIMEOUT");
  lua_pushnumber(L,20);
  lua_rawset(L,-3);
  lua_pushliteral(L,"_get_response");
  lua_pushvalue(L,(lc827 + lc_nextra));
  lua_pushcclosure(L,lcf1016,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"_del_query");
  lua_pushcfunction(L,lcf1017);
  lua_rawset(L,-3);
  lua_pushliteral(L,"_process_response");
  lua_pushcfunction(L,lcf1022);
  lua_rawset(L,-3);
  lua_pushliteral(L,"close");
  lua_pushcfunction(L,lcf1041);
  lua_rawset(L,-3);
  lua_pushliteral(L,"noreply_wait");
  lua_pushvalue(L,(lc827 + lc_nextra));
  lua_pushcclosure(L,lcf1053,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"reconnect");
  lua_pushvalue(L,(lc827 + lc_nextra));
  lua_pushcclosure(L,lcf1061,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"use");
  lua_pushcfunction(L,lcf1062);
  lua_rawset(L,-3);
  lua_pushliteral(L,"_start");
  lua_pushvalue(L,(lc827 + lc_nextra));
  lua_pushcclosure(L,lcf1077,1);
  lua_rawset(L,-3);
  lua_pushliteral(L,"_continue_query");
  lua_pushcfunction(L,lcf1078);
  lua_rawset(L,-3);
  lua_pushliteral(L,"_end_query");
  lua_pushcfunction(L,lcf1079);
  lua_rawset(L,-3);
  lua_pushliteral(L,"_send_query");
  lua_pushvalue(L,(lc827 + lc_nextra));
  lua_pushcclosure(L,lcf1081,1);
  lua_rawset(L,-3);
  lua_call(L,2,1);
  lc_setupvalue(L,(lc827 + lc_nextra),24,6);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* -- Add connect
   * r.connect = function(...)
   *   return Connection(...)
   * end */
  lua_pushvalue(L,(lc827 + lc_nextra));
  lua_pushcclosure(L,lcf1_r_connect,1);
  lc_getupvalue(L,(lc827 + lc_nextra),25,4);
  lua_insert(L,-2);
  lua_pushliteral(L,"connect");
  lua_insert(L,-2);
  lua_settable(L,-3);
  lua_pop(L,1);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* -- Export ReQL Errors
   * r.error = {
   *   ReQLError = ReQLError,
   *   ReQLDriverError = ReQLDriverError,
   *   ReQLServerError = ReQLServerError,
   *   ReQLRuntimeError = ReQLRuntimeError,
   *   ReQLCompileError = ReQLCompileError,
   *   ReQLClientError = ReQLClientError
   * } */
  lua_createtable(L,0,6);
  lua_pushliteral(L,"ReQLError");
  lua_pushvalue(L,(30 + lc_nextra));
  lua_rawset(L,-3);
  lua_pushliteral(L,"ReQLDriverError");
  lc_getupvalue(L,(lc827 + lc_nextra),2,173);
  lua_rawset(L,-3);
  lua_pushliteral(L,"ReQLServerError");
  lua_pushvalue(L,(28 + lc_nextra));
  lua_rawset(L,-3);
  lua_pushliteral(L,"ReQLRuntimeError");
  lc_getupvalue(L,(lc827 + lc_nextra),2,172);
  lua_rawset(L,-3);
  lua_pushliteral(L,"ReQLCompileError");
  lc_getupvalue(L,(lc827 + lc_nextra),2,171);
  lua_rawset(L,-3);
  lua_pushliteral(L,"ReQLClientError");
  lc_getupvalue(L,(lc827 + lc_nextra),1,175);
  lua_rawset(L,-3);
  lc_getupvalue(L,(lc827 + lc_nextra),25,4);
  lua_insert(L,-2);
  lua_pushliteral(L,"error");
  lua_insert(L,-2);
  lua_settable(L,-3);
  lua_pop(L,1);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* -- Export class introspection
   * r.is_instance = is_instance */
  lua_getfield(L,LUA_ENVIRONINDEX,"is_instance");
  lc_getupvalue(L,(lc827 + lc_nextra),25,4);
  lua_insert(L,-2);
  lua_pushliteral(L,"is_instance");
  lua_insert(L,-2);
  lua_settable(L,-3);
  lua_pop(L,1);
  assert(lua_gettop(L) - lc_nextra == 31);
  
  /* -- Export all names defined on r
   * return r */
  lc_getupvalue(L,(lc827 + lc_nextra),25,4);
  return 1;
  assert(lua_gettop(L) - lc_nextra == 31);
}


/* from lua.c */
static int traceback (lua_State *L) {
  if (!lua_isstring(L, 1))  /* 'message' not a string? */
    return 1;  /* keep it intact */
  lua_getfield(L, LUA_GLOBALSINDEX, "debug");
  if (!lua_istable(L, -1)) {
    lua_pop(L, 1);
    return 1;
  }
  lua_getfield(L, -1, "traceback");
  if (!lua_isfunction(L, -1)) {
    lua_pop(L, 2);
    return 1;
  }
  lua_pushvalue(L, 1);  /* pass error message */
  lua_pushinteger(L, 2);  /* skip this function and traceback */
  lua_call(L, 2, 1);  /* call debug.traceback */
  return 1;
}


static void lc_l_message (const char *pname, const char *msg) {
  if (pname) fprintf(stderr, "%s: ", pname);
  fprintf(stderr, "%s\n", msg);
  fflush(stderr);
}

static int lc_report (lua_State *L, int status) {
  if (status && !lua_isnil(L, -1)) {
    const char *msg = lua_tostring(L, -1);
    if (msg == NULL) msg = "(error object is not a string)";
    /*FIX-IMROVE:progname*/
    lc_l_message("lua", msg);
    lua_pop(L, 1);
  }
  return status;
}

static int lc_docall (lua_State *L, int narg, int clear) {
  int status;
  int base = lua_gettop(L) - narg;  /* function index */
  lua_pushcfunction(L, traceback);  /* push traceback function */
  lua_insert(L, base);  /* put it under chunk and args */
  /*FIX? signal(SIGINT, laction); */
  status = lua_pcall(L, narg, (clear ? 0 : LUA_MULTRET), base);
  /*FIX? signal(SIGINT, SIG_DFL); */
  lua_remove(L, base);  /* remove traceback function */
  /* force a complete garbage collection in case of errors */
  if (status != 0) lua_gc(L, LUA_GCCOLLECT, 0);
  return status;
}

static int lc_dofile (lua_State *L, const char *name) {
  int status = luaL_loadfile(L, name) || lc_docall(L, 0, 1);
  return lc_report(L, status);
}

static int lc_dostring (lua_State *L, const char *s, const char *name) {
  int status = luaL_loadbuffer(L, s, strlen(s), name) || lc_docall(L, 0, 1);
  return lc_report(L, status);
}

static int lc_handle_luainit (lua_State *L) {
  const char *init = getenv(LUA_INIT);
  if (init == NULL) return 0;  /* status OK */
  else if (init[0] == '@')
    return lc_dofile(L, init+1);
  else
    return lc_dostring(L, init, "=" LUA_INIT);
}


typedef struct {
  int c;
  const char ** v;
} lc_args_t;


/* create global arg table */
static void lc_createarg(lua_State * L, const lc_args_t * const args) {
  int i;
  lua_newtable(L);
  for (i=0; i < args->c; i++) {
    lua_pushstring(L, args->v[i]);
    lua_rawseti(L, -2, i);
  }
  lua_setglobal(L, "arg");
}


static int lc_pmain(lua_State * L) {
  luaL_openlibs(L);

  const lc_args_t * const args = (lc_args_t*)lua_touserdata(L, 1);
  lc_createarg(L, args);

  lua_pushcfunction(L, traceback);

  const int status1 = lc_handle_luainit(L);
  if (status1 != 0) return 0;

  /* note: IMPROVE: closure not always needed here */
  lua_newtable(L); /* closure table */
  lua_pushcclosure(L, lcf_main, 1);
  int i;
  for (i=1; i < args->c; i++) {
    lua_pushstring(L, args->v[i]);
  }
  int status2 = lua_pcall(L, args->c-1, 0, -2);
  if (status2 != 0) {
    const char * msg = lua_tostring(L,-1);
    if (msg == NULL) msg = "(error object is not a string)";
    fputs(msg, stderr);
  }
  return 0;
}


int main(int argc, const char ** argv) {
  lc_args_t args = {argc, argv};
  lua_State * L = luaL_newstate();
  if (! L) { fputs("Failed creating Lua state.", stderr); exit(1); }

  int status = lua_cpcall(L, lc_pmain, &args);
  if (status != 0) {
    fputs(lua_tostring(L,-1), stderr);
  }

  lua_close(L);
  return 0;
}


